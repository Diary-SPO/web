var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,s=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&l(e,r,t[r]);if(n)for(var r of n(t))o.call(t,r)&&l(e,r,t[r]);return e},i=(e,n)=>t(e,r(n)),c=(e,t)=>{var r={};for(var l in e)a.call(e,l)&&t.indexOf(l)<0&&(r[l]=e[l]);if(null!=e&&n)for(var l of n(e))t.indexOf(l)<0&&o.call(e,l)&&(r[l]=e[l]);return r};import{o as u,ae as d,R as p,aa as m,m as h,c as _,q as f,a4 as g,X as v,af as y,ag as b,ah as C,ai as P,a9 as R,aj as x,ak as S,al as E,am as k,an as w,ao as N,s as O,ap as I,aq as D,$ as j,v as q,S as z,a5 as A,_ as W,b as F,a as T,ar as $,as as L,u as M,ad as Y,at as B,G as V,a6 as K,au as U,av as G,aw as H,ax as X,ay as J,d as Q,az as Z}from"./index-SX1lXMFJ.js";import{A as ee}from"./AppRoot-V_DxIXDH.js";import{P as te}from"./Panel-XyuQqBP3.js";import{p as re,y as ne,h as ae,l as oe,e as le,T as se,ab as ie,ac as ce,ad as ue,ae as de,af as pe,ag as me,ah as he,ai as _e,E as fe,aj as ge,ak as ve,al as ye,am as be,an as Ce}from"./@vkontakte/icons-HJ4wZ9QE.js";import{R as Pe}from"./Removable-IH1_wYlV.js";import"./IconButton-qb_JSRES.js";const Re="_PopoutRoot_1dpsr_1",xe="_PopoutRoot__popout_1dpsr_7",Se="_PopoutRoot__modal_1dpsr_16",Ee=e=>ne("div",s({className:xe},e)),ke=e=>ne("div",s({className:Se},e)),we=e=>{var t=e,{popout:r,modal:n,children:a}=t,o=c(t,["popout","modal","children"]);const{document:l}=u();return re((()=>{r&&d(l)}),[l,r]),ne(p,i(s({},o),{baseClassName:Re}),a,ne(m,null,!!r&&ne(Ee,null,r),!!n&&ne(ke,null,n)))},Ne="_SplitLayout_v2fan_1",Oe="_SplitLayout__inner_v2fan_7",Ie="_SplitLayout__inner--header_v2fan_17",De="_SplitLayout--ios_v2fan_25",je=e=>{var t=e,{popout:r,modal:n,header:a,children:o,getRootRef:l,getRef:u,className:d}=t,p=c(t,["popout","modal","header","children","getRootRef","getRef","className"]);const m=h();return ne(we,{className:_(Ne,m===f.IOS&&De),popout:r,modal:n,getRootRef:l},a,ne("div",i(s({},p),{ref:u,className:_(Oe,!!a&&Ie,d)}),o))},qe="_SplitCol_1qmo4_1",ze="_SplitCol--spaced_1qmo4_9",Ae="_SplitCol--viewWidth-smallTabletPlus_1qmo4_13",We="_SplitCol--spaced-none_1qmo4_13",Fe="_SplitCol--spaced-auto_1qmo4_13",Te="_SplitCol--viewWidth-tabletMinus_1qmo4_23",$e="_SplitCol--stretched-on-mobile_1qmo4_23",Le="_SplitCol--fixed_1qmo4_39",Me="_SplitCol__fixedInner_1qmo4_46",Ye={none:_("_SplitCol--viewWidth-none_1qmo4_18","vkuiInternalSplitCol--viewWidth-none"),tabletMinus:Te,smallTabletPlus:Ae,tabletPlus:"vkuiInternalSplitCol--viewWidth-tabletPlus"};const Be=e=>{const t=e,{children:r,width:n,maxWidth:a,minWidth:o,spaced:l,animate:u,fixed:d,style:m,autoSpaced:h,stretchedOnMobile:f,getRootRef:E}=t,k=c(t,["children","width","maxWidth","minWidth","spaced","animate","fixed","style","autoSpaced","stretchedOnMobile","getRootRef"]),w=g(E),{viewWidth:N}=v(),O=function(e){const{viewWidth:t}=v(),[r,n]=ae(Boolean(e)),a=P();return re((()=>{if(void 0!==e)return void n(e);if(void 0!==t)return void n(t<R.TABLET);const r=()=>n(!a.smallTabletPlus.matches);return r(),x(a.smallTabletPlus,r),()=>{S(a.smallTabletPlus,r)}}),[e,t,a]),r}(u),I=y({colRef:w,animate:O});return ne(p,i(s({},k),{style:i(s({},m),{width:n,maxWidth:a,minWidth:o}),getRootRef:w,baseClassName:_(qe,C(Ye,N),l&&_(ze,"vkuiInternalSplitCol--spaced"),void 0===l&&_(We,"vkuiInternalSplitCol--spaced-none"),h&&_(Fe,"vkuiInternalSplitCol--spaced-auto"),d&&Le,f&&$e)}),ne(b.Provider,{value:I},d?ne("div",{className:Me},r):r))},Ve=({IconCompact:e,IconRegular:t})=>{const{sizeY:r}=E();return ne(oe,null,r.compact&&ne(e,{className:r.compact.className}),r.regular&&ne(t,{className:r.regular.className}))},Ke=50,Ue=e=>{let t=!1;const r=(e=>{let t=[],r=null;const n=(...n)=>{t=n,r||(r=requestAnimationFrame((()=>{r=null,e(...t)})))};return n.cancel=()=>{r&&(cancelAnimationFrame(r),r=null)},n})((function(n){const{shouldScrolling:a,y:o}=n();a?(t=!0,e.scrollBy(0,o),r(n)):(t=!1,r.cancel())}));return{tryAutoScroll:e=>{r(e)},stop:()=>{t=!1,r.cancel()},get isRunning(){return t}}},Ge=(e,t)=>{requestAnimationFrame((()=>{e.style.transform=`translateY(${t}px)`}))},He=([{el:e,draggingElRect:{height:t}},r])=>{requestAnimationFrame((()=>{"up"===r?(e.style.setProperty("transition","transform 0.3s ease-in 0s"),e.style.removeProperty("transform")):(e.style.setProperty("transition","transform 0.3s ease-out 0s"),e.style.setProperty("transform",`translateY(${t}px)`))}))},Xe=({el:e,shifted:t,draggingElRect:r})=>{const{height:n}=r;requestAnimationFrame((()=>{e.style.setProperty("pointer-events","none"),e.style.setProperty("transition","none 0s ease 0s"),t&&e.style.setProperty("transform",`translateY(${n}px)`)}))},Je=({el:e})=>{requestAnimationFrame((()=>{e.style.removeProperty("pointer-events"),e.style.removeProperty("transition"),e.style.removeProperty("transform")}))},Qe=({elRef:e,onDragFinish:t})=>{const[r,n]=ae(!1),a=le(0),o=le(0),l=le(null),s=le(0),i=le(null),c=le(void 0),u=(e,t)=>{const r=e-t;return r<0?"down":r>0?"up":c.current},d=le(-1),p=le(-1),m=le(null),h=le(null),_=le([]),f=e=>{const t=I(e,!0),{children:r}=e.parentElement||{children:[]};Array.prototype.forEach.call(r,((r,n)=>{r===e?(d.current=p.current=n,m.current={index:n,el:r,draggingElRect:t}):null!==r.getAttribute("data-draggable-placeholder")?h.current={index:n,el:r,draggingElRect:t}:_.current.push({index:n,el:r,shifted:-1!==d.current&&d.current<n,draggingElRect:t})})),h.current&&(({el:e,draggingElRect:t})=>{const{width:r,height:n}=t,a=e.cloneNode();a.style.setProperty("display","block"),a.style.setProperty("width",`${r}px`),a.style.setProperty("height",`${n}px`),a.style.setProperty("pointer-events","none"),e.appendChild(a)})(h.current),m.current&&(({el:e,draggingElRect:t})=>{const{top:r,left:n,width:a,height:o}=t;requestAnimationFrame((()=>{e.style.setProperty("pointer-events","none"),e.style.setProperty("position","fixed"),e.style.setProperty("top",`${r}px`),e.style.setProperty("left",`${n}px`),e.style.setProperty("width",`${a}px`),e.style.setProperty("height",`${o}px`),e.style.setProperty("z-index","var(--vkui_internal--z_index_cell_dragging)"),e.style.setProperty("box-sizing","border-box"),e.style.setProperty("transform","translateY(0)")}))})(m.current),_.current.forEach(Xe)},g=()=>{h.current&&(({el:e})=>{e.firstElementChild&&e.firstElementChild.remove()})(h.current),m.current&&(({el:e})=>{requestAnimationFrame((()=>{e.style.removeProperty("pointer-events"),e.style.removeProperty("position"),e.style.removeProperty("top"),e.style.removeProperty("left"),e.style.removeProperty("width"),e.style.removeProperty("height"),e.style.removeProperty("z-index"),e.style.removeProperty("box-sizing"),e.style.removeProperty("transform")}))})(m.current),_.current.forEach(Je),_.current=[],h.current=m.current=null;const e={from:d.current,to:p.current};return d.current=p.current=-1,e},v=e=>{const t=[],r=[];return p.current=d.current,_.current.forEach((n=>{const{isOverEl:a,isUnderEl:o}=((e,t)=>{const r=t.height/2;return{isUnderEl:e<=t.bottom-r,isOverEl:e>=t.top+r}})(e,I(n.el));d.current<n.index?(a&&(p.current=p.current+1,"down"===c.current&&n.shifted&&(n.shifted=!1,t.push([n,"up"]))),o&&("up"!==c.current||n.shifted||(n.shifted=!0,r.push([n,"down"])))):d.current>n.index&&(o&&(p.current=p.current-1,"up"!==c.current||n.shifted||(n.shifted=!0,t.push([n,"down"]))),a&&"down"===c.current&&n.shifted&&(n.shifted=!1,r.push([n,"up"])))})),[t,r]},y=(e,t)=>{e.forEach(He),t.forEach(He)},b=le(null),C=()=>{b.current&&(clearTimeout(b.current),b.current=null)},P=()=>{i.current&&i.current.tryAutoScroll((()=>l.current?((e,t)=>{const r=Math.floor(k(t).scrollTop),{relative:n,edges:a}=w(t),o=n.height,l=r>0,s=r<N(t)-o,[i,c]=a.y,u=e-i,d=c-e,p=u<=Ke,m=d<=Ke,h={shouldScrolling:l&&p&&u>=-30||s&&m&&d>=-30,y:0};return p?h.y=(Ke-u)/Ke*-1*10:m&&(h.y=(Ke-d)/Ke*10),h})(a.current,l.current):{shouldScrolling:!1,y:0}))},R=se((()=>{if(!e.current||!l.current)return;const t=k(l.current).scrollTop;c.current=u(s.current,t);const r=s.current-t,n=a.current+r;s.current=t;const[o,i]=v(n);y(o,i)}),[e]);return O((function(){const e=l.current;if(r&&e)return e.addEventListener("scroll",R),()=>{e&&e.removeEventListener("scroll",R)}}),[r,R]),{dragging:r,onDragStart:e=>{e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()},onDragMove:t=>{t.originalEvent.stopPropagation(),t.originalEvent.preventDefault();const d=e.current;if(d)if(r)if(c.current=u(o.current,t.shiftY),o.current=t.shiftY,a.current=t.clientY,i.current&&i.current.isRunning)Ge(d,o.current);else{const[e,t]=v(a.current);Ge(d,o.current),y(e,t),C(),b.current=setTimeout((()=>{b.current=null,P()}),300)}else(e=>{const t=D(e);t&&(l.current=t,s.current=k(t).scrollTop,i.current=Ue(l.current))})(d),f(d),n(!0)},onDragEnd:e=>{var u;if(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault(),C(),s.current=0,null==(u=i.current)||u.stop(),l.current=i.current=null,a.current=o.current=0,c.current=void 0,r){const e=g();t&&t(e),n(!1)}}}},Ze="_CellCheckbox_fjdxx_1",et="_CellCheckbox__icon_fjdxx_7",tt="_CellCheckbox__icon--on_fjdxx_12",rt="_CellCheckbox__input_fjdxx_16",nt="_CellCheckbox__icon--off_fjdxx_16",at=()=>ne(Ve,{IconCompact:ue,IconRegular:de}),ot=()=>ne(Ve,{IconCompact:pe,IconRegular:me});const lt=e=>{var t=e,{getRootRef:r,getRef:n,className:a,style:o,type:l="auto"}=t,u=c(t,["getRootRef","getRef","className","style","type"]);const d=function(e){const t=h();return"auto"!==e?e:t===f.IOS||t===f.VKCOM?"circle":"square"}(l),p="circle"===d?ie:ot,m="circle"===d?ce:at;return ne("span",{className:_(Ze,a),style:o,ref:r},ne(j,i(s({},u),{Component:"input",type:"checkbox",className:rt,getRootRef:n})),ne("span",{className:_(et,nt),"aria-hidden":!0},ne(p,null)),ne("span",{className:_(et,tt),"aria-hidden":!0},ne(m,null)))},st="_CellDragger_1eaz7_2",it="_CellDragger__icon_1eaz7_11",ct=e=>{var t=e,{elRef:r,disabled:n,className:a,onDragStateChange:o,onDragFinish:l}=t,i=c(t,["elRef","disabled","className","onDragStateChange","onDragFinish"]);const u=h()===f.IOS?he:_e,{dragging:d,onDragStart:p,onDragMove:m,onDragEnd:g}=Qe({elRef:r,onDragFinish:l});return O((()=>{o&&o(d)}),[d,o]),ne(q,s({className:_(st,a),onStart:n?void 0:p,onMoveY:n?void 0:m,onEnd:n?void 0:g},i),ne(u,{className:it}))},ut="Перенести ячейку",dt="_Cell_12uoz_1",pt="_Cell--dragging_12uoz_5",mt="_Cell--selectable_12uoz_10",ht="_Cell--disabled_12uoz_10",_t="_Cell__checkbox_12uoz_14",ft="_Cell__dragger_12uoz_15",gt="_Cell__content_12uoz_21",vt="_Cell--removable_12uoz_26",yt="_Cell--ios_12uoz_48",bt=e=>{var t=e,{mode:r,onRemove:n=A,removePlaceholder:a="Удалить",onDragFinish:o,before:l,after:u,disabled:d,draggable:p,Component:m,onChange:v,name:y,value:b,checked:C,defaultChecked:P,getRootRef:R,draggerLabel:x=ut,className:S,style:E}=t,k=c(t,["mode","onRemove","removePlaceholder","onDragFinish","before","after","disabled","draggable","Component","onChange","name","value","checked","defaultChecked","getRootRef","draggerLabel","className","style"]);const[w,N]=ae(!1),O="selectable"===r,I="removable"===r,D=O?"label":m,j=h(),q=g(R),W=p?ne(ct,{elRef:q,className:ft,"aria-label":x,disabled:d,onDragStateChange:N,onDragFinish:o}):null;let F;if(O){F=ne(lt,s({className:_t},{name:y,value:b,defaultChecked:P,checked:C,disabled:d,onChange:v}))}const T=p&&!O||I&&!k.onClick||d,$=!T&&!w,L=_(dt,w&&pt,j===f.IOS&&yt,I&&vt,"label"===D&&mt,d&&ht),M=i(s({hasActive:$,hasHover:$&&!I},k),{className:gt,disabled:T,Component:D,before:ne(oe,null,p&&j!==f.IOS&&W,O&&F,l),after:ne(oe,null,p&&j===f.IOS&&W,u)});return I?ne(Pe,{className:_(L,S),style:E,getRootRef:q,removePlaceholder:a,onRemove:e=>n(e,q.current)},j===f.IOS?({isRemoving:e})=>ne(z,i(s({},M),{disabled:M.disabled||e})):ne(z,M)):ne("div",{className:_(L,S),style:E,ref:q},ne(z,M))};bt.Checkbox=lt;const Ct=fe((()=>W((()=>import("./index-SX1lXMFJ.js").then((e=>e.b1))),__vite__mapDeps([0,1,2])))),Pt=fe((()=>W((()=>import("./Epic-2JVnUgek.js")),__vite__mapDeps([3,1,0,2,4,5,6,7,8])))),Rt=()=>{const[e,t]=ae(!1),r=F(),{view:n,panel:a}=T(),{viewWidth:o}=E(),l=h(),s=$(),i=L()||void 0,c=l===f.VKCOM,u=localStorage.getItem("token");re((()=>{u?u&&a===B&&r.replace(`/${K}`):r.replace("/"),t(!1)}),[n,window.location]);const d=async e=>{if(u)try{return void await r.push(`/${e}`)}catch(e){}await r.replace("/")},p=M(Ct,{});return M(ee,{safeAreaInsets:i,children:M(je,{popout:s,modal:p,header:!c&&M(Y,{separator:!1}),style:{justifyContent:"center"},children:[o.tabletPlus&&a!==B&&M(Be,{className:o.tabletPlus.className,fixed:!0,width:280,maxWidth:280,children:M(te,{children:[!c&&M(Y,{}),M(V,{children:[M(bt,{onClick:()=>d(K),hovered:a===K,before:M(ge,{}),children:"Главная"}),M(bt,{onClick:()=>d(U),hovered:a===U,before:M(ve,{}),children:"Успеваемость"}),M(bt,{onClick:()=>d(G),hovered:a===G,before:M(ye,{}),children:"Аттестация"}),M(bt,{onClick:()=>d(H),hovered:a===H,before:M(be,{}),children:"Объявления"}),M(bt,{onClick:()=>d(X),hovered:a===X,before:M(ye,{}),children:"Помощь"}),M(bt,{onClick:()=>d(J),hovered:a===J,before:M(Ce,{}),children:"Настройки"})]})]})}),M(Q,{id:"Epic",children:[e&&M(Z,{size:"large"}),M(Be,{width:"100%",maxWidth:"700px",stretchedOnMobile:!0,autoSpaced:!0,children:M(Pt,{onStoryChange:d})})]})]})})};export{Rt as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-SX1lXMFJ.js","assets/@vkontakte/icons-HJ4wZ9QE.js","assets/index-ZDfR2gLr.css","assets/Epic-2JVnUgek.js","assets/View-EiM2Fr5E.js","assets/Panel-XyuQqBP3.js","assets/Panel-oAJCpymk.css","assets/View-VM84pLdz.css","assets/Epic-kQdfC-uh.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}