import{_ as t,u as e,L as s,e as a}from"./index-5NH1IOHB.js";import{B as r}from"./Button-5EGKVaCy.js";import{P as o}from"./Panel-lWp-K2Ib.js";import{B as n}from"./ButtonGroup-4vs5Jrgq.js";import{D as i}from"./Div-3kX9RDtp.js";import{D as c,h as m,T as l,p as d}from"./@vkontakte/icons-Hmxnb1rK.js";import{m as u,h as p}from"./makeRequest-Zl7tju9i.js";import{P as f}from"./PanelHeaderWithBack-ikCXfPmR.js";import{u as j}from"./useRateLimitExceeded-k8rmV0ui.js";import"./Snackbar-juR0A3an.js";const h=c((()=>t((()=>import("./SubjectsList-GHytQ2p7.js")),__vite__mapDeps([0,1,2,3,4,5])))),k=({id:t})=>{const[s,a]=m(!1),[r,n]=m(!1),[c,k]=m(null),g=l((async()=>{n(!0),a(!1);try{const t=await(async()=>{const t=localStorage.getItem("cookie"),e=localStorage.getItem("id");return t?u(`/attestation/${e}`):418})();p(t,(()=>{a(!0),n(!1)}),(()=>{j(),a(!0),n(!1)}),(t=>{n(t)})),k(t)}catch(t){a(!0)}finally{n(!1)}}),[]);d((()=>{g()}),[]);const v={};let b=null,y=null;return c&&c.students&&(y=c.year,b=`\n    ${c.students[0].lastName}\n    ${c.students[0].firstName.slice(0,1)}.\n    ${c.students[0].middleName.slice(0,1)}.`),c&&c.subjects&&c.subjects.forEach((t=>{const e=`Семестр ${c.termNumber}`;v[e]||(v[e]=[]),v[e].push(t)})),e(o,{nav:t,children:[e(f,{title:"Аттестация"}),e(i,{children:[e(h,{isDataLoading:r,semesters:v,studentName:b,year:y}),s&&e(_,{onClick:g})]})]})},_=({onClick:t})=>e(a,{header:"Ошибка при загрузке",action:e(n,{mode:"vertical",align:"center",children:[e(r,{size:"s",onClick:t,children:"Попробовать снова"}),e(s,{href:"https://vk.me/dnevnik_spo",target:"_blank",children:"Сообщить о проблеме"})]})});export{k as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/SubjectsList-GHytQ2p7.js","assets/index-5NH1IOHB.js","assets/@vkontakte/icons-Hmxnb1rK.js","assets/index-wdBsfY_i.css","assets/Div-3kX9RDtp.js","assets/Div-T3SmsJ_a.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}