var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(a,e)=>{for(var t in e||(e={}))n.call(e,t)&&l(a,t,e[t]);if(r)for(var t of r(e))o.call(e,t)&&l(a,t,e[t]);return a},i=(a,r)=>e(a,t(r)),s=(a,e)=>{var t={};for(var l in a)n.call(a,l)&&e.indexOf(l)<0&&(t[l]=a[l]);if(null!=a&&r)for(var l of r(a))e.indexOf(l)<0&&o.call(a,l)&&(t[l]=a[l]);return t};import{y as _,h as u,e as b,p as f}from"./@vkontakte/icons-HJ4wZ9QE.js";import{a8 as k,a1 as d,c as m,R as v,m as S,I as y,a9 as p,J as x,q as h,r as O,v as q,aa as N,ab as j}from"./index-SX1lXMFJ.js";import{B as g}from"./Button-bpYq3XKW.js";const A="_Snackbar__body_1oqkl_1",C="_Snackbar--mode-dark_1oqkl_12",w="_Snackbar__before_1oqkl_16",z="_Snackbar__after_1oqkl_20",I="_Snackbar__content_1oqkl_24",P="_Snackbar__content-text_1oqkl_36",R="_Snackbar__content-subtitle_1oqkl_46",B="_Snackbar__action_1oqkl_55",E={vertical:"_Snackbar--layout-vertical_1oqkl_31",horizontal:"_Snackbar--layout-horizontal_1oqkl_55"};function F(a){var e=a,{layout:t="horizontal",action:r,after:n,before:o,mode:l,subtitle:i,children:u}=e,b=s(e,["layout","action","after","before","mode","subtitle","children"]);return _(v,c({baseClassName:m(A,E[n||i?"vertical":t],"dark"===l&&C)},b),o&&_("div",{className:w},o),_("div",{className:I},_(k,{className:P},u),i&&!r&&_(d,{className:R},i),r&&!i&&_("div",{className:B},r)),n&&_("div",{className:z},n))}const L="_Snackbar_6x4ix_1",T="_Snackbar__in_6x4ix_27",D="_Snackbar__snackbar_6x4ix_28",M="_Snackbar--closing_6x4ix_37",W="_Snackbar--ios_6x4ix_47",X="_Snackbar--desktop_6x4ix_56",Y="_Snackbar--touched_6x4ix_75",J=a=>{var e=a,{children:t,layout:r="horizontal",action:n,before:o,after:l,duration:k=4e3,onActionClick:d,onClose:A,mode:C="default",subtitle:w,offsetY:z,style:I}=e,P=s(e,["children","layout","action","before","after","duration","onActionClick","onClose","mode","subtitle","offsetY","style"]);const R=S(),{viewWidth:B}=y(),E=B>=p.SMALL_TABLET,{waitTransitionFinish:J}=x(),[$,G]=u(!1),[H,K]=u(!1),Q=b(0),U=b(0),V=b(null),Z=b(null),aa=b(null),ea=R===h.IOS?320:400,ta=()=>{G(!0),J(Z.current,(()=>{A()}),ea)},ra=O(ta,k),na=a=>{null!==aa.current&&cancelAnimationFrame(aa.current),aa.current=requestAnimationFrame((()=>{V.current&&(V.current.style.transform=`translate3d(${a}%, 0, 0)`)}))},oa=ra.clear;f((()=>ra.set()),[ra]);const la=l||E||w?"vertical":r;return _(N,null,_(v,i(c({},P),{baseClassName:m(L,R===h.IOS&&W,$&&M,H&&Y,E&&X),style:z?i(c({},I),{bottom:z}):I}),_(q,{className:T,getRootRef:Z,onStart:oa,onMoveX:a=>{var e,t;const{shiftX:r,originalEvent:n}=a;n.preventDefault(),H||K(!0),Q.current=r/(null!=(t=null==(e=V.current)?void 0:e.offsetWidth)?t:0)*100,U.current=j(Q.current,72,1.2,R!==h.IOS),na(U.current)},onEnd:a=>{let e;if(H){let t=U.current;t+=t/a.duration*240*.6,E&&t<=-50?(ra.clear(),J(V.current,(()=>{A()}),ea),na(-120)):!E&&t>=50?(ra.clear(),J(V.current,(()=>{A()}),ea),na(120)):e=()=>{ra.set(),na(0)}}else ra.set();K(!1),e&&requestAnimationFrame(e)}},_(F,{className:D,getRootRef:V,layout:la,mode:C,before:o,subtitle:w,action:n&&_(g,{align:"left",mode:"link",appearance:"dark"===C?"overlay":"accent",size:"s",onClick:a=>{ta(),n&&"function"==typeof d&&d(a)}},n),after:l},t))))};J.Basic=F;export{J as S};
