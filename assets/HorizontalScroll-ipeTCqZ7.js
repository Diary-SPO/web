var r=Object.defineProperty,o=Object.defineProperties,t=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(o,t,e)=>t in o?r(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,a=(r,o)=>{for(var t in o||(o={}))n.call(o,t)&&i(r,t,o[t]);if(e)for(var t of e(o))l.call(o,t)&&i(r,t,o[t]);return r},c=(r,o)=>{var t={};for(var i in r)n.call(r,i)&&o.indexOf(i)<0&&(t[i]=r[i]);if(null!=r&&e)for(var i of e(r))o.indexOf(i)<0&&l.call(r,i)&&(t[i]=r[i]);return t};import{y as s,a5 as d,x as u,b as f,h as _,T as h,p as m}from"./@vkontakte/icons-Hmxnb1rK.js";import{c as w,R as S,o as g,s as v,a5 as b,aE as p,aF as y,a6 as A}from"./index-5NH1IOHB.js";const z="_ScrollArrow_adbtg_1",O="_ScrollArrow__icon_adbtg_28",M="_ScrollArrow__defaultIcon_adbtg_70",E={m:"_ScrollArrow--size-m_adbtg_38",l:"_ScrollArrow--size-l_adbtg_44"},W={up:"_ScrollArrow--direction-up_adbtg_22",right:"_ScrollArrow--direction-right_adbtg_17",down:"_ScrollArrow--direction-down_adbtg_23",left:"_ScrollArrow--direction-left_adbtg_16"},D=({size:r})=>{let o=d;return"m"===r&&(o=u),s(o,{className:M})},H=r=>{var o=r,{size:t="l",offsetY:e,direction:n,children:l=s(D,{size:t})}=o,i=c(o,["size","offsetY","direction","children"]);return s(S,a({Component:"button",type:"button",baseClassName:w(z,E[t],W[n])},i),s("span",{className:O,style:e?{top:e}:void 0},l))};const j="_HorizontalScroll_14yio_1",x="_HorizontalScroll__in_14yio_12",C="_HorizontalScroll__in-wrapper_14yio_27",N="_HorizontalScroll__arrow_14yio_31",P="_HorizontalScroll--withConstArrows_14yio_42",Y="_HorizontalScroll__arrowLeft_14yio_48",L="_HorizontalScroll__arrowRight_14yio_52";function R(){return performance&&performance.now?performance.now():Date.now()}function T(r){return r>0?Math.ceil(r):Math.floor(r)}const k=r=>T(r.scrollLeft),I=250;function B({scrollElement:r,getScrollPosition:o,animationQueue:t,onScrollToEndBorder:e,onScrollEnd:n,onScrollStart:l,initialScrollWidth:i,scrollAnimationDuration:a=I,textDirection:c}){if(!r||!o)return;const s=("ltr"===c?1:-1)*(i-r.offsetWidth);let d=k(r),u=o(d);l(),d*u<0&&(u=0),Math.abs(u)>=Math.abs(s)&&(e(),u=s);const f=R();!function o(){if(!r)return void n();const e=R(),l=Math.min((e-f)/a,1),i=(s=l,.5*(1-Math.cos(Math.PI*s)));var s;const _=d+(u-d)*i;r.scrollLeft=T(_);const h="ltr"===c?Math.max(0,u):Math.min(0,u);k(r)===h||1===l?(n(),t.shift(),t.length>0&&t[0]()):requestAnimationFrame(o)}()}const F=r=>{var e=r,{children:n,getScrollToLeft:l,getScrollToRight:i,showArrows:d=!0,arrowSize:u="l",arrowOffsetY:z,scrollAnimationDuration:O=I,getRef:M,scrollOnAnyWheel:E=!1}=e,W=c(e,["children","getScrollToLeft","getScrollToRight","showArrows","arrowSize","arrowOffsetY","scrollAnimationDuration","getRef","scrollOnAnyWheel"]);const[D,R]=_(!1),[T,F]=_(!1),[Q,q="ltr"]=function(){const r=f(null),[o,t]=_(void 0),[e,n]=_(void 0),{window:l}=g();return v((()=>{if(!l||!r.current)return;const o=l.getComputedStyle(r.current);t(o.direction),n(o.writingMode)}),[l]),[r,o,e]}(),X="ltr"===q?R:F,G="ltr"===q?F:R,J=f(!1),K=b(M,Q),U=f([]),V=p(),Z=h((r=>{const o=K.current;U.current.push((()=>{var t;return B({scrollElement:o,getScrollPosition:r,animationQueue:U.current,onScrollToEndBorder:()=>G(!1),onScrollEnd:()=>J.current=!1,onScrollStart:()=>J.current=!0,initialScrollWidth:(null==(t=null==o?void 0:o.firstElementChild)?void 0:t.scrollWidth)||0,scrollAnimationDuration:O,textDirection:q})})),1===U.current.length&&U.current[0]()}),[K,O,q,G]),$=h((()=>{Z(null!=l?l:r=>r-K.current.offsetWidth)}),[l,Z,K]),rr=h((()=>{Z(null!=i?i:r=>r+K.current.offsetWidth)}),[i,Z,K]),or=h((()=>{if(d&&V&&K.current&&!J.current){const r=K.current;X(0!==r.scrollLeft),G(Math.abs(k(r))+r.offsetWidth<r.scrollWidth)}}),[d,V,K,X,G]),tr=y("scroll",or);m((function(){return K.current?(tr.add(K.current),tr.remove):A}),[tr,K]),m(or,[or,n]);const er=h((r=>{K.current.scrollBy({left:r.deltaX+r.deltaY,behavior:"auto"}),r.preventDefault()}),[K]),nr=y("wheel",er);return m((function(){return K.current&&E?(nr.add(K.current),nr.remove):A}),[nr,K,E]),s(S,(lr=a({},W),ir={baseClassName:w(j,"vkuiInternalHorizontalScroll","always"===d&&P),onMouseEnter:or},o(lr,t(ir))),d&&(V||void 0===V)&&D&&s(H,{"data-testid":void 0,size:u,offsetY:z,direction:"left","aria-hidden":!0,className:w(N,Y),onClick:$}),d&&(V||void 0===V)&&T&&s(H,{"data-testid":void 0,size:u,offsetY:z,direction:"right","aria-hidden":!0,className:w(N,L),onClick:rr}),s("div",{className:x,ref:K},s("div",{className:C},n)));var lr,ir};export{F as H};
