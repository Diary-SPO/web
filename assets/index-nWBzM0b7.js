var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,r,l)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[r]=l,a=(e,s)=>{var a={};for(var o in e)r.call(e,o)&&s.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&t)for(var o of t(e))s.indexOf(o)<0&&l.call(e,o)&&(a[o]=e[o]);return a};import{y as o,w as i}from"./@vkontakte/icons-HJ4wZ9QE.js";import{B as n,Q as c,F as d,c as m,a1 as f,f as u,u as _,H as b,M as y}from"./index-SX1lXMFJ.js";import{H as p}from"./HorizontalScroll-zOt15VVS.js";import{A as h}from"./Avatar-kr0UIpvy.js";import{C as v}from"./Caption-Ws0ga1mo.js";const z="_HorizontalCell_1q642_1",g="_HorizontalCell__image_1q642_5",N="_HorizontalCell__body_1q642_10",j="_HorizontalCell__content_1q642_21",x="_HorizontalCell__subtitle_1q642_27",H={s:"_HorizontalCell--size-s_1q642_35",m:"_HorizontalCell--size-m_1q642_62",l:"_HorizontalCell--size-l_1q642_68"},O=e=>{var t=e,{size:r,children:l}=t,s=a(t,["size","children"]);return o("s"===r?v:f,s,l)},C=e=>{var i=e,{className:f,header:u,style:_,subtitle:b,size:y="s",children:p=o(h,{size:56}),getRootRef:v,getRef:C,extraSubtitle:R}=i,q=a(i,["className","header","style","subtitle","size","children","getRootRef","getRef","extraSubtitle"]);return o("div",{ref:v,style:_,className:m(z,H[y],f)},o(n,((e,a)=>{for(var o in a||(a={}))r.call(a,o)&&s(e,o,a[o]);if(t)for(var o of t(a))l.call(a,o)&&s(e,o,a[o]);return e})({className:N,getRootRef:C},q),c(p)&&o("div",{className:g},p),(u||b||R)&&o("div",{className:j},c(u)&&o(O,{size:y},u),c(b)&&o(d,{className:x},b),c(R)&&o(d,{className:x},R))))},R=e=>{const t=e.split(".");return new Date(Number(t[2]),Number(t[1])-1,Number(t[0]))},q=({day:e,lessonGrades:t})=>_("div",{children:[_(b,{mode:"secondary",children:e}),_("div",{style:{display:"flex"},children:Object.entries(t).map((([t,r])=>_("div",{style:{display:"flex"},children:r.map(((r,l)=>{return _(C,{style:{maxWidth:"unset"},children:_(y,{bottom:(s=t,a=18,s.length>a&&0!==a?`${s.substring(0,a)}...`:s),style:{maxWidth:90},mark:r||"Н",useMargin:!1,size:"l"})},`${e}_${t}_${l}`);var s,a}))},`${e}_${t}`)))})]},e),S=i((({performanceData:e})=>{const t=(e=>{const t={};for(const r of(null==e?void 0:e.daysWithMarksForSubject)||[])for(const e of(null==r?void 0:r.daysWithMarks)||[]){const l=new Date(e.day).toLocaleDateString("ru"),s=r.subjectName,a=e.markValues.filter((e=>void 0!==u[e])).map((e=>Number(u[e])));a.length>0&&(t[l]=t[l]||{},t[l][s]=t[l][s]||[],a.every((e=>!Number.isNaN(e)))&&t[l][s].push(...a))}return t})(e),r=(e=>{const t=Object.keys(e).sort(((e,t)=>R(t).getTime()-R(e).getTime())),r={};for(const l of t)r[l]=e[l];return r})(t);return _(p,{showArrows:!0,getScrollToLeft:e=>e-120,getScrollToRight:e=>e+120,children:_("div",{style:{display:"flex"},children:Object.entries(r).map((([e,t])=>_(q,{day:e,lessonGrades:t})))})})}));export{S as default};
