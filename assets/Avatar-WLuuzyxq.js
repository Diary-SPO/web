var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(a,r,i)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[r]=i,s=(e,a)=>{for(var r in a||(a={}))t.call(a,r)&&o(e,r,a[r]);if(i)for(var r of i(a))n.call(a,r)&&o(e,r,a[r]);return e},l=(e,i)=>a(e,r(i)),c=(e,a)=>{var r={};for(var o in e)t.call(e,o)&&a.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&i)for(var o of i(e))a.indexOf(o)<0&&n.call(e,o)&&(r[o]=e[o]);return r};import{y as d,F as u,h as _,e as h,p as g,m as v,q as f,ao as m,ap as b}from"./@vkontakte/icons-HJ4wZ9QE.js";import{R as w,Y as p,Z as k,c as z,a0 as B,aH as y,aL as C,aN as I,B as N,a4 as O}from"./index--wYC2PF4.js";function A(e){return void 0!==e}function M(e,a){return function(e,a,r){const i=a.filter(A);return i.length?e(...i):r}(Math.min,e,a)}const S="_Clickable__host_7wlkw_1",P=e=>{var a=e,{href:r,onClick:i,onClickCapture:t}=a,n=c(a,["href","onClick","onClickCapture"]);return d(w,n)},j=e=>{var a=e,{baseClassName:r,children:i,focusVisibleMode:t="inside"}=a,n=c(a,["baseClassName","children","focusVisibleMode"]);const{focusVisible:o,onBlur:l,onFocus:u}=p(),_=k({focusVisible:o,mode:t});return d(w,s({baseClassName:z(r,_,S),onBlur:B(l,n.onBlur),onFocus:B(u,n.onFocus)},n),i)};const E=e=>{var a=e,{focusVisibleMode:r="inside"}=a,i=c(a,["focusVisibleMode"]);const t=function({Component:e,onClick:a,onClickCapture:r,href:i,disabled:t}){return void 0!==e?{Component:e}:void 0!==i?{Component:"a",role:"link","aria-disabled":t}:void 0!==a||void 0!==r?{Component:"div",role:"button",tabIndex:t?void 0:0,"aria-disabled":t}:{}}(i);var n;return(void 0!==(n=i).href||void 0!==n.onClick||void 0!==n.onClickCapture)&&!n.disabled?d(j,s(s({focusVisibleMode:r},t),i)):d(P,s(s({},t),i))},V=u({size:0});function x(e){return e<=36?12:e>36&&e<=48?16:e>48&&e<=64?20:x.MAX_SIZE}x.MAX_SIZE=24;const F="_ImageBaseBadge_zz8ge_1",L={stroke:"_ImageBaseBadge--background-stroke_zz8ge_13",shadow:"_ImageBaseBadge--background-shadow_zz8ge_18"},R="_ImageBaseOverlay_ah92v_1",Z="_ImageBaseOverlay--visible_ah92v_19",H="_ImageBaseOverlay--theme-light_ah92v_23",T="_ImageBaseOverlay--theme-dark_ah92v_28",X="_ImageBase_1vi44_1",D="_ImageBase--transparent-background_1vi44_14",W="_ImageBase__border_1vi44_18",Y="_ImageBase__img_1vi44_32",q="_ImageBase--loaded_1vi44_46",G="_ImageBase__fallback_1vi44_50",J=e=>{var a=e,{alt:r,crossOrigin:i,decoding:t,loading:n,referrerPolicy:o,sizes:l,src:u,srcSet:f,useMap:m,getRef:b,size:w,width:p,height:k,widthSize:B,heightSize:y,style:C,withBorder:I=!0,fallbackIcon:N,children:A,onLoad:S,onError:P,withTransparentBackground:j}=a,x=c(a,["alt","crossOrigin","decoding","loading","referrerPolicy","sizes","src","srcSet","useMap","getRef","size","width","height","widthSize","heightSize","style","withBorder","fallbackIcon","children","onLoad","onError","withTransparentBackground"]);const F=null!=w?w:M([B,y],24),L=null!=B?B:F,R=null!=y?y:F,[Z,H]=_(!1),[T,J]=_(!1),K=u||f,Q=(T||!K)&&v(N)?N:null,U=O(b),$=h(!1);return g((function(){if(!$.current&&($.current=!0,U.current&&U.current.complete&&!Z)){const e=new Event("load");U.current.dispatchEvent(e)}}),[U,Z]),d(V.Provider,{value:{size:F}},d(E,s({style:s({width:L,height:R},C),baseClassName:z(X,Z&&q,j&&D)},x),K&&d("img",{ref:U,alt:r,className:Y,crossOrigin:i,decoding:t,loading:n,referrerPolicy:o,sizes:l,src:u,srcSet:f,useMap:m,width:p,height:k,onLoad:e=>{Z||(H(!0),J(!1),null==S||S(e))},onError:e=>{H(!1),J(!0),null==P||P(e)}}),Q&&d("div",{className:G},Q),A,I&&d("div",{"aria-hidden":!0,className:W})))};J.Badge=e=>{var a=e,{background:r="shadow"}=a,i=c(a,["background"]);return d(w,l(s({},i),{baseClassName:z(F,L[r])}))},J.Overlay=e=>{var a=e,{className:r,theme:i,visibility:t,children:n,onClick:o}=a,u=c(a,["className","theme","visibility","children","onClick"]);const _=y(),h=C(),g=null!=i?i:_,v=null!=t?t:h?"on-hover":"always";return d(N,l(s({},u),{type:"button",Component:"button",className:z(R,"always"===v&&Z,"light"===g&&H,"dark"===g&&T,r),hasHover:"on-hover"===v,hoverMode:"on-hover"===v?Z:void 0,focusVisibleMode:z(I.inside,Z),hasActive:!1,onClick:o}),n)};const K="_AvatarBadge_3cliu_1",Q="_AvatarBadge--shifted_3cliu_6",U="_AvatarBadge--preset-online_3cliu_11",$="_AvatarBadge--preset-onlineMobile_3cliu_12",ee=e=>{var a=e,{width:r=12,height:i=12}=a,t=c(a,["width","height"]);return d(m,l(s({},t),{width:r>=24?15:12,height:i>=24?15:12}))},ae=e=>{var a=e,{width:r=8,height:i=12}=a,t=c(a,["width","height"]);return d(b,l(s({},t),{width:r>=24?9:8,height:i>=24?15:12}))};function re(e){if(e<=16)return 5;if(e<=24)return 8;if(e<=32)return 10;if(e<=36)return 13;if(e<=44)return 14;if(e<=48)return 17;if(e<56)return 18;if(e<=64)return 21;if(e<=88)return 26;if(e<=96)return 30;const a=Math.ceil(.3125*e);return a+a%2}const ie="_Avatar_zutwh_1",te="_Avatar--has-gradient_zutwh_5",ne="_Avatar__initials_zutwh_49",oe=48,se={1:"red",2:"orange",3:"yellow",4:"green",5:"l-blue",6:"violet"},le={red:"_Avatar--gradient-red_zutwh_9",orange:"_Avatar--gradient-orange_zutwh_19",yellow:"_Avatar--gradient-yellow_zutwh_24",green:"_Avatar--gradient-green_zutwh_29",blue:"_Avatar--gradient-blue_zutwh_39","l-blue":"_Avatar--gradient-l-blue_zutwh_34",violet:"_Avatar--gradient-violet_zutwh_44"},ce=e=>{var a=e,{size:r=oe,className:i,gradientColor:t,initials:n,fallbackIcon:o,children:u}=a,_=c(a,["size","className","gradientColor","initials","fallbackIcon","children"]);const h="number"==typeof t?se[t]:t,g=h&&"custom"!==h,v=n?d("div",{className:ne,style:{fontSize:re(r)}},n):o;return d(J,l(s({},_),{size:r,fallbackIcon:v,className:z(ie,h&&te,g&&le[h],i)}),u)};ce.Badge=e=>{var a=e,{className:r}=a,i=c(a,["className"]);const{size:t}=f(V);return d(J.Badge,l(s({},i),{className:z(K,t<96&&Q,r)}))},ce.BadgeWithPreset=e=>{var a=e,{preset:r="online",className:i}=a,t=c(a,["preset","className"]);const{size:n}=f(V),o=x(n),l="online"===r,u=l?ee:ae;return d(J.Badge,s({background:"stroke",className:z(K,l?U:$,i)},t),d(u,{width:o,height:o}))},ce.Overlay=J.Overlay,ce.getInitialsFontSize=re;export{ce as A};
