var a=Object.defineProperty,e=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(e,r,t)=>r in e?a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,l=(a,e)=>{for(var r in e||(e={}))n.call(e,r)&&c(a,r,e[r]);if(t)for(var r of t(e))o.call(e,r)&&c(a,r,e[r]);return a},s=(a,t)=>e(a,r(t));import{h as i,b as _,p as u,y as b}from"./@vkontakte/icons-d137ec12.js";import{l as f,J as d,ab as m,K as h,q as k,r as v,R as S,c as p,v as y,ac as O,a4 as j,ad as N,ae as g}from"./index-716dd2fc.js";import{B as A}from"./Button-9144f7df.js";const w="_Snackbar_1o4ch_1",C="_Snackbar__in_1o4ch_27",x="_Snackbar__body_1o4ch_28",P="_Snackbar--closing_1o4ch_37",z="_Snackbar--mode-dark_1o4ch_52",E="_Snackbar__before_1o4ch_56",F="_Snackbar__after_1o4ch_60",I="_Snackbar__content_1o4ch_64",q="_Snackbar__content-text_1o4ch_76",B="_Snackbar__content-subtitle_1o4ch_86",L="_Snackbar__action_1o4ch_95",R="_Snackbar--ios_1o4ch_111",T="_Snackbar--desktop_1o4ch_120",D="_Snackbar--touched_1o4ch_139",M={vertical:"_Snackbar--layout-vertical_1o4ch_71",horizontal:"_Snackbar--layout-horizontal_1o4ch_95"},W=a=>{var e=a,{children:r,layout:c="horizontal",action:W,before:X,after:Y,duration:J=4e3,onActionClick:K,onClose:$,mode:G="default",subtitle:H,offsetY:Q,style:U}=e,V=((a,e)=>{var r={};for(var c in a)n.call(a,c)&&e.indexOf(c)<0&&(r[c]=a[c]);if(null!=a&&t)for(var c of t(a))e.indexOf(c)<0&&o.call(a,c)&&(r[c]=a[c]);return r})(e,["children","layout","action","before","after","duration","onActionClick","onClose","mode","subtitle","offsetY","style"]);const Z=f(),{viewWidth:aa}=d(),ea=aa>=m.SMALL_TABLET,{waitTransitionFinish:ra}=h(),[ta,na]=i(!1),[oa,ca]=i(!1),la=_(0),sa=_(0),ia=_(null),_a=_(null),ua=_(null),ba=Z===k.IOS?320:400,fa=()=>{na(!0),ra(_a.current,(()=>{$()}),ba)},da=v(fa,J),ma=a=>{null!==ua.current&&cancelAnimationFrame(ua.current),ua.current=requestAnimationFrame((()=>{ia.current&&(ia.current.style.transform=`translate3d(${a}%, 0, 0)`)}))},ha=da.clear;u((()=>da.set()),[da]);const ka=Y||ea||H?"vertical":c;return b(N,null,b(S,s(l({},V),{baseClassName:p(w,Z===k.IOS&&R,M[ka],"dark"===G&&z,ta&&P,oa&&D,ea&&T),style:Q?s(l({},U),{bottom:Q}):U}),b(y,{className:C,getRootRef:_a,onStart:ha,onMoveX:a=>{var e,r;const{shiftX:t,originalEvent:n}=a;n.preventDefault(),oa||ca(!0),la.current=t/(null!=(r=null==(e=ia.current)?void 0:e.offsetWidth)?r:0)*100,sa.current=g(la.current,72,1.2,Z!==k.IOS),ma(sa.current)},onEnd:a=>{let e;if(oa){let r=sa.current;r+=r/a.duration*240*.6,ea&&r<=-50?(da.clear(),ra(ia.current,(()=>{$()}),ba),ma(-120)):!ea&&r>=50?(da.clear(),ra(ia.current,(()=>{$()}),ba),ma(120)):e=()=>{da.set(),ma(0)}}else da.set();ca(!1),e&&requestAnimationFrame(e)}},b("div",{className:x,ref:ia},X&&b("div",{className:E},X),b("div",{className:I},b(O,{className:q},r),H&&!W&&b(j,{className:B},H),W&&!H&&b(A,{align:"left",mode:"link",appearance:"dark"===G?"overlay":"accent",size:"s",className:L,onClick:a=>{fa(),W&&"function"==typeof K&&K(a)}},W)),Y&&b("div",{className:F},Y)))))};export{W as S};
