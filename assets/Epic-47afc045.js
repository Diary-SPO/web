import{y as a,O as e,i as t,_ as s,a as r,p as n,G as i,q as o,j as l,b as c,l as d,f as b,al as _,am as m,an as u,ao as v,as as h,ap as k}from"./@vkontakte/icons-ec9bb119.js";import{n as p,c as f,s as y,R as S,X as C,F as I,J as T,aN as N,aa as w,aq as x,o as g,ab as R,au as j,av as O,aw as M,ax as V,ay as z,u as D,a as E,b as L,at as P,aO as A,aP as H,aQ as W,aR as q,aS as B,aT as F,aU as J}from"./index-12fcb1ba.js";import{V as Q}from"./View-5b6a17cd.js";import"./Panel-b4539d2d.js";const U="_Tabbar_1bin7_1",X="_Tabbar--shadow_1bin7_15",G="_Tabbar--ios_1bin7_23",K=(a,t)=>{switch(a){case"horizontal":return"vkuiInternalTabbar--layout-horizontal";case"vertical":return"vkuiInternalTabbar--layout-vertical";default:return e.count(t)>2?K("vertical",[]):K("horizontal",[])}},Y=({shadow:e=!0,mode:t,...s})=>{const r=p();return a(S,{baseClassName:f("vkuiInternalTabbar",U,r===y.IOS&&G,K(t,s.children),e&&X),...s})},Z="_TabbarItem_13oks_1",$="_TabbarItem--selected_13oks_23",aa="_TabbarItem__tappable_13oks_27",ea="_TabbarItem__in_13oks_31",ta="_TabbarItem__icon_13oks_51",sa="_TabbarItem__text_13oks_60",ra="_TabbarItem--android_13oks_82",na="_TabbarItem--ios_13oks_102",ia="_TabbarItem__tappable--active_13oks_113",oa=({children:e,selected:t,indicator:s,text:r,href:n,Component:i=(n?"a":"button"),disabled:o,...l})=>{const c=p();return a(S,{Component:i,...l,disabled:o,href:n,baseClassName:f(Z,c===y.IOS&&na,c===y.ANDROID&&ra,t&&$)},a(T,{role:"presentation",Component:"div",disabled:o,activeMode:c===y.IOS?ia:"background",activeEffectDelay:c===y.IOS?0:300,hasHover:!1,className:aa}),a("div",{className:ea},a("div",{className:ta},e,a("div",{className:"vkuiInternalTabbarItem__label"},C(s)&&s)),r&&a(I,{Component:"div",className:sa,weight:"2"},r)))};var la=function(e){var r=e.Component,n=void 0===r?"div":r,i=e.baseClassName,o=e.className,l=e.getRootRef,c=t(e,["Component","baseClassName","className","getRootRef"]);return a(n,s({ref:l,className:f(i,o)},c))},ca=N?r:n,da=i({getScroll:function(){return{x:0,y:0}},scrollTo:w,isScrollLock:!1,enableScrollLock:w,disableScrollLock:w}),ba=function(e){var t=e.children,s=e.initialScroll,r=e.saveScroll,n=o(da),i=n.getScroll,c=n.scrollTo;return ca((function(){return"number"==typeof s&&c(0,s),function(){return r(i().y)}}),[]),a(l,null,t)},_a=function(r){var n,i=r.activeStory,o=r.tabbar,l=r.children,_=t(r,["activeStory","tabbar","children"]),m=c({}).current,u=null!==(n=e.toArray(l).find((function(a){return d(a)&&((e=a.props).nav||e.id)===i;var e})))&&void 0!==n?n:null;return a(la,b(s({},_),{baseClassName:f("vkuiEpic",o&&"vkuiInternalEpic--hasTabbar")}),a(ba,{key:i,initialScroll:m[i]||0,saveScroll:function(a){return m[i]=a}},u),o)};const ma=({onStoryChange:a,activeView:e})=>{const{viewWidth:t}=x();return t.tabletMinus&&g(Y,{className:t.tabletMinus.className,children:[g(oa,{onClick:()=>a(R),selected:e===R,"data-story":R,text:"Главная",children:g(_,{})}),g(oa,{onClick:()=>a(j),selected:e===j,"data-story":j,text:"Успеваемость",children:g(m,{})}),g(oa,{onClick:()=>a(O),selected:e===O,"data-story":O,text:"Аттестация",children:g(u,{})}),g(oa,{onClick:()=>a(M),selected:e===M,"data-story":M,text:"Объявления",children:g(v,{})}),g(oa,{onClick:()=>a(V),selected:e===V,"data-story":V,text:"Помощь",children:g(h,{})}),g(oa,{onClick:()=>a(z),selected:e===z,"data-story":z,text:"Настройки",children:g(k,{})})]})},ua=({onStoryChange:a})=>{const{view:e,panel:t}=D(),{viewWidth:s}=x(),{panel:r,panelsHistory:n}=D(),i=E();return g(_a,{activeStory:e,tabbar:s.tabletMinus&&g(ma,{onStoryChange:a,activeView:t}),children:g(Q,{id:R,history:n,activePanel:r,onSwipeBack:()=>i.back(),children:[g(L,{id:P,mode:"screen",children:g(A,{id:P})}),g(L,{id:R,mode:"screen",children:g(H,{id:R})}),g(L,{id:j,mode:"screen",children:g(W,{id:j})}),g(L,{id:O,mode:"screen",children:g(q,{id:O})}),g(L,{id:M,mode:"screen",children:g(B,{id:M})}),g(L,{id:V,mode:"screen",children:g(F,{id:V})}),g(L,{id:z,mode:"screen",children:g(J,{id:z})})]})})};export{ua as default};
