var a=Object.defineProperty,e=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(e,r,t)=>r in e?a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,l=(a,e)=>{for(var r in e||(e={}))n.call(e,r)&&c(a,r,e[r]);if(t)for(var r of t(e))o.call(e,r)&&c(a,r,e[r]);return a},s=(a,t)=>e(a,r(t));import{h as i,b as _,p as u,y as b}from"./@vkontakte/icons-Hmxnb1rK.js";import{m as f,I as m,a9 as d,J as h,q as k,r as v,R as S,c as p,v as y,aa as O,a2 as j,ab as N,ac as g}from"./index-V8iVre27.js";import{B as A}from"./Button-bI8mAd_C.js";const w="_Snackbar_1o4ch_1",C="_Snackbar__in_1o4ch_27",x="_Snackbar__body_1o4ch_28",I="_Snackbar--closing_1o4ch_37",P="_Snackbar--mode-dark_1o4ch_52",z="_Snackbar__before_1o4ch_56",E="_Snackbar__after_1o4ch_60",F="_Snackbar__content_1o4ch_64",q="_Snackbar__content-text_1o4ch_76",B="_Snackbar__content-subtitle_1o4ch_86",L="_Snackbar__action_1o4ch_95",R="_Snackbar--ios_1o4ch_111",T="_Snackbar--desktop_1o4ch_120",D="_Snackbar--touched_1o4ch_139",M={vertical:"_Snackbar--layout-vertical_1o4ch_71",horizontal:"_Snackbar--layout-horizontal_1o4ch_95"},W=a=>{var e=a,{children:r,layout:c="horizontal",action:W,before:X,after:Y,duration:J=4e3,onActionClick:$,onClose:G,mode:H="default",subtitle:K,offsetY:Q,style:U}=e,V=((a,e)=>{var r={};for(var c in a)n.call(a,c)&&e.indexOf(c)<0&&(r[c]=a[c]);if(null!=a&&t)for(var c of t(a))e.indexOf(c)<0&&o.call(a,c)&&(r[c]=a[c]);return r})(e,["children","layout","action","before","after","duration","onActionClick","onClose","mode","subtitle","offsetY","style"]);const Z=f(),{viewWidth:aa}=m(),ea=aa>=d.SMALL_TABLET,{waitTransitionFinish:ra}=h(),[ta,na]=i(!1),[oa,ca]=i(!1),la=_(0),sa=_(0),ia=_(null),_a=_(null),ua=_(null),ba=Z===k.IOS?320:400,fa=()=>{na(!0),ra(_a.current,(()=>{G()}),ba)},ma=v(fa,J),da=a=>{null!==ua.current&&cancelAnimationFrame(ua.current),ua.current=requestAnimationFrame((()=>{ia.current&&(ia.current.style.transform=`translate3d(${a}%, 0, 0)`)}))},ha=ma.clear;u((()=>ma.set()),[ma]);const ka=Y||ea||K?"vertical":c;return b(N,null,b(S,s(l({},V),{baseClassName:p(w,Z===k.IOS&&R,M[ka],"dark"===H&&P,ta&&I,oa&&D,ea&&T),style:Q?s(l({},U),{bottom:Q}):U}),b(y,{className:C,getRootRef:_a,onStart:ha,onMoveX:a=>{var e,r;const{shiftX:t,originalEvent:n}=a;n.preventDefault(),oa||ca(!0),la.current=t/(null!=(r=null==(e=ia.current)?void 0:e.offsetWidth)?r:0)*100,sa.current=g(la.current,72,1.2,Z!==k.IOS),da(sa.current)},onEnd:a=>{let e;if(oa){let r=sa.current;r+=r/a.duration*240*.6,ea&&r<=-50?(ma.clear(),ra(ia.current,(()=>{G()}),ba),da(-120)):!ea&&r>=50?(ma.clear(),ra(ia.current,(()=>{G()}),ba),da(120)):e=()=>{ma.set(),da(0)}}else ma.set();ca(!1),e&&requestAnimationFrame(e)}},b("div",{className:x,ref:ia},X&&b("div",{className:z},X),b("div",{className:F},b(O,{className:q},r),K&&!W&&b(j,{className:B},K),W&&!K&&b(A,{align:"left",mode:"link",appearance:"dark"===H?"overlay":"accent",size:"s",className:L,onClick:a=>{fa(),W&&"function"==typeof $&&$(a)}},W)),Y&&b("div",{className:E},Y)))))};export{W as S};
