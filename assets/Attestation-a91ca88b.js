import{_ as g,o as e,D as b,L as v,d as N,__tla as $}from"./index-12fcb1ba.js";import{B as P}from"./Button-a58ba127.js";import{P as j}from"./Panel-b4539d2d.js";import{B as C}from"./ButtonGroup-bf903ce8.js";import{M as D,h as c,T as E,p as I}from"./@vkontakte/icons-ec9bb119.js";import{m as L,h as B}from"./makeRequest-ee026c1c.js";import{P as S}from"./PanelHeaderWithBack-57ddcc92.js";import{u as T}from"./useRateLimitExceeded-1f9f663d.js";import"./Snackbar-9cb98137.js";let p,w=Promise.all([(()=>{try{return $}catch(i){}})()]).then(async()=>{let i,m;i=D(()=>g(()=>import("./SubjectsList-28bf309b.js"),["assets/SubjectsList-28bf309b.js","assets/index-12fcb1ba.js","assets/@vkontakte/icons-ec9bb119.js","assets/index-78d55983.css"])),p=({id:l})=>{const[_,o]=c(!1),[f,s]=c(!1),[t,k]=c(null),d=E(async()=>{s(!0),o(!1);try{const r=await(async()=>{const a=localStorage.getItem("cookie"),y=localStorage.getItem("id");return a?L(`/attestation/${y}`):418})();B(r,()=>{o(!0),s(!1)},()=>{T(),o(!0),s(!1)},a=>{s(a)}),k(r)}catch(r){o(!0)}finally{s(!1)}},[]);I(()=>{d()},[]);const n={};let u=null,h=null;return t&&t.students&&(h=t.year,u=`
    ${t.students[0].lastName}
    ${t.students[0].firstName.slice(0,1)}.
    ${t.students[0].middleName.slice(0,1)}.`),t&&t.subjects&&t.subjects.forEach(r=>{const a=`\u0421\u0435\u043C\u0435\u0441\u0442\u0440 ${t.termNumber}`;n[a]||(n[a]=[]),n[a].push(r)}),e(j,{nav:l,children:[e(S,{title:"\u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044F"}),e(b,{children:[e(i,{isDataLoading:f,semesters:n,studentName:u,year:h}),_&&e(m,{onClick:d})]})]})},m=({onClick:l})=>e(N,{header:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435",action:e(C,{mode:"vertical",align:"center",children:[e(P,{size:"s",onClick:l,children:"\u041F\u043E\u043F\u0440\u043E\u0431\u043E\u0432\u0430\u0442\u044C \u0441\u043D\u043E\u0432\u0430"}),e(v,{href:"https://vk.me/dnevnik_spo",target:"_blank",children:"\u0421\u043E\u043E\u0431\u0449\u0438\u0442\u044C \u043E \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0435"})]})})});export{w as __tla,p as default};
