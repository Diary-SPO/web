var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,s=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&i(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&i(e,n,t[n]);return e},l=(e,o)=>t(e,n(o)),c=(e,t)=>{var n={};for(var i in e)r.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n},d=(e,t,n)=>(i(e,"symbol"!=typeof t?t+"":t,n),n);import{_ as u,F as p,q as h,y as f,a as m,p as v,b as g,T as _,c as y,h as b,A as w,N as E,w as A,I as M,d as S,e as x,f as T,g as P,i as k,j as R,k as C,l as L,m as N,s as O,n as I,R as D,o as H,r as W,t as z,u as B,v as V,x as K,z as j,B as F,L as U,D as G,C as Y,E as $,G as q,H as X,J}from"./@vkontakte/icons-Hmxnb1rK.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Q="_-sizeX--compact-forced_1imb7_15",Z="_-sizeX--regular-forced_1imb7_16",ee="_-sizeX--compact-mq_1imb7_21",te="_-sizeX--regular-mq_1imb7_28",ne="_-sizeY--compact-forced_1imb7_36",oe="_-sizeY--regular-forced_1imb7_37",re="_-sizeY--compact-mq_1imb7_42",ae="_-sizeY--regular-mq_1imb7_49",ie="_-viewWidth--tabletPlus-forced_1imb7_57",se="_-viewWidth--tabletMinus-forced_1imb7_58",le="_-viewWidth--tabletMinus-mq_1imb7_63",ce="_-viewWidth--tabletPlus-mq_1imb7_70",de="_-deviceType--mobile-forced_1imb7_78",ue="_-deviceType--desktop-forced_1imb7_79",pe="_-deviceType--mobile-mq_1imb7_85",he="_-deviceType--desktop-mq_1imb7_92";var fe=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}();function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ve(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function ge(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=[];return t.forEach((function(e){if(e)switch(void 0===e?"undefined":_e(e)){case"string":o.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&o.push(t)}));break;default:o.push("".concat(e))}})),o.join(" ")}var be=function(){};function we(e){return"function"==typeof e}function Ee(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var Ae={parse:function(e){if("string"!=typeof e)return{};var t=e.trim().replace(/^[?#&]/,"");return t?t.substring(t.indexOf("?")+1).split("&").reduce((function(e,t){var n=t.split("=");return n[1]&&(e[decodeURIComponent(n[0])]=decodeURIComponent(n[1].replace(/\+/g," "))),e}),{}):{}},stringify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof e||null===e)return"";t=u({encode:!0},t);var n=function(e){return t.encode?encodeURIComponent(e):String(e)};return Object.keys(e).reduce((function(o,r){var a=e[r];return void 0===a?o:null===a?(t.skipNull||o.push([n(r),""].join("=")),o):Array.isArray(a)?(a.map((function(e){o.push("".concat(n(r),"[]=").concat(n(e)))})).join(),o):(o.push([n(r),n(a)].join("=")),o)}),[]).join("&")}};function Me(e){return void 0!==e&&!1!==e&&null!==e&&""!==e}function Se(e){return"string"==typeof e||"number"==typeof e}function xe(e){e||(e=fe?navigator.userAgent:"");var t=function(e){if(!fe)return!1;var t=!/ipad|iphone|ipod/.test(e),n=e.includes("mac os");if(n&&t&&"boolean"==typeof navigator.standalone)return!0;return!1}(e=e.toLowerCase()),n=t||e.includes("ipad"),o=!n&&-1!==e.search(/iphone|ipod/),r=o||n,a=r&&e.match(/os ([\d_]+) like mac os x/i),i=0,s=0;t?(i=13,s=0):a&&(i=+(a=a[1].split("_"))[0],s=+a[1]),a=null;var l=i<13&&!(11===i&&s<3),c=r&&function(e){if(!fe)return!1;var t=window.webkit;if(t&&t.messageHandlers)return!0;var n=/constructor/i.test(String(window.HTMLElement)),o=!!window.indexedDB;if(e.includes("safari")&&e.includes("version")&&!navigator.standalone);else if(!o&&n||!window.statusbar||!window.statusbar.visible);else if(!n||o)return!0;return!1}(e),d=!1;return fe&&(d=r&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:n,isIPhone:o,isIOS:r,isIPadOS:t,iosMajor:i,iosMinor:s,isWKWebView:c,isScrollBasedViewport:l,isIPhoneX:d,isIOSChrome:-1!==e.search(/crios/i)}}var Te=xe(),Pe=function(){return Te.isIOS}(),ke=function(){return Te.isIPadOS}();var Re=function(){var e={hasMouse:!1,hasTouchEvents:!1,hasHover:!1,hasTouch:!1};if(!fe)return e;if(Pe&&!ke)e.hasMouse=!1,e.hasHover=!1,e.hasTouchEvents=!0,e.hasTouch=!0;else if(e.hasTouchEvents="ontouchstart"in document,e.hasTouch=e.hasTouchEvents||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,e.hasTouch){var t=!/android|mobile|tablet/i.test(navigator.userAgent);e.hasMouse="function"==typeof window.matchMedia&&window.matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:t,e.hasHover=e.hasMouse&&("function"==typeof window.matchMedia&&window.matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:t)}else e.hasMouse=!0,e.hasHover=!0;return e}(),Ce=function(){return Re.hasMouse}(),Le=function(){return Re.hasHover}();const Ne=p({}),Oe=()=>h(Ne);var Ie=function(){return Ie=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ie.apply(this,arguments)};function De(e,t,n){if(n||2===arguments.length)for(var o,r=0,a=t.length;r<a;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function He(e,t){var n,o,r=(n={current:0,next:function(){return++this.current}},o={},{add:function(e,t){var r=null!=t?t:n.next();return o[r]=e,r},resolve:function(e,t,n){var r=o[e];r&&(n(t)?r.resolve(t):r.reject(t),o[e]=null)}});return t((function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(t,["request_id"]);n&&r.resolve(n,o,(function(e){return!("error_type"in e)}))}})),function(t,n){return void 0===n&&(n={}),new Promise((function(o,a){var i=r.add({resolve:o,reject:a},n.request_id);e(t,Ie(Ie({},n),{request_id:i}))}))}}var We="undefined"!=typeof window,ze=Boolean(We&&window.AndroidBridge),Be=Boolean(We&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),Ve=Boolean(We&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),Ke=We&&!ze&&!Be,je=Ke&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),Fe=Ke?"message":"VKWebAppEvent",Ue=De(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate","VKWebAppRecommend","VKWebAppAddToProfile"],Ke&&!je?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppGetFriends","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"],!0),Ge=We?window.AndroidBridge:void 0,Ye=Be?window.webkit.messageHandlers:void 0,$e=Ke?parent:void 0;var qe,Xe,Je,Qe,Ze,et,tt,nt,ot,rt,at,it,st,lt;(Xe=qe||(qe={})).REWARD="reward",Xe.INTERSTITIAL="interstitial",(Qe=Je||(Je={})).RESIZE="resize",Qe.OVERLAY="overlay",(et=Ze||(Ze={})).TOP="top",et.BOTTOM="bottom",(nt=tt||(tt={})).CAMERA="camera",nt.LOCATION="location",nt.PHOTO="photo",(rt=ot||(ot={})).RU="ru",rt.UK="uk",rt.UA="ua",rt.EN="en",rt.BE="be",rt.KZ="kz",rt.PT="pt",rt.ES="es",(it=at||(at={})).ADMIN="admin",it.EDITOR="editor",it.MEMBER="member",it.MODER="moder",it.NONE="none",(lt=st||(st={})).DESKTOP_WEB="desktop_web",lt.DESKTOP_WEB_MESSENGER="desktop_web_messenger",lt.DESKTOP_APP_MESSENGER="desktop_app_messenger",lt.MOBILE_WEB="mobile_web",lt.MOBILE_ANDROID="mobile_android",lt.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",lt.MOBILE_IPHONE="mobile_iphone",lt.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",lt.MOBILE_IPAD="mobile_ipad";var ct,dt,ut=function(e){var t=void 0,n=[];function o(e){n.push(e)}function r(){return Be||ze}function a(){return Ke&&window.parent!==window}function i(){return r()||a()}function s(e){if(Be||ze)return De([],n,!0).map((function(t){return t.call(null,e)}));var o=null==e?void 0:e.data;if(Ke&&o){if(Ve&&"string"==typeof o)try{o=JSON.parse(o)}catch(e){}var r=o.type,a=o.data,i=o.frameId;r&&("VKWebAppSettings"!==r?De([],n,!0).map((function(e){return e({detail:{type:r,data:a}})})):t=i)}}Ve&&/(android)/i.test(navigator.userAgent)?document.addEventListener(Fe,s):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(Fe,s);var l=He((function(n,o){Ge&&Ge[n]?Ge[n](JSON.stringify(o)):Ye&&Ye[n]&&"function"==typeof Ye[n].postMessage?Ye[n].postMessage(o):Ve?window.ReactNativeWebView.postMessage(JSON.stringify({handler:n,params:o})):$e&&"function"==typeof $e.postMessage&&$e.postMessage({handler:n,params:o,type:"vk-connect",webFrameId:t,connectVersion:e},"*")}),o);return{send:l,sendPromise:l,subscribe:o,unsubscribe:function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)},supports:function(e){return ze?!(!Ge||"function"!=typeof Ge[e]):Be?!(!Ye||!Ye[e]||"function"!=typeof Ye[e].postMessage):!!Ke&&Ue.includes(e)},isWebView:r,isIframe:a,isEmbedded:i,isStandalone:function(){return!i()}}}("2.12.1");(dt=ct||(ct={})).IOS="ios",dt.UNKNOWN="";const pt={};function ht(e){return{matches:!1,media:e,onchange:be,addListener:be,removeListener:be,addEventListener:be,removeEventListener:be,dispatchEvent:()=>!1}}const ft=p({window:fe?window:void 0,document:fe?document:void 0}),mt=()=>h(ft);function vt(e){e&&e.activeElement&&e.activeElement.blur()}var gt,_t;(_t=gt||(gt={})).ANDROID="android",_t.IOS="ios",_t.VKCOM="vkcom";const yt=fe?function(e){const t={desktop_web:"vkcom"};try{const n=Ae.parse(e).vk_platform;return"string"==typeof n&&n in t?t[n]:void 0}catch(e){return}}(location.search):void 0;var bt,wt;(wt=bt||(bt={})).VKAPPS="vkapps",wt.INTERNAL="internal";const Et=p({webviewType:void 0,hasCustomPanelHeaderAfter:!0,customPanelHeaderAfterMinWidth:90,isWebView:ut.isWebView(),transitionMotionEnabled:!0,platform:yt||(At||(At=function(e=""){if(pt[e])return pt[e];let t=null,n="";const{isIOS:o,iosMajor:r,iosMinor:a}=xe(e);o&&(n="ios",t={major:r,minor:a});const i={userAgent:e,system:n,systemVersion:t};return pt[e]=i,i}()),"ios"===At.system?"ios":"android"),appearance:void 0,locale:"ru"});var At;const Mt=()=>h(Et);function St(){const{appearance:e}=Mt();return null!=e?e:"light"}const xt=fe?m:v;var Tt,Pt;(Pt=Tt||(Tt={})).ENTER="Enter",Pt.SPACE="Space",Pt.TAB="Tab",Pt.ESCAPE="Escape",Pt.HOME="Home",Pt.END="End",Pt.ARROW_LEFT="ArrowLeft",Pt.ARROW_RIGHT="ArrowRight",Pt.ARROW_UP="ArrowUp",Pt.ARROW_DOWN="ArrowDown",Pt.PAGE_UP="PageUp",Pt.PAGE_DOWN="PageDown";const kt=[{code:"Enter",key:["Enter"],keyCode:13},{code:"Space",key:["Space","Spacebar"," "],keyCode:32},{code:"Tab",key:["Tab"],keyCode:9},{code:"Escape",key:["Escape"],keyCode:27},{code:"Home",key:["Home"],keyCode:36},{code:"End",key:["End"],keyCode:35},{code:"ArrowLeft",key:["ArrowLeft"],keyCode:37},{code:"ArrowRight",key:["ArrowRight"],keyCode:39},{code:"ArrowUp",key:["ArrowUp"],keyCode:40},{code:"ArrowDown",key:["ArrowDown"],keyCode:40},{code:"PageUp",key:["PageUp"],keyCode:40},{code:"PageDown",key:["PageDown"],keyCode:40}];function Rt(e){var t;return(null==(t=kt.find((({key:t,keyCode:n})=>t.includes(e.key)||n===e.keyCode)))?void 0:t.code)||null}function Ct(e,t,n){const o=g(t);xt((()=>{o.current=t}),[t]);const r=_((e=>o.current&&o.current(e)),[]),a=g(be),i=_((()=>{a.current(),a.current=be}),[]),l=_((t=>{if(!fe)return;if(i(),!t)return;const o=s({},n);t.addEventListener(e,r,o),a.current=()=>t.removeEventListener(e,r,o)}),[n,r,e,i]);return v((()=>i),[i]),y((()=>({add:l,remove:i})),[l,i])}function Lt(e,t,n,o){const r=Ct(t,n,o);xt((()=>{n&&e?r.add(e):r.remove()}),[Boolean(n),Boolean(e)])}const Nt={DESKTOP:1280,TABLET:1024,SMALL_TABLET:768,MOBILE:320,MOBILE_LANDSCAPE_HEIGHT:415,MEDIUM_HEIGHT:720};function Ot(e){return`(min-width: ${e}px)`}function It(e){return`(max-width: ${e-.1}px)`}function Dt(e,t){return`${Ot(e)} and ${It(t)}`}function Ht(e){return`(min-height: ${e}px)`}function Wt(e){return`(max-height: ${e-.1}px)`}var zt,Bt,Vt,Kt,jt,Ft,Ut={BREAKPOINTS:Nt,MEDIA_QUERIES:{DESKTOP_PLUS:Ot(Nt.DESKTOP),TABLET:Dt(Nt.TABLET,Nt.DESKTOP),SMALL_TABLET_PLUS:Ot(Nt.SMALL_TABLET),SMALL_TABLET:Dt(Nt.SMALL_TABLET,Nt.TABLET),MOBILE:Dt(Nt.MOBILE,Nt.SMALL_TABLET),MEDIUM_HEIGHT:Ht(Nt.MEDIUM_HEIGHT),MOBILE_LANDSCAPE_HEIGHT:Ht(Nt.MOBILE_LANDSCAPE_HEIGHT)},widthHalfInterval:Dt,widthPlus:Ot,widthMinus:It,heightHalfInterval:function(e,t){return`${Ht(e)} and ${Wt(t)}`},heightPlus:Ht,heightMinus:Wt};(Bt=zt||(zt={}))[Bt.SMALL_MOBILE=1]="SMALL_MOBILE",Bt[Bt.MOBILE=2]="MOBILE",Bt[Bt.SMALL_TABLET=3]="SMALL_TABLET",Bt[Bt.TABLET=4]="TABLET",Bt[Bt.DESKTOP=5]="DESKTOP",(Kt=Vt||(Vt={}))[Kt.EXTRA_SMALL=1]="EXTRA_SMALL",Kt[Kt.SMALL=2]="SMALL",Kt[Kt.MEDIUM=3]="MEDIUM",(Ft=jt||(jt={})).COMPACT="compact",Ft.REGULAR="regular";const Gt={1:"smallMobileMinus",2:"mobile",3:"smallTablet",4:"tablet",5:"desktopPlus"};function Yt(e){return e>=Ut.BREAKPOINTS.DESKTOP?zt.DESKTOP:e>=Ut.BREAKPOINTS.TABLET?zt.TABLET:e>=Ut.BREAKPOINTS.SMALL_TABLET?zt.SMALL_TABLET:e>=Ut.BREAKPOINTS.MOBILE?zt.MOBILE:zt.SMALL_MOBILE}function $t(e){return e.desktopPlus.matches?zt.DESKTOP:e.tablet.matches?zt.TABLET:e.smallTablet.matches?zt.SMALL_TABLET:e.mobile.matches?zt.MOBILE:zt.SMALL_MOBILE}function qt(e){return e>=Ut.BREAKPOINTS.MEDIUM_HEIGHT?Vt.MEDIUM:e>=Ut.BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT?Vt.SMALL:Vt.EXTRA_SMALL}function Xt(e){return e.mediumHeight.matches?Vt.MEDIUM:e.mobileLandscapeHeight.matches?Vt.SMALL:Vt.EXTRA_SMALL}function Jt(e,t,n,o){const r=o===gt.VKCOM;if((void 0===e||void 0===n)&&(void 0===e||void 0===t)||void 0===n&&void 0===t)return!!r||null;const a=e>=zt.SMALL_TABLET,i=n||void 0!==t&&t>=Vt.MEDIUM;return a&&i||r}function Qt(e,t="none"){if("none"===t)return e.hasOwnProperty("none")?e.none:null;const n=[],o=Gt[t];return e.hasOwnProperty(o)&&n.push(e[o]),t>=zt.MOBILE&&e.hasOwnProperty("mobilePlus")&&n.push(e.mobilePlus),t>=zt.SMALL_TABLET?e.hasOwnProperty("smallTabletPlus")&&n.push(e.smallTabletPlus):e.hasOwnProperty("smallTabletMinus")&&n.push(e.smallTabletMinus),t>=zt.TABLET?e.hasOwnProperty("tabletPlus")&&n.push(e.tabletPlus):e.hasOwnProperty("tabletMinus")&&n.push(e.tabletMinus),n.length>0?n.join(" "):null}const Zt=e=>"object"==typeof e&&null!==e&&e.hasOwnProperty("current");function en(e){const t=new Set;return(e,n="warn")=>{if(!t.has(e)){t.add(e)}}}const tn=p({portalRoot:null}),nn=(e,t,n)=>Math.max(t,Math.min(e,n)),on=e=>{Object.assign(e.style,{position:"",top:"",left:"",right:"",overflowY:"",overflowX:""})},rn=e=>{const t=e.document.documentElement.clientHeight-e.innerHeight;return e.pageYOffset-t},an=p({getScroll:()=>({x:0,y:0}),scrollTo:be,isScrollLock:!1,enableScrollLock:be,disableScrollLock:be}),sn=()=>h(an),ln=({children:e})=>{const{window:t,document:n}=mt(),[o,r]=b(!1),a=g(new Set),i=_((()=>({x:t.pageXOffset,y:rn(t)})),[t]),s=_(((e=0,o=0)=>{t.scrollTo(e?nn(e,0,n.body.scrollWidth-t.innerWidth):0,o?nn(o,0,n.body.scrollHeight-t.innerHeight):0)}),[n,t]),l=_((()=>{a.current.forEach((e=>{e()}));const e=t.pageYOffset,o=t.pageXOffset,i=t.innerWidth>n.documentElement.clientWidth?"scroll":"",s=t.innerHeight>n.documentElement.clientHeight?"scroll":"";Object.assign(n.body.style,{position:"fixed",top:`-${e}px`,left:`-${o}px`,right:"0",overflowY:i,overflowX:s}),r(!0)}),[n,t]),c=_((()=>{const e=n.body.style.top,o=n.body.style.left;on(n.body),t.scrollTo(-parseInt(o||"0"),-parseInt(e||"0")),r(!1)}),[n,t]),d=y((()=>({getScroll:i,scrollTo:s,isScrollLock:o,disableScrollLock:c,enableScrollLock:l,beforeScrollLockFnSetRef:a})),[i,s,o,c,l]);return f(an.Provider,{value:d},e)},cn=({elRef:e,children:t})=>{const[n,o]=b(!1),r=g(new Set),a=_((()=>{var t,n,o,r;return{x:null!=(n=null==(t=e.current)?void 0:t.scrollLeft)?n:0,y:null!=(r=null==(o=e.current)?void 0:o.scrollTop)?r:0}}),[e]),i=_(((t=0,n=0)=>{const o=e.current;null==o||o.scrollTo(t?nn(t,0,o.scrollWidth-o.clientWidth):0,n?nn(n,0,o.scrollHeight-o.clientHeight):0)}),[e]),s=_((()=>{const t=e.current;if(!t)return;r.current.forEach((e=>{e()}));const n=t.scrollTop,a=t.scrollLeft,i=t.scrollWidth>t.clientWidth?"scroll":"",s=t.scrollHeight>t.clientHeight?"scroll":"";Object.assign(t.style,{position:"absolute",top:`-${n}px`,left:`-${a}px`,right:"0",overflowY:i,overflowX:s}),o(!0)}),[e]),l=_((()=>{const t=e.current;if(!t)return;const n=t.style.top,r=t.style.left;on(t),t.scrollTo(-parseInt(r||"0"),-parseInt(n||"0")),o(!1)}),[e]),c=y((()=>({getScroll:a,scrollTo:i,isScrollLock:n,disableScrollLock:l,enableScrollLock:s,beforeScrollLockFnSetRef:r})),[a,i,n,l,s]);return f(an.Provider,{value:c},t)},dn=(e=!0)=>{const{enableScrollLock:t,disableScrollLock:n}=sn();xt((()=>e?(t(),n):be),[t,n,e])},un=e=>{var t=e,{Component:n="div",baseClassName:o,className:r,getRootRef:a}=t,i=c(t,["Component","baseClassName","className","getRootRef"]);return f(n,s({ref:a,className:ye(o,r)},i))},pn="_Typography--normalize_182ve_1",hn="_Typography_182ve_1",fn={1:"_Typography--weight-1_182ve_9",2:"_Typography--weight-2_182ve_13",3:"_Typography--weight-3_182ve_17"},mn=e=>{var t=e,{weight:n,Component:o="span",normalize:r}=t,a=c(t,["weight","Component","normalize"]);return f(un,s({Component:o,baseClassName:ye(hn,r&&pn,n&&fn[n])},a))},vn={1:"_Title--level-1_9ajty_1",2:"_Title--level-2_9ajty_8",3:"_Title--level-3_9ajty_15"},gn=e=>{var t=e,{className:n,level:o="1",Component:r,normalize:a=!0}=t,i=c(t,["className","level","Component","normalize"]);return r||(r="h"+o),f(mn,s({Component:r,normalize:a,className:ye(n,vn[o])},i))},_n="_Headline--sizeY-compact_gf12h_8",yn={1:"_Headline--level-1_gf12h_1",2:"_Headline--level-2_gf12h_20"},bn={none:"_Headline--sizeY-none_gf12h_14",[jt.COMPACT]:_n},wn=e=>{var t=e,{className:n,weight:o="3",level:r="1",Component:a="h4",normalize:i=!0}=t,l=c(t,["className","weight","level","Component","normalize"]);const{sizeY:d="none"}=Oe();return f(mn,s({Component:a,normalize:i,weight:o,className:ye(n,d!==jt.REGULAR&&bn[d],yn[r])},l))},En="_Text_1tzbj_1",An="_Text--sizeY-compact_1tzbj_8",Mn={none:"_Text--sizeY-none_1tzbj_14",[jt.COMPACT]:An},Sn=e=>{var t=e,{className:n,Component:o="span",normalize:r=!0}=t,a=c(t,["className","Component","normalize"]);const{sizeY:i="none"}=Oe();return f(mn,s({Component:o,normalize:r,className:ye(n,En,i!==jt.REGULAR&&Mn[i])},a))},xn="_Paragraph_q43lm_1",Tn=e=>{var t=e,{className:n,Component:o="span",normalize:r=!1}=t,a=c(t,["className","Component","normalize"]);return f(mn,s({Component:o,normalize:r,className:ye(n,xn)},a))},Pn="_Subhead_1pmgz_1",kn="_Subhead--sizeY-compact_1pmgz_8",Rn={none:"_Subhead--sizeY-none_1pmgz_14",[jt.COMPACT]:kn},Cn=e=>{var t=e,{className:n,Component:o="h5",normalize:r=!0}=t,a=c(t,["className","Component","normalize"]);const{sizeY:i="none"}=Oe();return f(mn,s({Component:o,normalize:r,className:ye(n,Pn,i!==jt.REGULAR&&Rn[i])},a))},Ln="_Footnote_1p3lo_1",Nn="_Footnote--caps_1p3lo_8",On=e=>{var t=e,{className:n,caps:o,Component:r="span",normalize:a=!0}=t,i=c(t,["className","caps","Component","normalize"]);return f(mn,s({Component:r,normalize:a,className:ye(n,Ln,o&&Nn)},i))};function In(e=!1){const[t,n]=b(e);return xt((()=>{n(!0)}),[]),t}function Dn(e=!0){const{hasPointer:t}=h(Ne);return In(!(e||void 0===t))&&void 0===t?Ce:t}function Hn(e,t){t&&("function"==typeof t?t(e):t.current=e)}function Wn(...e){let t=null;return{get current(){return t},set current(n){t=n,e.forEach((e=>e&&Hn(n,e)))}}}function zn(e){let t="";return w.map(e,(e=>{"string"==typeof e&&(t+=" "+e)})),t.trim()}const Bn=e=>e.stopPropagation();function Vn(...e){const t=g(null);return y((()=>({get current(){return t.current},set current(n){t.current=n,e.forEach((e=>{e&&Hn(n,e)}))}})),e)}function Kn(e=!0){const[t,n]=b(!1),{keyboardInput:o}=h(tn);return{focusVisible:e?o&&t:t,onFocus:_((e=>{e.stopPropagation(),n(!0)}),[n]),onBlur:_((e=>{e.stopPropagation(),n(!1)}),[n])}}function jn(){const{platform:e}=Mt();return e}function Fn(e,t){const n=g({cb:e,duration:t});xt((()=>{n.current.cb=e,n.current.duration=t}),[e,t]);const o=g(),r=_((()=>{fe&&(null==o?void 0:o.current)&&clearTimeout(o.current)}),[]),a=_(((e=n.current.duration)=>{r(),fe&&(o.current=setTimeout((()=>{const{cb:e}=n.current;"function"==typeof e&&e()}),e))}),[r]);return xt((()=>r),[]),{set:a,clear:r}}const Un=(...e)=>(...t)=>e.filter((e=>"function"==typeof e)).forEach((e=>e(...t)));const Gn=e=>null!=e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX,Yn=e=>null!=e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY,$n=()=>fe&&"ontouchstart"in window;function qn(){return $n()?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"]}function Xn(e,t,n,o){if(o||e<0)return e;const r=e*n;return r*t/(r+t)}const Jn="_FocusVisible_bvkx1_1",Qn="_FocusVisible--visible_bvkx1_17",Zn="_FocusVisible--thin_bvkx1_31",eo={inside:"_FocusVisible--mode-inside_bvkx1_35",outside:"_FocusVisible--mode-outside_bvkx1_51",outline:"_FocusVisible--mode-outline_bvkx1_36"},to=e=>{var t=e,{visible:n,mode:o,thin:r}=t,a=c(t,["visible","mode","thin"]);return f(un,l(s({},a),{"aria-hidden":!0,baseClassName:ye(Jn,n&&Qn,r&&Zn,eo[o])}))},no=e=>{var t=e,{onStart:n,onStartX:o,onStartY:r,onMove:a,onMoveX:i,onMoveY:d,onLeave:u,onEnter:p,onEnd:h,onEndX:m,onEndY:v,onClickCapture:_,usePointerHover:b,slideThreshold:w=5,useCapture:E=!1,Component:A="div",getRootRef:M,noSlideClick:S=!1,stopPropagation:x=!1}=t,T=c(t,["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onLeave","onEnter","onEnd","onEndX","onEndY","onClickCapture","usePointerHover","slideThreshold","useCapture","Component","getRootRef","noSlideClick","stopPropagation"]);const{document:P}=mt(),k=y(qn,[]),R=g(!1),C=g(null),L=(e,t)=>{x&&e.stopPropagation(),t.forEach((t=>{var n,o,r;const a=Date.now()-(null!=(r=null==(o=null==(n=C.current)?void 0:n.startT)?void 0:o.getTime())?r:0);t&&t(l(s({},C.current),{duration:a,originalEvent:e}))}))},N=Ct(b?"pointerenter":"mouseenter",p),O=Ct(b?"pointerleave":"mouseleave",u),I=Ct(k[0],(e=>{var t,a,i;C.current=(t=Gn(e),a=Yn(e),{startX:t,startY:a,startT:new Date,duration:0,isPressed:!0,isY:!1,isX:!1,isSlideX:!1,isSlideY:!1,isSlide:!1,shiftX:0,shiftY:0,shiftXAbs:0,shiftYAbs:0}),L(e,[n,o,r]),(i=$n()?e.target:P)&&z.forEach((e=>e.add(i)))}),{capture:E,passive:!1}),D=Vn(M);function H(e){var t;const{isPressed:n,isSlide:o,isSlideX:r,isSlideY:a}=null!=(t=C.current)?t:{};n&&L(e,[h,a&&v,r&&m]);const i=$n();R.current=(!i||!o)&&Boolean(o),C.current={},i&&u&&u(e),z.forEach((e=>e.remove()))}xt((()=>{const e=D.current;e&&(N.add(e),O.add(e),I.add(e))}),[A]);const W={capture:E,passive:!1},z=[Ct(k[1],(function(e){var t,n;const{isPressed:o,isX:r,isY:s,startX:l=0,startY:c=0}=null!=(t=C.current)?t:{};if(o){const t=Gn(e)-l,o=Yn(e)-c,u=Math.abs(t),p=Math.abs(o);if(e.touches&&e.touches.length>1)return H(e);if(!r&&!s){const e=u>=w&&u>p,t=p>=w&&p>u,n=e&&(!!i||!!a),o=t&&(!!d||!!a);C.current&&Object.assign(C.current,{isY:t,isX:e,isSlideX:n,isSlideY:o,isSlide:n||o})}(null==(n=C.current)?void 0:n.isSlide)&&(Object.assign(C.current,{shiftX:t,shiftY:o,shiftXAbs:u,shiftYAbs:p}),L(e,[a,C.current.isSlideX&&i,C.current.isSlideY&&d]))}}),W),Ct(k[2],H,W),Ct(k[3],H,W)];return f(A,l(s({},T),{onDragStart:e=>{const t=e.target;"A"!==t.tagName&&"IMG"!==t.tagName||e.preventDefault()},onClickCapture:e=>{if(!R.current)return _&&_(e);S?(e.stopPropagation(),e.preventDefault()):_&&_(e),R.current=!1},ref:D}))};const oo=p(!1),ro="_Tappable_tw6a9_1",ao="_Tappable--hasHover_tw6a9_27",io="_Tappable--hasActive_tw6a9_28",so="_Tappable--focus-visible_tw6a9_39",lo="_Tappable__stateLayer_tw6a9_47",co="_Tappable--ios_tw6a9_80",uo="_Tappable__waves_tw6a9_84",po="_Tappable__wave_tw6a9_84",ho="_Tappable--borderRadiusInherit_tw6a9_126",fo={none:"_Tappable--sizeX-none_tw6a9_121",compact:"_Tappable--sizeX-compact_tw6a9_116"},mo={background:"_Tappable--hover-background_tw6a9_60",opacity:"_Tappable--hover-opacity_tw6a9_64"},vo={background:"_Tappable--active-background_tw6a9_68",opacity:"_Tappable--active-opacity_tw6a9_72"},go=600,_o={all:yo=yo||new Map,on:function(e,t){var n=yo.get(e);n?n.push(t):yo.set(e,[t])},off:function(e,t){var n=yo.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):yo.set(e,[]))},emit:function(e,t){var n=yo.get(e);n&&n.slice().map((function(e){e(t)})),(n=yo.get("*"))&&n.slice().map((function(n){n(e,t)}))}};var yo;const bo=0,wo=1,Eo=2,Ao=3,Mo=p({onHoverChange:be});function So(e){switch(e){case"opacity":case"background":return!0;default:return!1}}const xo=e=>{var t=e,{children:n,Component:o,onClick:r,onKeyDown:a,activeEffectDelay:i=go,stopPropagation:d=!1,getRootRef:u,hasHover:p=!0,hoverMode:m="background",hasActive:v=!0,activeMode:w="background",focusVisibleMode:E="inside",onEnter:A,onLeave:M,className:S,hovered:x,activated:T,borderRadiusMode:P="auto"}=t,k=c(t,["children","Component","onClick","onKeyDown","activeEffectDelay","stopPropagation","getRootRef","hasHover","hoverMode","hasActive","activeMode","focusVisibleMode","onEnter","onLeave","className","hovered","activated","borderRadiusMode"]);o=o||(k.href?"a":"div");const{onHoverChange:R}=h(Mo),C=h(oo),L=jn(),{focusVisible:N,onBlur:O,onFocus:I}=Kn(),{sizeX:D="none",hasHover:H=!0}=Oe(),W=Dn(),[z,B]=b([]),[V,K]=b(!1),{value:j,setTrue:F,setFalse:U}=((e=!1)=>{const[t,n]=b(e),o=_((()=>{n(!0)}),[]),r=_((()=>{n(!1)}),[]),a=_((()=>{n(!t)}),[t]);return{value:t,setTrue:o,setFalse:r,toggle:a}})(!1),G=(j||x)&&!k.disabled,Y=v&&!V&&!k.disabled,$=H&&p&&!V,q="a"!==o&&"button"!==o&&"label"!==o&&!k.contentEditable,X=So(m),J=So(w),Q=["inside","outside"].includes(E),[Z,{start:ee,stop:te,delayStart:ne}]=function(e,t){const n=y((()=>Math.round(1e8*Math.random()).toString(16)),[]),[o,r]=b(bo),a=()=>r(bo),i=()=>e&&r(Eo),s=Fn(i,70),l=Fn(a,t);return xt((()=>o===wo?(s.set(),s.clear):o===Ao?l.clear:(o===Eo&&_o.emit("active",n),be)),[o]),xt((()=>{if(o===bo)return be;const e=e=>{e!==n&&a()};return _o.on("active",e),()=>_o.off("active",e)}),[o===bo]),xt((()=>{!e&&a()}),[e]),[o,{delayStart:()=>{e&&r(wo)},start:i,stop:e=>{if(e)return r(Ao),l.set(e);a()}}]}(Y,i),oe=(Z===Eo||Z===Ao||T)&&!k.disabled,re=Vn(u),ae=g({onHoverChange:K}).current;xt((()=>G?(R(!0),()=>R(!1)):be),[G]);const ie=L===gt.ANDROID&&!W&&Y&&"background"===w,se=Fn((()=>B([])),225);const le=ye(S,ro,"vkuiInternalTappable",L===gt.IOS&&co,D!==jt.REGULAR&&fo[D],$&&ao,Y&&io,$&&G&&!X&&m,Y&&oe&&!J&&w,N&&!Q&&E,$&&G&&X&&mo[m],Y&&oe&&J&&vo[w],N&&so,"inherit"===P&&ho),ce={onStart:Un((function({originalEvent:e}){if(Y){if(e.touches&&e.touches.length>1)return te();if(ie){const{top:t,left:n}=function(e){const t=null==e?void 0:e.getBoundingClientRect();return{top:null==t?void 0:t.top,left:null==t?void 0:t.left,width:null==e?void 0:e.offsetWidth,height:null==e?void 0:e.offsetHeight}}(re.current);!function(e,t){const n=Date.now(),o=z.filter((e=>e.id+225>n));B([...o,{x:e,y:t,id:n}]),se.set()}(Gn(e)-(null!=n?n:0),Yn(e)-(null!=t?t:0))}ne()}}),k.onStart),onMove:Un((function({isSlide:e}){e&&te()}),k.onMove),onEnd:Un((function({duration:e}){if(Z===bo)return;Z===wo&&ee();const t=e-70;te(t>=100?0:i-t)}),k.onEnd),onClick:r,onKeyDown:Un((function(e){var t;q&&function(e){const t=e.target,{tagName:n}=t,o=t.getAttribute("role"),r=!0!==t.isContentEditable&&"INPUT"!==n&&"TEXTAREA"!==n&&("button"===o||"link"===o),a="A"===n&&t.hasAttribute("href"),i=Rt(e);return r&&("Space"===i&&"button"===o||"Enter"===i&&!a)}(e)&&(e.preventDefault(),null==(t=re.current)||t.click())}),a)},de=k.href?"link":"button";return f(no,s(l(s({onEnter:Un(F,A),onLeave:Un(U,M),type:"button"===o?"button":void 0,tabIndex:q&&!k.disabled?0:void 0,role:q?de:void 0,"aria-disabled":q?k.disabled:void 0,stopPropagation:d&&!C&&!k.disabled},k),{slideThreshold:20,usePointerHover:!0,className:le,Component:o,getRootRef:re,onBlur:Un(O,k.onBlur),onFocus:Un(I,k.onFocus)}),k.disabled?{}:ce),f(Mo.Provider,{value:ae},n),ie&&f("span",{"aria-hidden":!0,className:uo},z.map((e=>f("span",{key:e.id,className:po,style:{top:e.y,left:e.x}})))),($&&"background"===m||Y&&"background"===w)&&f("span",{"aria-hidden":!0,className:lo}),!k.disabled&&Q&&f(to,{visible:N,mode:E}))},To=p({colRef:null,animate:!0}),Po=()=>h(To),ko=E((function(e,t){var n=e,{fixed:o=!1}=n,r=c(n,["fixed"]);return r["data-tooltip-container"]=o?"fixed":"true",f("div",l(s({},r),{ref:t}))})),Ro="_FixedLayout_zmcx7_1",Co="_FixedLayout--filled_zmcx7_20",Lo={top:"_FixedLayout--vertical-top_zmcx7_24",bottom:ye("_FixedLayout--vertical-bottom_zmcx7_29","vkuiInternalFixedLayout--vertical-bottom")},No=e=>{var t=e,{children:n,style:o,vertical:r,getRootRef:a,getRef:i,filled:d,className:u,useParentWidth:p}=t,m=c(t,["children","style","vertical","getRootRef","getRef","filled","className","useParentWidth"]);const g=jn(),_=Vn(a,i),[y,w]=b(void 0),{window:E}=mt(),{colRef:A}=h(To),M=()=>{var e;if(p&&_.current){const t=null==(e=_.current.parentElement)?void 0:e.getBoundingClientRect().width;w(t?`${t}px`:void 0)}else if(null==A?void 0:A.current){const e=getComputedStyle(A.current);w(A.current.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)+"px")}else w(void 0)};return v(M,[A,g,_,p]),Lt(E,"resize",M),f(ko,l(s({},m),{fixed:!0,ref:_,className:ye(Ro,g===gt.IOS&&"vkuiInternalFixedLayout--ios",d&&Co,r&&Lo[r],u),style:l(s({},o),{width:y})}),n)},Oo="_VisuallyHidden_ev6tg_2",Io=e=>{var t=e,{Component:n="span"}=t,o=c(t,["Component"]);return f(un,l(s({Component:n},o),{baseClassName:Oo}))},Do="_Spinner_1gw8b_1",Ho=A((e=>{var t=e,{size:n="regular",children:o="Загружается...","aria-label":r="Загружается...",disableAnimation:a}=t,i=c(t,["size","children","aria-label","disableAnimation"]);const d={small:M,regular:S,medium:x,large:T}[n],u={small:8,regular:12,medium:16,large:22}[n];return f(un,l(s({Component:"span",role:"status"},i),{baseClassName:Do}),f(d,null,!a&&f("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`0 ${u} ${u}`,to:`360 ${u} ${u}`,dur:"0.7s",repeatCount:"indefinite"})),f(Io,null,null!=o?o:r))}));function Wo(e,t){return e.nav||e.id}function zo(e){const t=g(e);var n,o;return n=t.current,o=e,Object.keys(n).length===Object.keys(o).length&&Object.keys(n).every((e=>n[e]===o[e]))||(t.current=e),t.current}function Bo(e){const t=g();return v((()=>{t.current=e})),t.current}Ho.displayName="Spinner";const Vo=Boolean(fe&&window.__isVkuiTesting),Ko={supported:!1},jo={supported:!1,name:null};fe&&!Vo&&(("undefined"!=typeof AnimationEvent||"undefined"!=typeof WebKitAnimationEvent)&&(Ko.supported=!0),"undefined"!=typeof TransitionEvent?(jo.supported=!0,jo.name="transitionend"):"undefined"!=typeof WebKitTransitionEvent&&(jo.supported=!0,jo.name="webkitTransitionEnd"));const Fo=()=>{const e=g(null),{document:t}=mt(),n=g(be),o=_((()=>{n.current(),n.current=be}),[]);return{waitTransitionFinish:_(((r,a,i)=>{r&&(!(null==t?void 0:t.hidden)&&jo.supported&&jo.name?(o(),r.addEventListener(jo.name,a),n.current=()=>{jo.name&&r.removeEventListener(jo.name,a)}):((null==e?void 0:e.current)&&clearTimeout(e.current),e.current=setTimeout(a,i)))}),[t,o,e])}};function Uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||ve(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Go(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function Yo(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){Go(a,o,r,i,s,"next",e)}function s(e){Go(a,o,r,i,s,"throw",e)}i(void 0)}))}}function $o(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}"function"==typeof SuppressedError&&SuppressedError;var qo=["top","right","bottom","left"],Xo=["start","end"],Jo=qo.reduce((function(e,t){return e.concat(t,t+"-"+Xo[0],t+"-"+Xo[1])}),[]),Qo=Math.min,Zo=Math.max,er=Math.round,tr=Math.floor,nr=function(e){return{x:e,y:e}},or={left:"right",right:"left",bottom:"top",top:"bottom"},rr={start:"end",end:"start"};function ar(e,t,n){return Zo(e,Qo(t,n))}function ir(e,t){return"function"==typeof e?e(t):e}function sr(e){return e.split("-")[0]}function lr(e){return e.split("-")[1]}function cr(e){return"x"===e?"y":"x"}function dr(e){return"y"===e?"height":"width"}function ur(e){return["top","bottom"].includes(sr(e))?"y":"x"}function pr(e){return cr(ur(e))}function hr(e,t,n){void 0===n&&(n=!1);var o=lr(e),r=pr(e),a=dr(r),i="x"===r?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=mr(i)),[i,mr(i)]}function fr(e){return e.replace(/start|end/g,(function(e){return rr[e]}))}function mr(e){return e.replace(/left|right|bottom|top/g,(function(e){return or[e]}))}function vr(e){return"number"!=typeof e?function(e){return u({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function gr(e){return P(u({},e),{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}function _r(e,t,n){var o,r=e.reference,a=e.floating,i=ur(t),s=pr(t),l=dr(s),c=sr(t),d="y"===i,u=r.x+r.width/2-a.width/2,p=r.y+r.height/2-a.height/2,h=r[l]/2-a[l]/2;switch(c){case"top":o={x:u,y:r.y-a.height};break;case"bottom":o={x:u,y:r.y+r.height};break;case"right":o={x:r.x+r.width,y:p};break;case"left":o={x:r.x-a.width,y:p};break;default:o={x:r.x,y:r.y}}switch(lr(t)){case"start":o[s]-=h*(n&&d?-1:1);break;case"end":o[s]+=h*(n&&d?-1:1)}return o}var yr,br=(yr=Yo((function(e,t,n){var o,r,a,i,s,l,c,d,p,h,f,m,v,g,_,y,b,w,E,A,M,S,x,T,R,C;return $o(this,(function(L){switch(L.label){case 0:return o=n.placement,r=void 0===o?"bottom":o,a=n.strategy,i=void 0===a?"absolute":a,s=n.middleware,l=void 0===s?[]:s,c=n.platform,d=l.filter(Boolean),[4,null==c.isRTL?void 0:c.isRTL(t)];case 1:return p=L.sent(),[4,c.getElementRects({reference:e,floating:t,strategy:i})];case 2:h=L.sent(),f=_r(h,r,p),m=f.x,v=f.y,g=r,_={},y=0,b=0,L.label=3;case 3:return b<d.length?(w=d[b],E=w.name,[4,(0,w.fn)({x:m,y:v,initialPlacement:r,placement:g,strategy:i,middlewareData:_,rects:h,platform:c,elements:{reference:e,floating:t}})]):[3,11];case 4:return A=L.sent(),M=A.x,S=A.y,x=A.data,T=A.reset,m=null!=M?M:m,v=null!=S?S:v,_=P(u({},_),k({},E,u({},_[E],x))),T&&y<=50?(y++,"object"!=typeof T?[3,9]:(T.placement&&(g=T.placement),T.rects?!0!==T.rects?[3,6]:[4,c.getElementRects({reference:e,floating:t,strategy:i})]:[3,8])):[3,10];case 5:return R=L.sent(),[3,7];case 6:R=T.rects,L.label=7;case 7:h=R,L.label=8;case 8:C=_r(h,g,p),m=C.x,v=C.y,L.label=9;case 9:return b=-1,[3,10];case 10:return b++,[3,3];case 11:return[2,{x:m,y:v,placement:g,strategy:i,middlewareData:_}]}}))})),function(e,t,n){return yr.apply(this,arguments)});function wr(e,t){return Er.apply(this,arguments)}function Er(){return(Er=Yo((function(e,t){var n,o,r,a,i,s,l,c,d,p,h,f,m,v,g,_,y,b,w,E,A,M,S,x,T,k,R,C,L,N,O;return $o(this,(function(I){switch(I.label){case 0:return void 0===t&&(t={}),o=e.x,r=e.y,a=e.platform,i=e.rects,s=e.elements,l=e.strategy,c=ir(t,e),d=c.boundary,p=void 0===d?"clippingAncestors":d,h=c.rootBoundary,f=void 0===h?"viewport":h,m=c.elementContext,v=void 0===m?"floating":m,g=c.altBoundary,_=void 0!==g&&g,y=c.padding,b=vr(void 0===y?0:y),w="floating"===v?"reference":"floating",E=s[_?w:v],M=a.getClippingRect,S={},[4,null==a.isElement?void 0:a.isElement(E)];case 1:return null==(n=I.sent())||n?(x=E,[3,5]):[3,2];case 2:return(T=E.contextElement)?[3,4]:[4,null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)];case 3:T=I.sent(),I.label=4;case 4:x=T,I.label=5;case 5:return[4,M.apply(a,[(S.element=x,S.boundary=p,S.rootBoundary=f,S.strategy=l,S)])];case 6:return A=gr.apply(void 0,[I.sent()]),k="floating"===v?P(u({},i.floating),{x:o,y:r}):i.reference,[4,null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)];case 7:return R=I.sent(),[4,null==a.isElement?void 0:a.isElement(R)];case 8:return I.sent()?[4,null==a.getScale?void 0:a.getScale(R)]:[3,10];case 9:return L=I.sent()||{x:1,y:1},[3,11];case 10:L={x:1,y:1},I.label=11;case 11:return C=L,a.convertOffsetParentRelativeRectToViewportRelativeRect?[4,a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:k,offsetParent:R,strategy:l})]:[3,13];case 12:return O=I.sent(),[3,14];case 13:O=k,I.label=14;case 14:return N=gr.apply(void 0,[O]),[2,{top:(A.top-N.top+b.top)/C.y,bottom:(N.bottom-A.bottom+b.bottom)/C.y,left:(A.left-N.left+b.left)/C.x,right:(N.right-A.right+b.right)/C.x}]}}))}))).apply(this,arguments)}var Ar=function(e){return{name:"arrow",options:e,fn:function(t){return Yo((function(){var n,o,r,a,i,s,l,c,d,p,h,f,m,v,g,_,y,b,w,E,A,M,S,x,T,P,R,C,L,N,O,I,D,H,W,z,B;return $o(this,(function(V){switch(V.label){case 0:return n=t.x,o=t.y,r=t.placement,a=t.rects,i=t.platform,s=t.elements,l=t.middlewareData,c=ir(e,t)||{},d=c.element,p=c.padding,h=void 0===p?0:p,null==d?[2,{}]:(f=vr(h),m={x:n,y:o},v=pr(r),g=dr(v),[4,i.getDimensions(d)]);case 1:return _=V.sent(),b=(y="y"===v)?"top":"left",w=y?"bottom":"right",E=y?"clientHeight":"clientWidth",A=a.reference[g]+a.reference[v]-m[v]-a.floating[g],M=m[v]-a.reference[v],[4,null==i.getOffsetParent?void 0:i.getOffsetParent(d)];case 2:return S=V.sent(),x=S?S[E]:0,(T=!x)?[3,4]:[4,null==i.isElement?void 0:i.isElement(S)];case 3:T=!V.sent(),V.label=4;case 4:return T&&(x=s.floating[E]||a.floating[g]),P=A/2-M/2,R=x/2-_[g]/2-1,C=Qo(f[b],R),L=Qo(f[w],R),N=C,O=x-_[g]-L,I=x/2-_[g]/2+P,D=ar(N,I,O),H=!l.arrow&&null!=lr(r)&&I!=D&&a.reference[g]/2-(I<N?C:L)-_[g]/2<0,W=H?I<N?I-N:I-O:0,[2,(B={},k(B,v,m[v]+W),k(B,"data",u((z={},k(z,v,D),k(z,"centerOffset",I-D-W),z),H&&{alignmentOffset:W})),k(B,"reset",H),B)]}}))}))()}}};var Mr=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,fn:function(t){return Yo((function(){var n,o,r,a,i,s,l,c,d,u,p,h,f,m,v,g,_,y,b,w,E,A,M,S,x,T,P,k,C;return $o(this,(function(L){switch(L.label){case 0:return a=t.rects,i=t.middlewareData,s=t.placement,l=t.platform,c=t.elements,d=ir(e,t),u=d.crossAxis,p=void 0!==u&&u,h=d.alignment,f=d.allowedPlacements,m=void 0===f?Jo:f,v=d.autoAlignment,g=void 0===v||v,_=R(d,["crossAxis","alignment","allowedPlacements","autoAlignment"]),y=void 0!==h||m===Jo?function(e,t,n){return(e?ge(n.filter((function(t){return lr(t)===e}))).concat(ge(n.filter((function(t){return lr(t)!==e})))):n.filter((function(e){return sr(e)===e}))).filter((function(n){return!e||lr(n)===e||!!t&&fr(n)!==n}))}(h||null,g,m):m,[4,wr(t,_)];case 1:return b=L.sent(),w=(null==(n=i.autoPlacement)?void 0:n.index)||0,null==(E=y[w])?[2,{}]:(M=[E,a],[4,null==l.isRTL?void 0:l.isRTL(c.floating)]);case 2:return A=hr.apply(void 0,M.concat([L.sent()])),s!==E?[2,{reset:{placement:y[0]}}]:(S=[b[sr(E)],b[A[0]],b[A[1]]],x=ge((null==(o=i.autoPlacement)?void 0:o.overflows)||[]).concat([{placement:E,overflows:S}]),(T=y[w+1])?[2,{data:{index:w+1,overflows:x},reset:{placement:T}}]:(P=x.map((function(e){var t=lr(e.placement);return[e.placement,t&&p?e.overflows.slice(0,2).reduce((function(e,t){return e+t}),0):e.overflows[0],e.overflows]})).sort((function(e,t){return e[1]-t[1]})),k=P.filter((function(e){return e[2].slice(0,lr(e[0])?2:3).every((function(e){return e<=0}))})),(C=(null==(r=k[0])?void 0:r[0])||P[0][0])!==s?[2,{data:{index:w+1,overflows:x},reset:{placement:C}}]:[2,{}]))}}))}))()}}},Sr=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn:function(t){return Yo((function(){var n,o,r,a,i,s,l,c,d,u,p,h,f,m,v,g,_,y,b,w,E,A,M,S,x,T,P,k,C,L,N,O,I,D,H,W,z,B;return $o(this,(function(V){switch(V.label){case 0:return r=t.placement,a=t.middlewareData,i=t.rects,s=t.initialPlacement,l=t.platform,c=t.elements,d=ir(e,t),u=d.mainAxis,p=void 0===u||u,h=d.crossAxis,f=void 0===h||h,m=d.fallbackPlacements,v=d.fallbackStrategy,g=void 0===v?"bestFit":v,_=d.fallbackAxisSideDirection,y=void 0===_?"none":_,b=d.flipAlignment,w=void 0===b||b,E=R(d,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]),null!=(n=a.arrow)&&n.alignmentOffset?[2,{}]:(A=sr(r),M=sr(s)===s,[4,null==l.isRTL?void 0:l.isRTL(c.floating)]);case 1:return S=V.sent(),x=m||(M||!w?[mr(s)]:function(e){var t=mr(e);return[fr(e),t,fr(t)]}(s)),m||"none"===y||(T=x).push.apply(T,ge(function(e,t,n,o){var r=lr(e),a=function(e,t,n){var o=["left","right"],r=["right","left"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(sr(e),"start"===n,o);return r&&(a=a.map((function(e){return e+"-"+r})),t&&(a=a.concat(a.map(fr)))),a}(s,w,y,S))),P=[s].concat(ge(x)),[4,wr(t,E)];case 2:if(k=V.sent(),C=[],L=(null==(o=a.flip)?void 0:o.overflows)||[],p&&C.push(k[A]),f&&(N=hr(r,i,S),C.push(k[N[0]],k[N[1]])),L=ge(L).concat([{placement:r,overflows:C}]),!C.every((function(e){return e<=0}))){if(D=((null==(O=a.flip)?void 0:O.index)||0)+1,H=P[D])return[2,{data:{index:D,overflows:L},reset:{placement:H}}];if(!(W=null==(I=L.filter((function(e){return e.overflows[0]<=0})).sort((function(e,t){return e.overflows[1]-t.overflows[1]}))[0])?void 0:I.placement))switch(g){case"bestFit":(B=null==(z=L.map((function(e){return[e.placement,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])?void 0:z[0])&&(W=B);break;case"initialPlacement":W=s}if(r!==W)return[2,{reset:{placement:W}}]}return[2,{}]}}))}))()}}};function xr(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Tr(e){return qo.some((function(t){return e[t]>=0}))}function Pr(e,t){return kr.apply(this,arguments)}function kr(){return kr=Yo((function(e,t){var n,o,r,a,i,s,l,c,d,p,h,f,m,v;return $o(this,(function(g){switch(g.label){case 0:return n=e.placement,o=e.platform,r=e.elements,[4,null==o.isRTL?void 0:o.isRTL(r.floating)];case 1:return a=g.sent(),i=sr(n),s=lr(n),l="y"===ur(n),c=["left","top"].includes(i)?-1:1,d=a&&l?-1:1,p=ir(t,e),h="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:u({mainAxis:0,crossAxis:0,alignmentAxis:null},p),f=h.mainAxis,m=h.crossAxis,v=h.alignmentAxis,s&&"number"==typeof v&&(m="end"===s?-1*v:v),[2,l?{x:m*d,y:f*c}:{x:f*c,y:m*d}]}}))})),kr.apply(this,arguments)}function Rr(e){return Nr(e)?(e.nodeName||"").toLowerCase():"#document"}function Cr(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Lr(e){var t;return null==(t=(Nr(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Nr(e){return Ee(e,Node)||Ee(e,Cr(e).Node)}function Or(e){return Ee(e,Element)||Ee(e,Cr(e).Element)}function Ir(e){return Ee(e,HTMLElement)||Ee(e,Cr(e).HTMLElement)}function Dr(e){return"undefined"!=typeof ShadowRoot&&(Ee(e,ShadowRoot)||Ee(e,Cr(e).ShadowRoot))}function Hr(e){var t=Kr(e),n=t.overflow,o=t.overflowX,r=t.overflowY,a=t.display;return/auto|scroll|overlay|hidden|clip/.test(n+r+o)&&!["inline","contents"].includes(a)}function Wr(e){return["table","td","th"].includes(Rr(e))}function zr(e){var t=Br(),n=Kr(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((function(e){return(n.willChange||"").includes(e)}))||["paint","layout","strict","content"].some((function(e){return(n.contain||"").includes(e)}))}function Br(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Vr(e){return["html","body","#document"].includes(Rr(e))}function Kr(e){return Cr(e).getComputedStyle(e)}function jr(e){return Or(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Fr(e){if("html"===Rr(e))return e;var t=e.assignedSlot||e.parentNode||Dr(e)&&e.host||Lr(e);return Dr(t)?t.host:t}function Ur(e){var t=Fr(e);return Vr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ir(t)&&Hr(t)?t:Ur(t)}function Gr(e,t,n){var o;void 0===t&&(t=[]),void 0===n&&(n=!0);var r=Ur(e),a=r===(null==(o=e.ownerDocument)?void 0:o.body),i=Cr(r);return a?t.concat(i,i.visualViewport||[],Hr(r)?r:[],i.frameElement&&n?Gr(i.frameElement):[]):t.concat(r,Gr(r,[],n))}function Yr(e){var t=Kr(e),n=parseFloat(t.width)||0,o=parseFloat(t.height)||0,r=Ir(e),a=r?e.offsetWidth:n,i=r?e.offsetHeight:o,s=er(n)!==a||er(o)!==i;return s&&(n=a,o=i),{width:n,height:o,$:s}}function $r(e){return Or(e)?e:e.contextElement}function qr(e){var t=$r(e);if(!Ir(t))return nr(1);var n=t.getBoundingClientRect(),o=Yr(t),r=o.width,a=o.height,i=o.$,s=(i?er(n.width):n.width)/r,l=(i?er(n.height):n.height)/a;return s&&Number.isFinite(s)||(s=1),l&&Number.isFinite(l)||(l=1),{x:s,y:l}}var Xr=nr(0);function Jr(e){var t=Cr(e);return Br()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Xr}function Qr(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=$r(e),i=nr(1);t&&(o?Or(o)&&(i=qr(o)):i=qr(e));var s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Cr(e))&&t}(a,n,o)?Jr(a):nr(0),l=(r.left+s.x)/i.x,c=(r.top+s.y)/i.y,d=r.width/i.x,u=r.height/i.y;if(a)for(var p=Cr(a),h=o&&Or(o)?Cr(o):o,f=p.frameElement;f&&o&&h!==p;){var m=qr(f),v=f.getBoundingClientRect(),g=Kr(f),_=v.left+(f.clientLeft+parseFloat(g.paddingLeft))*m.x,y=v.top+(f.clientTop+parseFloat(g.paddingTop))*m.y;l*=m.x,c*=m.y,d*=m.x,u*=m.y,l+=_,c+=y,f=Cr(f).frameElement}return gr({width:d,height:u,x:l,y:c})}function Zr(e){return Qr(Lr(e)).left+jr(e).scrollLeft}function ea(e,t,n){var o;if("viewport"===t)o=function(e,t){var n=Cr(e),o=Lr(e),r=n.visualViewport,a=o.clientWidth,i=o.clientHeight,s=0,l=0;if(r){a=r.width,i=r.height;var c=Br();(!c||c&&"fixed"===t)&&(s=r.offsetLeft,l=r.offsetTop)}return{width:a,height:i,x:s,y:l}}(e,n);else if("document"===t)o=function(e){var t=Lr(e),n=jr(e),o=e.ownerDocument.body,r=Zo(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),a=Zo(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),i=-n.scrollLeft+Zr(e),s=-n.scrollTop;return"rtl"===Kr(o).direction&&(i+=Zo(t.clientWidth,o.clientWidth)-r),{width:r,height:a,x:i,y:s}}(Lr(e));else if(Or(t))o=function(e,t){var n=Qr(e,!0,"fixed"===t),o=n.top+e.clientTop,r=n.left+e.clientLeft,a=Ir(e)?qr(e):nr(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:r*a.x,y:o*a.y}}(t,n);else{var r=Jr(e);o=P(u({},t),{x:t.x-r.x,y:t.y-r.y})}return gr(o)}function ta(e,t){var n=Fr(e);return!(n===t||!Or(n)||Vr(n))&&("fixed"===Kr(n).position||ta(n,t))}function na(e,t,n){var o=Ir(t),r=Lr(t),a="fixed"===n,i=Qr(e,!0,a,t),s={scrollLeft:0,scrollTop:0},l=nr(0);if(o||!o&&!a)if(("body"!==Rr(t)||Hr(r))&&(s=jr(t)),o){var c=Qr(t,!0,a,t);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else r&&(l.x=Zr(r));return{x:i.left+s.scrollLeft-l.x,y:i.top+s.scrollTop-l.y,width:i.width,height:i.height}}function oa(e,t){return Ir(e)&&"fixed"!==Kr(e).position?t?t(e):e.offsetParent:null}function ra(e,t){var n=Cr(e);if(!Ir(e))return n;for(var o=oa(e,t);o&&Wr(o)&&"static"===Kr(o).position;)o=oa(o,t);return o&&("html"===Rr(o)||"body"===Rr(o)&&"static"===Kr(o).position&&!zr(o))?n:o||function(e){for(var t=Fr(e);Ir(t)&&!Vr(t);){if(zr(t))return t;t=Fr(t)}return null}(e)||n}var aa=function(){var e=Yo((function(e){var t,n,o,r,a,i,s,l;return $o(this,(function(c){switch(c.label){case 0:return t=e.reference,n=e.floating,o=e.strategy,r=this.getOffsetParent||ra,a=this.getDimensions,i={},s=[t],[4,r(n)];case 1:return i.reference=na.apply(void 0,s.concat([c.sent(),o])),l=[{x:0,y:0}],[4,a(n)];case 2:return[2,(i.floating=u.apply(void 0,l.concat([c.sent()])),i)]}}))}));return function(t){return e.apply(this,arguments)}}();var ia={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){var t=e.rect,n=e.offsetParent,o=e.strategy,r=Ir(n),a=Lr(n);if(n===a)return t;var i={scrollLeft:0,scrollTop:0},s=nr(1),l=nr(0);if((r||!r&&"fixed"!==o)&&(("body"!==Rr(n)||Hr(a))&&(i=jr(n)),Ir(n))){var c=Qr(n);s=qr(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-i.scrollLeft*s.x+l.x,y:t.y*s.y-i.scrollTop*s.y+l.y}},getDocumentElement:Lr,getClippingRect:function(e){var t=e.element,n=e.boundary,o=e.rootBoundary,r=e.strategy,a=ge("clippingAncestors"===n?function(e,t){var n=t.get(e);if(n)return n;for(var o=Gr(e,[],!1).filter((function(e){return Or(e)&&"body"!==Rr(e)})),r=null,a="fixed"===Kr(e).position,i=a?Fr(e):e;Or(i)&&!Vr(i);){var s=Kr(i),l=zr(i);l||"fixed"!==s.position||(r=null),(a?!l&&!r:!l&&"static"===s.position&&r&&["absolute","fixed"].includes(r.position)||Hr(i)&&!l&&ta(e,i))?o=o.filter((function(e){return e!==i})):r=s,i=Fr(i)}return t.set(e,o),o}(t,this._c):[].concat(n)).concat([o]),i=a[0],s=a.reduce((function(e,n){var o=ea(t,n,r);return e.top=Zo(o.top,e.top),e.right=Qo(o.right,e.right),e.bottom=Qo(o.bottom,e.bottom),e.left=Zo(o.left,e.left),e}),ea(t,i,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:ra,getElementRects:aa,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){return Yr(e)},getScale:qr,isElement:Or,isRTL:function(e){return"rtl"===Kr(e).direction}};function sa(e,t,n,o){void 0===o&&(o={});var r=o.ancestorScroll,a=void 0===r||r,i=o.ancestorResize,s=void 0===i||i,l=o.elementResize,c=void 0===l?"function"==typeof ResizeObserver:l,d=o.layoutShift,p=void 0===d?"function"==typeof IntersectionObserver:d,h=o.animationFrame,f=void 0!==h&&h,m=$r(e),v=a||s?ge(m?Gr(m):[]).concat(ge(Gr(t))):[];v.forEach((function(e){a&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));var g,_=m&&p?function(e,t){var n,o=null,r=Lr(e);function a(){clearTimeout(n),o&&o.disconnect(),o=null}return function i(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),a();var c=e.getBoundingClientRect(),d=c.left,p=c.top,h=c.width,f=c.height;if(s||t(),h&&f){var m={rootMargin:-tr(p)+"px "+-tr(r.clientWidth-(d+h))+"px "+-tr(r.clientHeight-(p+f))+"px "+-tr(d)+"px",threshold:Zo(0,Qo(1,l))||1},v=!0;try{o=new IntersectionObserver(g,P(u({},m),{root:r.ownerDocument}))}catch(e){o=new IntersectionObserver(g,m)}o.observe(e)}function g(e){var t=e[0].intersectionRatio;if(t!==l){if(!v)return i();t?i(!1,t):n=setTimeout((function(){i(!1,1e-7)}),100)}v=!1}}(!0),a}(m,n):null,y=-1,b=null;c&&(b=new ResizeObserver((function(e){var o=Uo(e,1)[0];o&&o.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame((function(){b&&b.observe(t)}))),n()})),m&&!f&&b.observe(m),b.observe(t));var w=f?Qr(e):null;return f&&function t(){var o=Qr(e);!w||o.x===w.x&&o.y===w.y&&o.width===w.width&&o.height===w.height||n();w=o,g=requestAnimationFrame(t)}(),n(),function(){v.forEach((function(e){a&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),_&&_(),b&&b.disconnect(),b=null,f&&cancelAnimationFrame(g)}}var la="undefined"!=typeof document?m:v;function ca(e,t){if(e===t)return!0;if((void 0===e?"undefined":_e(e))!==(void 0===t?"undefined":_e(t)))return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;var n,o,r;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(o=n;0!=o--;)if(!ca(e[o],t[o]))return!1;return!0}if((n=(r=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(o=n;0!=o--;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;0!=o--;){var a=r[o];if(("_owner"!==a||!e.$$typeof)&&!ca(e[a],t[a]))return!1}return!0}return e!=e&&t!=t}function da(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ua(e,t){var n=da(e);return Math.round(t*n)/n}function pa(e){var t=g(e);return la((function(){t.current=e})),t}function ha(e){void 0===e&&(e={});var t=e.placement,n=void 0===t?"bottom":t,o=e.strategy,r=void 0===o?"absolute":o,a=e.middleware,i=void 0===a?[]:a,s=e.platform,l=e.elements,c=void 0===l?{}:l,d=c.reference,p=c.floating,h=e.transform,f=void 0===h||h,m=e.whileElementsMounted,v=e.open,w=Uo(b({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),2),E=w[0],A=w[1],M=Uo(b(i),2),S=M[0],x=M[1];ca(S,i)||x(i);var T=Uo(b(null),2),k=T[0],R=T[1],L=Uo(b(null),2),N=L[0],O=L[1],I=_((function(e){e!=z.current&&(z.current=e,R(e))}),[R]),D=_((function(e){e!==B.current&&(B.current=e,O(e))}),[O]),H=d||k,W=p||N,z=g(null),B=g(null),V=g(E),K=pa(m),j=pa(s),F=_((function(){if(z.current&&B.current){var e={placement:n,strategy:r,middleware:S};j.current&&(e.platform=j.current),function(e,t,n){var o=new Map,r=u({platform:ia},n),a=P(u({},r.platform),{_c:o});return br(e,t,P(u({},r),{platform:a}))}(z.current,B.current,e).then((function(e){var t=P(u({},e),{isPositioned:!0});U.current&&!ca(V.current,t)&&(V.current=t,C((function(){A(t)})))}))}}),[S,n,r,j]);la((function(){!1===v&&V.current.isPositioned&&(V.current.isPositioned=!1,A((function(e){return P(u({},e),{isPositioned:!1})})))}),[v]);var U=g(!1);la((function(){return U.current=!0,function(){U.current=!1}}),[]),la((function(){if(H&&(z.current=H),W&&(B.current=W),H&&W){if(K.current)return K.current(H,W,F);F()}}),[H,W,F,K]);var G=y((function(){return{reference:z,floating:B,setReference:I,setFloating:D}}),[I,D]),Y=y((function(){return{reference:H,floating:W}}),[H,W]),$=y((function(){var e={position:r,left:0,top:0};if(!Y.floating)return e;var t=ua(Y.floating,E.x),n=ua(Y.floating,E.y);return f?u(P(u({},e),{transform:"translate("+t+"px, "+n+"px)"}),da(Y.floating)>=1.5&&{willChange:"transform"}):{position:r,left:t,top:n}}),[r,f,Y.floating,E.x,E.y]);return y((function(){return P(u({},E),{update:F,refs:G,elements:Y,floatingStyles:$})}),[E,F,G,Y,$])}function fa(e){const t=e.replace(/auto-|auto/,"");return"start"===t||"end"===t?t:null}function ma(e,t,n,o="max-content"){const r={position:e,top:n,right:"auto",bottom:"auto",left:t};return null!==o&&(r.width=o),r}const va={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1};const ga={mq:{className:ee},[jt.COMPACT]:{className:Q}},_a={mq:{className:te},[jt.REGULAR]:{className:Z}},ya={mq:{className:re},[jt.COMPACT]:{className:ne}},ba={mq:{className:ae},[jt.REGULAR]:{className:oe}},wa={tabletMinus:{mq:{className:le},forced:{className:se}},tabletPlus:{mq:{className:ce},forced:{className:ie}}},Ea={mobile:{mq:{className:pe},forced:{className:de}},desktop:{mq:{className:he},forced:{className:ue}}},Aa=(e,t,n)=>({compact:void 0===e?t.mq:e===jt.COMPACT&&t[e],regular:void 0===e?n.mq:e===jt.REGULAR&&n[e]}),Ma=()=>{const{sizeX:e,sizeY:t,viewWidth:n,viewHeight:o,hasPointer:r}=h(Ne),a=jn();return y((()=>{const i=Aa(e,ga,_a),s=Aa(t,ya,ba),l=((e,t)=>({tabletMinus:void 0===e?t.tabletMinus.mq:e<zt.TABLET&&t.tabletMinus.forced,tabletPlus:void 0===e?t.tabletPlus.mq:e>=zt.TABLET&&t.tabletPlus.forced}))(n,wa),c=((e,t,n,o,r)=>{const a=Jt(e,t,n,o);return null===a?{mobile:r.mobile.mq,desktop:r.desktop.mq}:a?{mobile:!1,desktop:r.desktop.forced}:{mobile:r.mobile.forced,desktop:!1}})(n,o,r,a,Ea);return{sizeX:i,sizeY:s,viewWidth:l,deviceType:c}}),[e,t,n,o,r,a])},Sa=p({updateModalHeight:()=>{},registerModal:()=>{},isInsideModal:!1});const xa="_Separator_1e9q3_1",Ta="_Separator__in_1e9q3_5",Pa="_Separator--padded_1e9q3_14",ka=e=>{var t=e,{wide:n}=t,o=c(t,["wide"]);return f(un,l(s({},o),{baseClassName:ye(xa,!n&&Pa)}),f("hr",{className:Ta}))},Ra="_Spacing_11epl_1",Ca=e=>{var t=e,{size:n=8,style:o}=t,r=c(t,["size","style"]);const a=s({height:n,padding:n/2+"px 0"},o);return f(un,l(s({},r),{baseClassName:Ra,style:a}))},La="_PanelHeader_1whiw_1",Na="_PanelHeader--vis_1whiw_5",Oa="_PanelHeader--fixed_1whiw_5",Ia="_PanelHeader__fixed_1whiw_16",Da="_PanelHeader__in_1whiw_20",Ha="_PanelHeader--trnsp_1whiw_29",Wa="_PanelHeader--sizeX-regular_1whiw_33",za="_PanelHeader--shadow_1whiw_33",Ba="_PanelHeader--sizeX-none_1whiw_38",Va="_PanelHeader__before_1whiw_43",Ka="_PanelHeader__content_1whiw_50",ja="_PanelHeader__content-in_1whiw_62",Fa="_PanelHeader__after_1whiw_74",Ua="_PanelHeader--ios_1whiw_92",Ga="_PanelHeader--no-before_1whiw_122",Ya="_PanelHeader--no-after_1whiw_128",$a="_PanelHeader--android_1whiw_155",qa="_PanelHeader--vkcom_1whiw_207",Xa="_PanelHeader--sep_1whiw_258",Ja="_PanelHeader__separator_1whiw_318",Qa=({children:e,Component:t="span",id:n})=>jn()===gt.VKCOM?f(Sn,{weight:"2",Component:t,id:n},e):f(t,{className:ja,id:n},e);Qa.displayName="LegacyPanelHeaderContent";const Za={ios:ye(Ua,"vkuiInternalPanelHeader--ios"),android:ye($a,"vkuiInternalPanelHeader--android"),vkcom:ye(qa,"vkuiInternalPanelHeader--vkcom")},ei={none:Ba,regular:Wa},ti=({before:e,after:t,separator:n,children:o,typographyProps:r={}})=>{const a=r,{Component:i="span"}=a,l=c(a,["Component"]),{hasCustomPanelHeaderAfter:d,customPanelHeaderAfterMinWidth:u}=Mt(),{isInsideModal:p}=h(Sa),m=jn(),v=!d||p?{children:t}:{style:{minWidth:u}};let g;return g=N(o)&&o.type.displayName===Qa.displayName?o:m===gt.VKCOM?f(Sn,s({weight:"2",Component:i},l),o):f(i,s({className:ja},l),o),f(L,null,f(ko,{fixed:!0,className:Da},f("div",{className:ye(Va,"vkuiInternalPanelHeader__before")},e),f("div",{className:Ka},g),f("div",s({className:ye(Fa,"vkuiInternalPanelHeader__after")},v))),n&&m===gt.VKCOM&&f(ka,{className:Ja,wide:!0}))},ni=e=>{var t=e,{before:n,children:o,after:r,separator:a=!0,visor:i=!0,transparent:d=!1,shadow:u,getRef:p,getRootRef:h,fixed:m,typographyProps:v}=t,g=c(t,["before","children","after","separator","visor","transparent","shadow","getRef","getRootRef","fixed","typographyProps"]);const _=jn(),{sizeX:y="none"}=Oe(),{sizeX:b}=Ma();let w=void 0!==m?m:_!==gt.VKCOM;return f(un,l(s({},g),{baseClassName:ye(La,"vkuiInternalPanelHeader",Za.hasOwnProperty(_)?Za[_]:Za.android,d&&Ha,u&&za,i&&ye(Na,"vkuiInternalPanelHeader--vis"),a&&i&&ye(Xa,"vkuiInternalPanelHeader--sep"),!n&&ye(Ga,"vkuiInternalPanelHeader--no-before"),!r&&Ya,w&&Oa,y!==jt.COMPACT&&ei[y]),getRootRef:w?h:p}),w?f(No,{className:ye(Ia,"vkuiInternalPanelHeader__fixed"),vertical:"top",getRootRef:p},f(ti,{before:n,after:r,separator:a,typographyProps:v},o)):f(ti,{before:n,after:r,separator:a,typographyProps:v},o),a&&i&&_!==gt.VKCOM&&f(L,null,b.compact&&f(ka,{className:b.compact.className}),b.regular&&f(Ca,{className:b.regular.className,size:16})))};ni.Content=Qa;const oi=(e,t)=>{let n;switch(e){case gt.ANDROID:n="vkBase";break;case gt.IOS:n="vkIOS";break;case gt.VKCOM:n="vkCom";break;default:n=e}return`vkui--${n}--${t}`},ri=({children:e,platform:t,appearance:n})=>f(L,null,w.map(e,(e=>N(e)?O(e,{className:ye(e.props.className,oi(t,n))}):e)));function ai(e){var t=e,{children:n}=t,o=c(t,["children"]);const r=Mt(),a=zo(s(s({},r),o));return f(Et.Provider,{value:a},n)}const ii=({appearance:e,children:t})=>{const n=jn();return f(ai,{appearance:e},f(ri,{platform:n,appearance:e},t))},si=({children:e,className:t,forcePortal:n,portalRoot:o=null})=>{const{portalRoot:r,mode:a,disablePortal:i}=h(tn),s=St();if(!In())return null;const l=null!=n?n:"full"!==a,c=function(e,t){if(!e)return t;return Zt(e)?e.current:e}(o,r);return(!!(o&&l)||!i&&c&&l)&&c?I(f(ii,{appearance:s},f("div",{className:t},e)),c):f(L,null,e)};const li={window:void 0,mediaQueries:null},ci=()=>{const{window:e}=mt();return y((function(){if(li.window===e&&null!==li.mediaQueries)return li.mediaQueries;const t=e?e.matchMedia.bind(e):ht;return li.window=e,li.mediaQueries={desktopPlus:t(Ut.MEDIA_QUERIES.DESKTOP_PLUS),smallTabletPlus:t(Ut.MEDIA_QUERIES.SMALL_TABLET_PLUS),tablet:t(Ut.MEDIA_QUERIES.TABLET),smallTablet:t(Ut.MEDIA_QUERIES.SMALL_TABLET),mobile:t(Ut.MEDIA_QUERIES.MOBILE),mediumHeight:t(Ut.MEDIA_QUERIES.MEDIUM_HEIGHT),mobileLandscapeHeight:t(Ut.MEDIA_QUERIES.MOBILE_LANDSCAPE_HEIGHT)},li.mediaQueries}),[e])};function di(e,t){e.addEventListener?e.addEventListener("change",t):e.addListener(t)}function ui(e,t){e.removeEventListener?e.removeEventListener("change",t):e.removeListener(t)}const pi="_PopoutWrapper_1p5r5_1",hi="_PopoutWrapper--opened_1p5r5_10",fi="_PopoutWrapper--closing_1p5r5_14",mi="_PopoutWrapper--fixed_1p5r5_18",vi="_PopoutWrapper__overlay_1p5r5_22",gi="_animation-full-fade-in_1p5r5_1",_i="_PopoutWrapper--masked_1p5r5_37",yi="_PopoutWrapper__container_1p5r5_45",bi="_PopoutWrapper__content_1p5r5_53",wi={center:"_PopoutWrapper--alignX-center_1p5r5_79",left:"_PopoutWrapper--alignX-left_1p5r5_83",right:"_PopoutWrapper--alignX-right_1p5r5_87"},Ei={center:"_PopoutWrapper--alignY-center_1p5r5_67",top:"_PopoutWrapper--alignY-top_1p5r5_75",bottom:"_PopoutWrapper--alignY-bottom_1p5r5_71"},Ai=e=>{var t=e,{alignY:n="center",alignX:o="center",closing:r=!1,hasMask:a=!0,fixed:i=!0,children:d,onClick:u}=t,p=c(t,["alignY","alignX","closing","hasMask","fixed","children","onClick"]);const h=jn(),[m,g]=b(!a),_=e=>{e&&e.animationName!==gi||g(!0)},y=Fn(_,h===gt.IOS?300:200);v((()=>{!m&&y.set()}),[y,m]);const{window:w}=mt();return Lt(w,"touchmove",(e=>e.preventDefault()),{passive:!1}),f(un,l(s({},p),{baseClassName:ye(pi,Ei[n],wi[o],r&&fi,m&&hi,i&&mi,a&&_i),onAnimationEnd:m?void 0:_}),f("div",{className:yi},f("div",{className:vi,onClick:u}),f("div",{className:bi},d)))};function Mi(e,t){return null!=e?e:t}const Si=()=>{const{viewWidth:e,viewHeight:t,sizeX:n,sizeY:o,hasPointer:r,hasHover:a}=h(Ne),i=jn(),s=ci(),[[l,c],d]=b((()=>[Mi(e,$t(s)),Mi(t,Xt(s))])),u=y((()=>{const s=Mi(r,Ce),d=Mi(a,Le),u=Mi(e,l),p=Mi(t,c),h=Mi(n,function(e){return e<=zt.MOBILE?jt.COMPACT:jt.REGULAR}(u)),f=Mi(o,function(e,t,n){return e>=zt.SMALL_TABLET&&n||t<=Vt.EXTRA_SMALL?jt.COMPACT:jt.REGULAR}(u,p,s));return{viewWidth:u,viewHeight:p,sizeX:h,sizeY:f,hasPointer:s,hasHover:d,isDesktop:Jt(u,p,s,i)}}),[l,c,e,t,n,o,r,a,i]);return v((()=>{const n=()=>{d((n=>{const o=Mi(e,$t(s)),r=Mi(t,Xt(s)),[a,i]=n;return a!==o||i!==r?[o,r]:n}))};return e||[s.desktopPlus,s.tablet,s.smallTablet,s.mobile].forEach((e=>di(e,n))),t||[s.mediumHeight,s.mobileLandscapeHeight].forEach((e=>di(e,n))),()=>{[s.desktopPlus,s.tablet,s.smallTablet,s.mobile,s.mediumHeight,s.mobileLandscapeHeight].forEach((e=>ui(e,n)))}}),[s,e,t]),u},xi=D["useId".toString()];let Ti=0;const Pi=null!=xi?xi:function(){const[e]=b((()=>Ti++));return`:r${e}:`},ki=["a[href]","area[href]",'input:not([disabled]):not([hidden]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([hidden]):not([aria-hidden])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(),Ri=e=>{var t=e,{Component:n="div",onClose:o,restoreFocus:r=!0,timeout:a=0,getRootRef:i,children:l}=t,d=c(t,["Component","onClose","restoreFocus","timeout","getRootRef","children"]);const u=Vn(i),{document:p,window:m}=mt(),[v,g]=b(null),[_,y]=b(null),{keyboardInput:w}=h(tn),E=Fn((()=>{var e;w&&!(null==(e=u.current)?void 0:e.contains(p.activeElement))&&(null==v?void 0:v.length)&&v[0].focus()}),a);xt((()=>{E.set()}),[]),xt((()=>{if(!u.current)return;const e=[];Array.prototype.forEach.call(u.current.querySelectorAll(ki),(t=>{const{display:n,visibility:o}=m.getComputedStyle(t);"none"!==n&&"hidden"!==o&&e.push(t)})),0===e.length&&e.push(u.current),g(e)}),[l]);const A=Fn((()=>{_&&_.focus()}),a);xt((()=>{if(r&&p.activeElement)return y(p.activeElement),()=>{A.set()}}),[r]);return Lt(p,"keydown",(e=>{if(Rt(e)===Tt.TAB&&(null==v?void 0:v.length)){const t=v.length-1,n=v.findIndex((t=>t===e.target)),o=-1===n||n===t&&!e.shiftKey;if(o||0===n&&e.shiftKey){e.preventDefault();const n=v[o?0:t];return n!==p.activeElement&&n.focus(),!1}}return o&&Rt(e)===Tt.ESCAPE&&o(),!0}),{capture:!0}),f(n,s({tabIndex:-1,ref:u},d),l)},Ci="_ModalDismissButton_12z8c_1",Li="_ModalDismissButton--hover_12z8c_32",Ni="_ModalDismissButton--active_12z8c_36",Oi=e=>{var t=e,{"aria-label":n="Закрыть",className:o}=t,r=c(t,["aria-label","className"]);return f(xo,l(s({className:ye(Ci,o)},r),{"aria-label":n,activeMode:Ni,hoverMode:Li}),f(H,null))},Ii=be,Di=8,Hi=10,Wi=Di+1,zi=e=>f("svg",s({width:20,height:Wi,viewBox:`0 0 20 ${Wi}`,xmlns:"http://www.w3.org/2000/svg"},e),f("path",{d:"M10 0c3 0 6 8 10 8v1H0V8c3.975 0 7-8 10-8Z",fill:"currentColor"})),Bi="_PopperArrow_1tzbd_1",Vi="_PopperArrow__in_1tzbd_5",Ki={right:"_PopperArrow--placement-right_1tzbd_13",bottom:"_PopperArrow--placement-bottom_1tzbd_18",left:"_PopperArrow--placement-left_1tzbd_22"},ji=({coords:e,arrowClassName:t,placement:n,getRootRef:o,Icon:r=zi})=>{const[a,i]=function(e,t={x:0,y:0}){return e.startsWith("top")?["bottom",{top:"100%",left:t.x}]:e.startsWith("right")?["left",{top:t.y,left:0}]:e.startsWith("bottom")?[void 0,{bottom:"100%",left:t.x}]:["right",{top:t.y,right:0}]}(n,e);return f("div",{ref:o,style:i,className:ye(Bi,a&&Ki[a])},f(r,{className:ye(Vi,t)}))};const Fi="_Popper_1kjm5_14",Ui=e=>{var t=e,{targetRef:n,children:o,getRef:r,placement:a="bottom-start",onPlacementChange:i,arrow:d,arrowHeight:p=Di,arrowPadding:h=Hi,arrowClassName:m,ArrowIcon:v=zi,sameWidth:g,offsetDistance:_=8,offsetSkidding:w=0,forcePortal:E=!0,portalRoot:A,autoUpdateOnTargetResize:M=!1,style:S,customMiddlewares:x,renderContent:T,getRootRef:C,hideWhenReferenceHidden:L}=t,N=c(t,["targetRef","children","getRef","placement","onPlacementChange","arrow","arrowHeight","arrowPadding","arrowClassName","ArrowIcon","sameWidth","offsetDistance","offsetSkidding","forcePortal","portalRoot","autoUpdateOnTargetResize","style","customMiddlewares","renderContent","getRootRef","hideWhenReferenceHidden"]);const[O,I]=b(null),D=!a.startsWith("auto");const H=y((()=>{const e=[(t={crossAxis:w,mainAxis:d?_+p:_},void 0===t&&(t=0),{name:"offset",options:t,fn:function(e){return Yo((function(){var n,o,r;return $o(this,(function(a){switch(a.label){case 0:return n=e.x,o=e.y,[4,Pr(e,t)];case 1:return r=a.sent(),[2,{x:n+r.x,y:o+r.y,data:r}]}}))}))()}})];var t;return D?e.push(Sr()):e.push(Mr({alignment:fa(a)})),e.push(function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn:function(t){return Yo((function(){var n,o,r,a,i,s,l,c,d,p,h,f,m,v,g,_,y,b,w,E,A,M,S,x,T;return $o(this,(function(C){switch(C.label){case 0:return n=t.x,o=t.y,r=t.placement,a=ir(e,t),i=a.mainAxis,s=void 0===i||i,l=a.crossAxis,c=void 0!==l&&l,d=a.limiter,p=void 0===d?{fn:function(e){return{x:e.x,y:e.y}}}:d,h=R(a,["mainAxis","crossAxis","limiter"]),f={x:n,y:o},[4,wr(t,h)];case 1:return m=C.sent(),v=ur(sr(r)),g=cr(v),_=f[g],y=f[v],s&&(b="y"===g?"bottom":"right",w=_+m["y"===g?"top":"left"],E=_-m[b],_=ar(w,_,E)),c&&(A="y"===v?"bottom":"right",M=y+m["y"===v?"top":"left"],S=y-m[A],y=ar(M,y,S)),T=p.fn(P(u({},t),(k(x={},g,_),k(x,v,y),x))),[2,P(u({},T),{data:{x:T.x-n,y:T.y-o}})]}}))}))()}}}()),g&&e.push(function(e){return void 0===e&&(e={}),{name:"size",options:e,fn:function(t){return Yo((function(){var n,o,r,a,i,s,l,c,d,p,h,f,m,v,g,_,y,b,w,E,A,M,S,x,T,k,C,L,N;return $o(this,(function(O){switch(O.label){case 0:return n=t.placement,o=t.rects,r=t.platform,a=t.elements,i=ir(e,t),s=i.apply,l=void 0===s?function(){}:s,c=R(i,["apply"]),[4,wr(t,c)];case 1:return d=O.sent(),p=sr(n),h=lr(n),f="y"===ur(n),m=o.floating,v=m.width,g=m.height,"top"!==p&&"bottom"!==p?[3,3]:(_=p,[4,null==r.isRTL?void 0:r.isRTL(a.floating)]);case 2:return y=h===(O.sent()?"start":"end")?"left":"right",[3,4];case 3:y=p,_="end"===h?"top":"bottom",O.label=4;case 4:return b=g-d[_],w=v-d[y],E=!t.middlewareData.shift,A=b,M=w,f?(S=v-d.left-d.right,M=h||E?Qo(w,S):S):(x=g-d.top-d.bottom,A=h||E?Qo(b,x):x),E&&!h&&(T=Zo(d.left,0),k=Zo(d.right,0),C=Zo(d.top,0),L=Zo(d.bottom,0),f?M=v-2*(0!==T||0!==k?T+k:Zo(d.left,d.right)):A=g-2*(0!==C||0!==L?C+L:Zo(d.top,d.bottom))),[4,l(P(u({},t),{availableWidth:M,availableHeight:A}))];case 5:return O.sent(),[4,r.getDimensions(a.floating)];case 6:return N=O.sent(),v!==N.width||g!==N.height?[2,{reset:{rects:!0}}]:[2,{}]}}))}))()}}}({apply({rects:e,elements:t}){Object.assign(t.floating.style,{width:`${e.reference.width}px`})}})),x&&e.push(...x),d&&e.push(function(e){return{name:"arrow",options:e,fn:function(t){var n,o="function"==typeof e?e(t):e,r=o.element,a=o.padding;return r&&(n=r,{}.hasOwnProperty.call(n,"current"))?null!=r.current?Ar({element:r.current,padding:a}).fn(t):{}:r?Ar({element:r,padding:a}).fn(t):{}}}}({element:O,padding:h})),L&&e.push(function(e){return void 0===e&&(e={}),{name:"hide",options:e,fn:function(t){return Yo((function(){var n,o,r,a,i,s,l,c,d;return $o(this,(function(p){switch(p.label){case 0:switch(n=t.rects,o=ir(e,t),r=o.strategy,a=void 0===r?"referenceHidden":r,i=R(o,["strategy"]),a){case"referenceHidden":return[3,1];case"escaped":return[3,3]}return[3,5];case 1:return[4,wr(t,P(u({},i),{elementContext:"reference"}))];case 2:return s=p.sent(),[2,{data:{referenceHiddenOffsets:l=xr(s,n.reference),referenceHidden:Tr(l)}}];case 3:return[4,wr(t,P(u({},i),{altBoundary:!0}))];case 4:return c=p.sent(),[2,{data:{escapedOffsets:d=xr(c,n.floating),escaped:Tr(d)}}];case 5:return[2,{}];case 6:return[2]}}))}))()}}}()),e}),[w,O,d,p,h,_,D,g,x,a,L]),{x:W,y:z,strategy:B,placement:V,refs:K,middlewareData:{arrow:j,hide:F}}=ha({placement:D?a:void 0,middleware:H,whileElementsMounted:(...e)=>function(e,t,n,o=va){const r=o,{elementResize:a=!1}=r,i=c(r,["elementResize"]),d=sa(e,t,n,l(s({},i),{elementResize:!1}));let u=null;if(a){let o=!0;u=new MutationObserver((()=>{o||n(),o=!1})),e instanceof Element&&u.observe(e,{childList:!0,subtree:!0}),u.observe(t,{childList:!0,subtree:!0})}return()=>{null!==u&&(u.disconnect(),u=null),d()}}(...e,{elementResize:M})}),U=Vn(K.setFloating,r,C);xt((()=>{K.setReference(n.current)}),[K,n]),xt((()=>{V&&i&&i({placement:V})}),[i,V]);const G=f(un,l(s({},N),{baseClassName:Fi,getRootRef:U,style:s(s(s({},S),ma(B,W,z,g?null:void 0)),(null==F?void 0:F.referenceHidden)&&{visibility:"hidden"})}),d&&f(ji,{coords:j,placement:V,arrowClassName:m,getRootRef:I,Icon:v}),T?T({className:""}):o);return f(si,{forcePortal:E,portalRoot:A},G)},Gi=e=>f("svg",s({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),f("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40 24c0 8.837-7.163 16-16 16S8 32.837 8 24 15.163 8 24 8s16 7.163 16 16Zm-10.08-4.33a1.125 1.125 0 0 0-1.59-1.59L24 22.409l-4.33-4.33a1.125 1.125 0 0 0-1.59 0l-.101.116a1.125 1.125 0 0 0 .1 1.476L22.41 24l-4.33 4.33a1.125 1.125 0 0 0 1.591 1.59L24 25.591l4.33 4.33c.439.439 1.151.439 1.59 0l.101-.116a1.125 1.125 0 0 0-.1-1.476L25.59 24l4.33-4.33Z",fill:"currentColor"})),Yi=e=>f("svg",s({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),f("path",{d:"M9 24L19 34L39 14",stroke:"currentColor",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"})),$i="_ScreenSpinner_17zqn_1",qi="_ScreenSpinner--clickable_17zqn_5",Xi="_ScreenSpinner__spinner_17zqn_9",Ji="_ScreenSpinner__spinner--hidden_17zqn_14",Qi="_ScreenSpinner__container_17zqn_18",Zi="_ScreenSpinner__icon_17zqn_28",es="_ScreenSpinner__icon--state-done_17zqn_44",ts=e=>{var t=e,{style:n,className:o,state:r="loading",size:a="large","aria-label":i="Пожалуйста, подождите...",onClick:l}=t,d=c(t,["style","className","state","size","aria-label","onClick"]);const u="done"===r||"error"===r,p={loading:()=>null,cancelable:W,done:Yi,error:Gi}[r];return dn(),f(Ai,{hasMask:!1,className:ye($i,"cancelable"===r&&qi,o),style:n},f("div",{className:Qi,onClick:l},f(Ho,s({className:ye(Xi,u&&Ji),size:a,"aria-label":i},d)),f("div",{className:ye(Zi,"done"===r&&es)},f(p,null))))};var ns,os;function rs(e,t){if("setActive"===t.type&&t.id!==e.activeModal){const n=t.id,o=e.exitingModal||e.activeModal;let r=e.history?[...e.history]:[];const a=Boolean(n&&r.includes(n));return null===n?r=[]:a?r=r.splice(0,r.indexOf(n)+1):r.push(n),{activeModal:n,enteringModal:null,exitingModal:o,history:r,isBack:a}}return"entered"===t.type&&t.id===e.enteringModal?l(s({},e),{enteringModal:null}):"exited"===t.type&&t.id===e.exitingModal?l(s({},e),{exitingModal:null}):"inited"===t.type&&t.id===e.activeModal?l(s({},e),{enteringModal:t.id}):e}function as(e,t,n=be,o=be,r=be,a=be,i=be){const c=g({}).current;(function(e){return w.toArray(e)})(t).forEach((e=>{const t=e.props,n=Wo(t),o=void 0!==n&&c[n]||{id:null!=n?n:null};o.onOpen=e.props.onOpen,o.onOpened=e.props.onOpened,o.onClose=e.props.onClose,o.onClosed=e.props.onClosed,"number"==typeof t.settlingHeight&&(o.settlingHeight=t.settlingHeight),null!==o.id&&(c[o.id]=o)}));const d=e&&!c[e]?null:e,[u,p]=z(rs,{activeModal:d,enteringModal:null,exitingModal:null,history:d?[d]:[],isBack:!1});xt((()=>{p({type:"setActive",id:null!=d?d:null})}),[e]),xt((()=>{u.activeModal&&(i(c[u.activeModal]),p({type:"inited",id:u.activeModal}))}),[u.activeModal]);const h=e=>{var t;return null!=e&&(null==(t=c[e])?void 0:t.type)===ns.CARD},f=_((e=>{if(e){const t=c[e];we(t.onOpened)?t.onOpened():we(o)&&o(e)}p({type:"entered",id:e})}),[c,o]),m=_((e=>{if(e){const t=c[e];we(t.onClosed)?t.onClosed():we(a)&&a(e)}p({type:"exited",id:e})}),[c,a]),v=Boolean(u.exitingModal&&(h(e)||h(u.exitingModal))),y=_((e=>e?c[e]:void 0),[c]);return l(s({onEnter:function(){const e=u.activeModal&&c[u.activeModal];e&&(we(e.onOpen)?e.onOpen():we(n)&&e.id&&n(e.id))},onEntered:f,onExit:function(){const e=u.activeModal&&c[u.activeModal];e&&(we(e.onClose)?e.onClose():we(r)&&e.id&&r(e.id))},onExited:m},u),{delayEnter:v,getModalState:y})}(os=ns||(ns={})).PAGE="page",os.CARD="card";const is="_ModalRoot_j6pv1_1",ss="_ModalRoot__mask_j6pv1_6",ls="_ModalRoot--touched_j6pv1_22",cs="_ModalRoot--switching_j6pv1_26",ds="_ModalRoot__viewport_j6pv1_31",us="_ModalRoot--desktop_j6pv1_40",ps="_ModalRoot--hasCustomPanelHeaderAfterSlot_j6pv1_44",hs="_ModalRoot__modal_j6pv1_50",fs=en();function ms(e,t){return!!t&&(e>=t[0]&&e<=t[1])}function vs(e){return nn(e,0,98)}const gs=function(e,t,n){return function(o){const r=h(t);return f(e,l(s({},o),{[n]:r}))}}(function(e){return function(t){const{platform:n}=Mt();return f(e,l(s({},t),{platform:n}))}}((_s=function(e=be){return function(t){return function(n){const o=as(n.activeModal,n.children,n.onOpen,n.onOpened,n.onClose,n.onClosed,e);return f(t,s(s({},n),o))}}}((function(e){switch(e.type){case ns.PAGE:return e.settlingHeight=e.settlingHeight||75,ys(e);case ns.CARD:return function(e){e.translateY=0}(e)}}))(class extends B{constructor(e){super(e),d(this,"documentScrolling",!1),d(this,"maskElementRef"),d(this,"viewportRef",V()),d(this,"maskAnimationFrame"),d(this,"modalRootContext"),d(this,"frameIds"),d(this,"restoreFocusTo"),d(this,"preventTouch",(e=>{if(!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),!1})),d(this,"updateModalHeight",(()=>{const e=this.props.getModalState(this.props.activeModal);e&&e.type===ns.PAGE&&(this.props.enteringModal?this.waitTransitionFinish(e,(()=>{requestAnimationFrame((()=>this.checkPageContentHeight()))})):requestAnimationFrame((()=>this.checkPageContentHeight())))})),d(this,"onTouchMove",(e=>{if(this.props.exitingModal)return;const t=this.props.getModalState(this.props.activeModal);return t?t.type===ns.PAGE?this.onPageTouchMove(e,t):t.type===ns.CARD?this.onCardTouchMove(e,t):void 0:void 0})),d(this,"onTouchEnd",(e=>{const t=this.props.getModalState(this.props.activeModal);return(null==t?void 0:t.type)===ns.PAGE?this.onPageTouchEnd(e,t):(null==t?void 0:t.type)===ns.CARD?this.onCardTouchEnd(e,t):void 0})),d(this,"onScroll",(e=>{var t;const n=this.props.activeModal,o=e.target;if(!n)return;const r=this.props.getModalState(n);(null==r?void 0:r.type)===ns.PAGE&&(null==(t=null==r?void 0:r.contentElement)?void 0:t.contains(o))&&(r.contentScrolled=!0,r.contentScrollStopTimeout&&clearTimeout(r.contentScrollStopTimeout),r.contentScrollStopTimeout=setTimeout((()=>{r.contentScrolled&&(r.contentScrolled=!1)}),250))})),this.state={touchDown:!1,dragging:!1,modalOpenedLog:[]},this.maskElementRef=V(),this.modalRootContext={updateModalHeight:this.updateModalHeight,registerModal:e=>{var t,n=e,{id:o}=n,r=c(n,["id"]);return Object.assign(null!=(t=this.props.getModalState(o))?t:{},r)},onClose:()=>this.props.onExit(),isInsideModal:!0},this.frameIds={}}get timeout(){return this.props.platform===gt.IOS?400:320}get document(){return this.props.document}get window(){return this.props.window}getModals(){return w.toArray(this.props.children)}componentDidMount(){var e;null==(e=this.window)||e.addEventListener("resize",this.updateModalHeight,!1)}componentWillUnmount(){this.toggleDocumentScrolling(!0),this.window.removeEventListener("resize",this.updateModalHeight,!1)}componentDidUpdate(e){if(this.props.exitingModal&&this.props.exitingModal!==e.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==e.enteringModal){const e=this.props.getModalState(this.props.enteringModal);this.props.onEnter(),this.waitTransitionFinish(e,(()=>{e&&(e.innerElement&&(e.innerElement.style.transitionDelay=""),this.onEntered(e))})),(null==e?void 0:e.innerElement)&&(e.innerElement.style.transitionDelay=this.props.delayEnter?`${this.timeout}ms`:"",this.animateTranslate(e,e.translateY),this.setMaskOpacity(e,1))}this.props.activeModal&&!e.activeModal&&(this.restoreFocusTo=this.document.activeElement),this.props.activeModal||this.props.exitingModal||!this.restoreFocusTo||(this.restoreFocusTo.focus(),this.restoreFocusTo=null),this.toggleDocumentScrolling(!this.props.activeModal&&!this.props.exitingModal)}toggleDocumentScrolling(e){this.documentScrolling!==e&&(this.documentScrolling=e,e?(this.document.documentElement.classList.remove("vkui--disable-overscroll-behavior"),this.window.removeEventListener("touchmove",this.preventTouch,{passive:!1})):(this.document.documentElement.classList.add("vkui--disable-overscroll-behavior"),this.window.addEventListener("touchmove",this.preventTouch,{passive:!1})))}checkPageContentHeight(){const e=this.props.getModalState(this.props.activeModal);if((null==e?void 0:e.type)===ns.PAGE&&(null==e?void 0:e.modalElement)){const t=s({},e);ys(e);const n=s({},e);let o=!1;t.expandable===n.expandable?t.translateYFrom!==n.translateYFrom&&(o=!0):o=!0,o&&this.animateTranslate(e,e.translateY)}}onEntered({id:e,modalElement:t}){this.props.noFocusToDialog||!t||t.contains(this.document.activeElement)||t.focus(),this.props.onEntered(e)}closeModal(e){var t,n,o;this.setState({touchDown:!1});const r=this.props.getModalState(e);if(!r)return void(e&&fs(`closeActiveModal: модальное окно (страница) ${e} не существует`,"error"));this.state.modalOpenedLog.length||this.setState((t=>({modalOpenedLog:[...t.modalOpenedLog,e]})));const a=this.props.getModalState(this.props.activeModal),i=!!a&&a.type===ns.PAGE,s=!!r&&r.type===ns.PAGE;this.waitTransitionFinish(r,(()=>this.props.onExited(e)));const l=s&&i&&(null!=(t=r.translateY)?t:0)<=(null!=(n=null==a?void 0:a.translateYFrom)?n:0)&&!this.props.isBack?(null!=(o=null==a?void 0:a.translateYFrom)?o:0)+10:100;this.animateTranslate(r,l),a?a.id&&!this.state.modalOpenedLog.includes(a.id)&&(a.translateY=void 0,this.setState((e=>({modalOpenedLog:[...e.modalOpenedLog,a.id]})))):(this.setMaskOpacity(r,0),this.setState({modalOpenedLog:[]}),r.translateY=void 0)}onPageTouchMove(e,t){var n,o,r,a,i,s;const{shiftY:l,originalEvent:c}=e,d=c.target;if(!e.isY)return void((null==(n=this.viewportRef.current)?void 0:n.contains(d))&&c.preventDefault());if(!(null==(o=t.innerElement)?void 0:o.contains(d)))return c.preventDefault();c.stopPropagation();const{expandable:u,contentScrolled:p,collapsed:h,expanded:f}=t;if(this.state.touchDown||(t.touchStartContentScrollTop=null!=(a=null==(r=t.contentElement)?void 0:r.scrollTop)?a:0,this.setState({touchDown:!0})),!p&&(null===t.touchMovePositive&&(t.touchMovePositive=l>0),!t.expandable||h||f&&t.touchMovePositive&&0===t.touchStartContentScrollTop||(null==(i=t.headerElement)?void 0:i.contains(d)))){if(c.preventDefault(),!u&&l<0||!this.window)return;!this.state.dragging&&this.setState({dragging:!0});const e=l/this.window.innerHeight*100,n=Xn(e,72,.8,this.props.platform!==gt.IOS);t.touchShiftYPercent=e,t.translateYCurrent=vs((null!=(s=t.translateY)?s:0)+n),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}onCardTouchMove(e,t){var n,o;const{originalEvent:r,shiftY:a}=e,i=r.target;if(null==(n=t.innerElement)?void 0:n.contains(i)){this.state.touchDown||this.setState({touchDown:!0,dragging:!0});const e=a/t.innerElement.offsetHeight*100,n=Xn(e,72,1.2,this.props.platform!==gt.IOS);t.touchShiftYPercent=e,t.translateYCurrent=Math.max(0,(null!=(o=t.translateY)?o:0)+n),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}onPageTouchEnd(e,t){var n,o,r,a,i,s;const{startY:l,shiftY:c}=e;let d;if(t.contentScrolled=!1,t.touchMovePositive=null,this.state.dragging&&this.window){const u=(l+c)/this.window.innerHeight*100;let p=null!=(n=t.translateYCurrent)?n:0;p=vs(p+p/e.duration*240*.6*((null!=(o=t.touchShiftYPercent)?o:0)<0?-1:1)),p=100!==t.settlingHeight?ms(p,t.expandedRange)?null!=(a=null==(r=t.expandedRange)?void 0:r[0])?a:0:ms(p,t.collapsedRange)?null!=(i=t.translateYFrom)?i:0:ms(p,t.hiddenRange)?100:null!=(s=t.translateYFrom)?s:0:ms(p,[0,25])?0:100,100!==p&&u>=75&&(p=100),t.translateY=p,t.translateYCurrent=p,t.collapsed=ms(p,t.collapsedRange),t.expanded=0===p,t.hidden=100===p,t.hidden&&this.props.onExit(),d=()=>{t.hidden||this.animateTranslate(t,t.translateY),this.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},d)}onCardTouchEnd({duration:e},t){var n,o;let r;if(this.state.dragging){let a=null!=(n=t.translateYCurrent)?n:0;const i=a/e*240*.6*((null!=(o=t.touchShiftYPercent)?o:0)<0?-1:1);a=Math.max(0,a+i),a=a>=30?100:0,t.translateY=a,t.hidden=100===a,t.hidden&&this.props.onExit(),r=()=>{t.hidden||this.animateTranslate(t,t.translateY),this.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},r)}waitTransitionFinish(e,t){var n;if(jo.supported){const o=()=>{var n;null==(n=null==e?void 0:e.innerElement)||n.removeEventListener(jo.name,o),t()};null==(n=null==e?void 0:e.innerElement)||n.addEventListener(jo.name,o)}else setTimeout(t,this.timeout)}animateTranslate(e,t){const n=`animateTranslateFrame${e.id}`;cancelAnimationFrame(this.frameIds[n]),this.frameIds[n]=requestAnimationFrame((()=>{var n,o;n=e.innerElement,o=`translate3d(0, ${t}%, 0)`,n&&(n.style.transform=o,n.style.webkitTransform=o)}))}setMaskOpacity(e,t=null){var n;null===t&&(null==(n=this.props.history)?void 0:n[0])!==e.id||(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((()=>{if(this.maskElementRef.current){const{translateY:n=0,translateYCurrent:o=0}=e,r=null===t?1-(o-n)/(100-n)||0:t;this.maskElementRef.current.style.opacity=nn(r,0,100).toString(),this.maskElementRef.current.style.transitionDelay=r&&this.props.delayEnter?`${this.timeout}ms`:""}})))}render(){var e;const{activeModal:t,exitingModal:n,enteringModal:o}=this.props,{touchDown:r,dragging:a}=this.state;return t||n?f(oo.Provider,{value:!0},f(Sa.Provider,{value:this.modalRootContext},f(no,{className:ye(is,(null==(e=this.props.configProvider)?void 0:e.hasCustomPanelHeaderAfter)&&ps,r&&ye(ls,"vkuiInternalModalRoot--touched"),!(!o&&!n)&&ye(cs,"vkuiInternalModalRoot--switching")),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll},f("div",{className:ss,onClick:this.props.onExit,ref:this.maskElementRef}),f("div",{className:ds,ref:this.viewportRef},this.getModals().map((e=>{const o=Wo(e.props),r=this.props.getModalState(o);if(o!==t&&o!==n||!r)return null;const i=s({},r),l=i.type===ns.PAGE;return f(Ri,{key:`modal-${o}`,onClose:this.props.onExit,timeout:this.timeout,className:ye(hs,a&&"vkuiInternalModalRoot__modal--dragging",l&&i.expandable&&"vkuiInternalModalRoot__modal--expandable",l&&i.collapsed&&"vkuiInternalModalRoot__modal--collapsed"),restoreFocus:!1},e)})))))):null}}),e=>{const t=mt();return f(_s,s(s({},e),t))})),Et,"configProvider");var _s;function ys(e){var t,n,o,r,a,i,s;const{contentElement:l,bottomInset:c}=e,d=(null==l?void 0:l.firstElementChild).scrollHeight+((null==c?void 0:c.offsetHeight)||0);let u=e.translateY;e.expandable=d>(null!=(t=null==l?void 0:l.clientHeight)?t:0)||100===e.settlingHeight||e.expanded;let p,h,f,m,v,g=!1,_=!1;const y=Boolean(e.expandable&&100!==e.settlingHeight);if(e.expandable){p=100-(null!=(n=e.settlingHeight)?n:0);const t=p/2,o=100-p;f=[0,t],m=y?[t,p+o/4]:void 0,v=[p+o/4,100],g=y&&p>0,_=p<=0,h=p}else{p=100-(d+(null!=(r=null==(o=e.headerElement)?void 0:o.offsetHeight)?r:0))/(null!=(s=null==(i=null==(a=e.innerElement)?void 0:a.parentElement)?void 0:i.offsetHeight)?s:0)*100,h=p,f=[h,h+25],m=void 0,v=[h+25,h+100]}(e.expandable&&h>(null!=u?u:100)||100===e.settlingHeight)&&(h=0),0===h&&(_=!0,g=!1),e.expandedRange=f,e.collapsedRange=m,e.hiddenRange=v,e.translateY=h,e.translateYFrom=p,e.collapsed=g,e.expanded=_}const bs=({activeModal:e,children:t,noFocusToDialog:n=!1,onOpen:o,onOpened:r,onClose:a,onClosed:i})=>{const s=g(null),l=g(void 0),d=g(void 0),{document:u}=mt(),{hasCustomPanelHeaderAfter:p,platform:h}=Mt(),{activeModal:m,exitingModal:_,onExit:y,getModalState:b,enteringModal:E,onEnter:A,onEntered:M,onExited:S,history:x,delayEnter:T}=as(e,t,o,r,a,i,be),{waitTransitionFinish:P}=Fo(),k=Bo({exitingModal:_,enteringModal:E,activeModal:m}),R=zo({updateModalHeight:()=>{},registerModal:e=>{var t,n=e,{id:o}=n,r=c(n,["id"]);return Object.assign(null!=(t=b(o))?t:{},r)},onClose:y,isInsideModal:!0}),C=h===gt.IOS?400:320,L=w.toArray(t),N=(e,t)=>{(null==e?void 0:e.innerElement)&&(e.innerElement.style.transition="",e.innerElement.style.transitionDelay=t&&T?`${C}ms`:"",e.innerElement.style.opacity=t?"1":"0")},O=(e,t=null)=>{null===t&&(null==x?void 0:x[0])!==e.id||(l.current&&cancelAnimationFrame(l.current),l.current=requestAnimationFrame((()=>{if(s.current){const{translateY:n=0,translateYCurrent:o=0}=e,r=null===t?1-(o-n)/(100-n)||0:t;s.current.style.opacity=nn(r,0,100).toString()}})))},I=({id:e,modalElement:t})=>{n||!t||t.contains(u.activeElement)||t.focus(),M(e)};return v((()=>{var e;k&&(_&&_!==k.exitingModal&&(e=>{const t=b(e);t&&(m?S(e):requestAnimationFrame((()=>{P(null==t?void 0:t.innerElement,(()=>S(e)),C),N(t,!1),O(t,0)})))})(_),E&&E!==k.enteringModal&&(()=>{if(!E||!k)return;const e=b(E);A(),k.exitingModal?(requestAnimationFrame((()=>{(null==e?void 0:e.innerElement)&&(e.innerElement.style.transition="none",e.innerElement.style.opacity="1",O(e,1))})),e&&I(e)):requestAnimationFrame((()=>{E==E&&e&&(P(e.innerElement,(()=>I(e)),C),N(e,!0),O(e,1))}))})(),m&&!k.activeModal&&(d.current=null!=(e=null==u?void 0:u.activeElement)?e:void 0),m||_||!d.current||(d.current.focus(),d.current=void 0))})),m||_?f(Sa.Provider,{value:R},f("div",{className:ye(is,p&&ps,us)},f("div",{className:ss,ref:s,onClick:y}),f("div",{className:ds},L.map((e=>{const t=Wo(e.props);if(t!==m&&t!==_)return null;return f(Ri,{restoreFocus:!1,onClose:y,timeout:C,key:`modal-${t}`,className:hs},e)}))))):null},ws=e=>{const{isDesktop:t}=Si();dn(!!e.activeModal);return f(t?bs:gs,e)};function Es(e){var t,n,o;if(!e)return"portrait";return 90===Math.abs(null!=(o=null==(n=null==(t=e.screen)?void 0:t.orientation)?void 0:n.angle)?o:Number(e.orientation))?"landscape":"portrait"}const As=p({}),Ms="_ModalPage_1hnsv_1",Ss="_ModalPage--desktop_1hnsv_14",xs="_ModalPage__in-wrap_1hnsv_20",Ts="_ModalPage--ios_1hnsv_36",Ps="_ModalPage__in_1hnsv_20",ks="_ModalPage__header_1hnsv_91",Rs="_ModalPage__content-wrap_1hnsv_95",Cs="_ModalPage__content_1hnsv_95",Ls="_ModalPage__content-in_1hnsv_122",Ns="_ModalPage__bottom-inset_1hnsv_132",Os={s:"_ModalPage--size-s_1hnsv_57",m:"_ModalPage--size-m_1hnsv_61",l:"_ModalPage--size-l_1hnsv_65"},Is=e=>{var t=e,{children:n,header:o,size:r="s",onOpen:a,onOpened:i,onClose:d,onClosed:u,settlingHeight:p,dynamicContentHeight:m,getModalContentRef:_,nav:w,id:E,hideCloseButton:A=!1,height:M,modalContentTestId:S,getRootRef:x}=t,T=c(t,["children","header","size","onOpen","onOpened","onClose","onClosed","settlingHeight","dynamicContentHeight","getModalContentRef","nav","id","hideCloseButton","height","modalContentTestId","getRootRef"]);const P=Pi(),k=E||P,{updateModalHeight:R}=h(Sa),C=jn(),L=function(){const{window:e}=mt(),[t,n]=b((()=>Es(e)));return Lt(e,"orientationchange",(()=>n(Es(e)))),t}(),{sizeX:N,isDesktop:O}=Si();v((()=>{m&&R()}),[n,m,L,R]);const I=!A&&O,D=O?r:"s",H=h(Sa),{refs:W}=function(e,t){const n=h(Sa),o=g({}).current;return xt((()=>{if(void 0!==e){n.registerModal(l(s({},o),{type:t,id:e}));const r=Object.keys(o).reduce(((e,t)=>l(s({},e),{[t]:null})),{type:t,id:e});return()=>n.registerModal(r)}}),[]),{refs:g({modalElement:e=>o.modalElement=e,innerElement:e=>o.innerElement=e,headerElement:e=>o.headerElement=e,contentElement:e=>o.contentElement=e,bottomInset:e=>o.bottomInset=e}).current}}(Wo({nav:w,id:k}),ns.PAGE),z=Vn(x,W.modalElement),B=y((()=>({labelId:`${k}-label`})),[k]);return f(As.Provider,{value:B},f(un,l(s({},T),{getRootRef:z,tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":B.labelId,id:k,baseClassName:ye(Ms,C===gt.IOS&&Ts,O&&Ss,N===jt.REGULAR&&"vkuiInternalModalPage--sizeX-regular","string"==typeof D&&Os[D])}),f("div",{className:xs,style:{maxWidth:"number"==typeof D?D:void 0,height:M},ref:W.innerElement},f("div",{className:Ps},f("div",{className:ks,ref:W.headerElement},o),f("div",{className:Rs},f("div",s({className:Cs,ref:Wn(W.contentElement,_)},S&&{"data-testid":S}),f("div",{className:Ls},n)),f("div",{ref:W.bottomInset,className:Ns})),I&&f(Oi,{onClick:d||H.onClose})))))},Ds="_ModalPageHeader_13uwq_1",Hs="_ModalPageHeader--withGaps_13uwq_5",Ws="_ModalPageHeader--desktop_13uwq_10",zs=e=>{var t=e,{children:n,separator:o=!0,getRef:r,getRootRef:a,className:i,typographyProps:d}=t,u=c(t,["children","separator","getRef","getRootRef","className","typographyProps"]);const p=jn(),m=o&&p===gt.VKCOM,{isDesktop:v}=Si(),{labelId:g}=h(As),_=Vn(r,a);return f("div",{className:ye(Ds,p!==gt.VKCOM&&Hs,v&&Ws),ref:_},f(ni,l(s({className:ye("vkuiInternalModalPageHeader__in",i),typographyProps:s({Component:"h2",id:g},d)},u),{fixed:!1,separator:!1,transparent:!0}),n),m&&f(ka,{wide:!0}))},Bs="_Card_zlp1o_1",Vs="_Card--mode-shadow_zlp1o_7",Ks="_Card--mode-outline_zlp1o_16",js="_Card--withBorder_zlp1o_20",Fs=e=>{var t=e,{mode:n="tint"}=t,o=c(t,["mode"]);const r="outline"===n||"outline-tint"===n;return f(un,l(s({},o),{baseClassName:ye(Bs,"outline"===n&&Ks,"shadow"===n&&Vs,r&&js)}))},Us="_CardGrid_1qa4l_1",Gs="_CardGrid--spaced_1qa4l_8",Ys="_CardGrid--sizeX-compact_1qa4l_13",$s={none:"_CardGrid--sizeX-none_1qa4l_19",[jt.COMPACT]:Ys},qs={s:"vkuiInternalCardGrid--size-s",m:"vkuiInternalCardGrid--size-m",l:"vkuiInternalCardGrid--size-l"},Xs=e=>{var t=e,{size:n="s",spaced:o=!1}=t,r=c(t,["size","spaced"]);const{sizeX:a="none"}=Oe();return f(un,l(s({},r),{baseClassName:ye(Us,"vkuiInternalCardGrid",o&&Gs,qs[n],a!==jt.REGULAR&&$s[a])}))},Js="_Header_2xztt_1",Qs="_Header__main_2xztt_14",Zs="_Header__content_2xztt_20",el="_Header__content-in_2xztt_25",tl="_Header__subtitle_2xztt_26",nl="_Header__content--multiline_2xztt_32",ol="_Header--pi_2xztt_42",rl="_Header--with-subtitle_2xztt_42",al="_Header__indicator_2xztt_47",il="_Header__aside_2xztt_65",sl="_Header--large_2xztt_126",ll=e=>{var t=e,{mode:n,size:o}=t,r=c(t,["mode","size"]);const a="large"===o;if(jn()===gt.IOS)switch(n){case"primary":return f(gn,s(a?{level:"2",weight:"2"}:{weight:"1",level:"3"},r));case"secondary":return f(On,s({weight:"1",caps:!0},r));case"tertiary":return f(gn,s({weight:"1",level:"3"},r))}switch(n){case"primary":return a?f(gn,s({level:"2",weight:"2"},r)):f(wn,s({weight:"2"},r));case"secondary":return f(On,s({weight:"1",caps:!0},r));case"tertiary":return f(wn,s({weight:"2"},r))}return null},cl={primary:"_Header--mode-primary_2xztt_53",secondary:"_Header--mode-secondary_2xztt_42",tertiary:"_Header--mode-tertiary_2xztt_43"},dl=e=>{var t=e,{mode:n="primary",size:o="regular",Component:r="h2",children:a,subtitle:i,indicator:d,aside:u,multiline:p}=t,h=c(t,["mode","size","Component","children","subtitle","indicator","aside","multiline"]);return f(un,l(s({},h),{baseClassName:ye(Js,cl[n],"large"===o&&sl,Se(d)&&ol,Me(i)&&rl)}),f("div",{className:Qs},f(ll,{className:Zs,Component:r,mode:n,size:o},f("span",{className:ye(el,p&&nl)},a),Me(d)&&f(On,{className:al,weight:"2"},d)),Me(i)&&f(Cn,{className:ye(tl,p&&nl),Component:"span"},i)),Me(u)&&f(Tn,{className:il,Component:"span"},u))},ul="_Group_e3ad7_1",pl="_Group__header_e3ad7_7",hl="_Group--mode-plain_e3ad7_11",fl="_Group--mode-none_e3ad7_16",ml="_Group--mode-card_e3ad7_21",vl="_Group__separator--spacing_e3ad7_31",gl="_Group__separator--separator_e3ad7_32",_l="_Group__separator_e3ad7_31",yl="_Group__separator--force_e3ad7_63",bl="_Group--padding-s_e3ad7_74",wl="_Group--padding-m_e3ad7_78",El="_Group--inside-modal_e3ad7_83",Al="_Group--sizeX-compact_e3ad7_94",Ml="_Group__description_e3ad7_192",Sl="_Group--ios_e3ad7_216",xl={none:ye("_Group--sizeX-none_e3ad7_16","vkuiInternalGroup--sizeX-none"),[jt.COMPACT]:Al},Tl={none:ye(fl,"vkuiInternalGroup--mode-none"),plain:ye(hl,"vkuiInternalGroup--mode-plain"),card:ye(ml,"vkuiInternalGroup--mode-card")},Pl={s:bl,m:wl};const kl=e=>{var t=e,{header:n,description:o,children:r,separator:a="auto",mode:i,padding:d="m",tabIndex:u}=t,p=c(t,["header","description","children","separator","mode","padding","tabIndex"]);const{isInsideModal:m}=h(Sa),v=jn(),{sizeX:g="none"}=Oe(),_=function(e,t,n){const{layout:o}=h(tn);return e||(n?"plain":o||("none"!==t?t===jt.REGULAR?"card":"plain":"none"))}(i,g,m),y="tabpanel"===p.role&&void 0===u?0:u;return f(L,null,f(un,l(s({Component:"section"},p),{tabIndex:y,baseClassName:ye("vkuiInternalGroup",ul,m&&El,v===gt.IOS&&Sl,g!==jt.REGULAR&&xl[g],_&&Tl[_],Pl[d])}),Me(n)&&f("div",{className:pl},n),r,Me(o)&&f(On,{className:Ml},o)),"hide"!==a&&f(L,null,f(Ca,{className:ye(_l,vl),size:16}),f(ka,{className:ye(_l,gl,"show"===a&&yl)})))},Rl={s:K,m:j},Cl=e=>{var t=e,{size:n="m"}=t,o=c(t,["size"]);return f(Rl[n],o)},Ll="_SimpleCell_gkit0_1",Nl="_SimpleCell--mult_gkit0_12",Ol="_SimpleCell__children_gkit0_16",Il="_SimpleCell__before_gkit0_20",Dl="_SimpleCell__middle_gkit0_39",Hl="_SimpleCell__subhead_gkit0_57",Wl="_SimpleCell__text_gkit0_61",zl="_SimpleCell__subtitle_gkit0_66",Bl="_SimpleCell__extraSubtitle_gkit0_67",Vl="_SimpleCell__content_gkit0_71",Kl="_SimpleCell__badge_gkit0_95",jl="_SimpleCell__indicator_gkit0_108",Fl="_SimpleCell__after_gkit0_117",Ul="_SimpleCell__chevronIcon_gkit0_132",Gl="_SimpleCell--sizeY-compact_gkit0_141",Yl={none:"_SimpleCell--sizeY-none_gkit0_151",[jt.COMPACT]:Gl},$l=e=>{var t=e,{badgeBeforeTitle:n,badgeAfterTitle:o,badgeBeforeSubtitle:r,badgeAfterSubtitle:a,before:i,indicator:d,children:u,after:p,expandable:h,multiline:m,subhead:v,subtitle:g,extraSubtitle:_,className:y,chevronSize:b="m"}=t,w=c(t,["badgeBeforeTitle","badgeAfterTitle","badgeBeforeSubtitle","badgeAfterSubtitle","before","indicator","children","after","expandable","multiline","subhead","subtitle","extraSubtitle","className","chevronSize"]);const E=jn(),A="always"===h||(!0===h||"auto"===h)&&E===gt.IOS,M=Me(p)||A,{sizeY:S="none"}=Oe();return f(xo,l(s({},w),{className:ye(Ll,S!==jt.REGULAR&&Yl[S],m&&Nl,y)}),f("div",{className:Il},i),f("div",{className:Dl},v&&f(Cn,{Component:"span",className:ye(Wl,Hl)},v),f("div",{className:Vl},n&&f("span",{className:Kl},n),f(wn,{Component:"span",className:Ol,weight:"3"},u),Me(o)&&f("span",{className:Kl},o)),g&&f("div",{className:Vl},r&&f("span",{className:Kl},r),f(On,{normalize:!1,className:ye(Wl,zl)},g),a&&f("span",{className:Kl},a)),_&&f(On,{className:ye(Wl,Bl)},_)),Me(d)&&f(wn,{Component:"span",weight:"3",className:jl},d),M&&f("div",{className:ye(Fl,"vkuiInternalSimpleCell__after")},p,A&&f(Cl,{size:b,className:Ul})))},ql="_InfoRow_cregb_1",Xl="_InfoRow__header_cregb_10",Jl=e=>{var t=e,{header:n,children:o,className:r}=t,a=c(t,["header","children","className"]);return f(wn,l(s({},a),{Component:"span",className:ye(ql,r),weight:"3"}),Me(n)&&f(Cn,{Component:"strong",className:Xl},n,f(Io,null," ")),o)},Ql="_Link_1kdyo_1",Zl="_Link--focus-visible_1kdyo_25",ec="_Link--has-visited_1kdyo_36",tc=e=>{var t=e,{hasVisited:n,children:o,className:r}=t,a=c(t,["hasVisited","children","className"]);return f(xo,l(s({Component:a.href?"a":"button"},a),{className:ye(Ql,n&&ec,r),hasHover:!1,activeMode:"opacity",focusVisibleMode:Zl}),o)},nc="_Placeholder_sjcbw_1",oc="_Placeholder--withPadding_sjcbw_10",rc="_Placeholder--stretched_sjcbw_14",ac="_Placeholder__icon_sjcbw_21",ic="_Placeholder__header_sjcbw_28",sc="_Placeholder__text_sjcbw_32",lc="_Placeholder__action_sjcbw_40",cc=e=>{var t=e,{stretched:n,withPadding:o=!0}=t,r=c(t,["stretched","withPadding"]);return f(un,s({baseClassName:ye(nc,n&&rc,o&&oc)},r))},dc=e=>f(un,s({baseClassName:ac},e)),uc=e=>{var t=e,{className:n}=t,o=c(t,["className"]);return f(gn,s({level:"2",weight:"2",className:ye(n,ic)},o))},pc=e=>{var t=e,{className:n}=t,o=c(t,["className"]);return f(wn,s({weight:"3",className:ye(n,sc)},o))},hc=e=>f(un,s({baseClassName:lc},e)),fc=e=>{var t=e,{icon:n,header:o,children:r,action:a,withPadding:i=!0}=t,l=c(t,["icon","header","children","action","withPadding"]);return f(cc,s({withPadding:i},l),Me(n)&&f(dc,null,n),Me(o)&&f(uc,null,o),Me(r)&&f(pc,null,r),Me(a)&&f(hc,null,a))};fc.Container=cc,fc.Icon=dc,fc.Header=uc,fc.Text=pc,fc.Actions=hc;const mc="_MiniInfoCell_196gd_1",vc="_MiniInfoCell__before_196gd_11",gc="_MiniInfoCell__middle_196gd_16",_c="_MiniInfoCell__content_196gd_24",yc="_MiniInfoCell__after_196gd_50",bc={add:"_MiniInfoCell--mode-add_196gd_56",accent:"_MiniInfoCell--mode-accent_196gd_7",more:"_MiniInfoCell--mode-more_196gd_57"},wc={nowrap:"_MiniInfoCell--textWrap-nowrap_196gd_46",full:"_MiniInfoCell--textWrap-full_196gd_41",short:"_MiniInfoCell--textWrap-short_196gd_33"},Ec=e=>{var t=e,{before:n,after:o,children:r,mode:a="base",textWrap:i="nowrap",expandable:d=!1,className:u}=t,p=c(t,["before","after","children","mode","textWrap","expandable","className"]);const h=ye(mc,wc[i],"base"!==a&&bc[a],u),m=f(L,null,Me(n)&&f("span",{className:vc},n),f("div",{className:gc},f(Tn,{className:_c,weight:"more"===a?"2":void 0},r),d&&f(K,null)),Me(o)&&f("span",{className:yc},o));return p.onClick?f(xo,l(s({Component:"div",role:"button"},p),{className:h}),m):f(un,l(s({},p),{baseClassName:h}),m)};let Ac={type:"",viewportWidth:0,viewportHeight:0};function Mc(e=!1){const[t,n]=b(Ac);return xt((()=>{if(e)return;const t=e=>{if(!("adaptivity"in e)||!("viewport_width"in e)||!("viewport_height"in e))return;const t=function(e){const{adaptivity:t,viewport_width:n,viewport_height:o}=e,r={type:"",viewportWidth:isFinite(n)?Number(n):0,viewportHeight:isFinite(o)?Number(o):0};switch(t){case"force_mobile":case"force_mobile_compact":case"adaptive":r.type=t}return r}(e);t&&n(t)},o=e=>{const{type:n,data:o}=e.detail;"VKWebAppUpdateConfig"===n&&t(o)};return ut.subscribe(o),ut.send("VKWebAppGetConfig").then(t).catch(console.error),()=>{ut.unsubscribe(o)}}),[]),t}const Sc=({viewWidth:e,viewHeight:t,sizeX:n,sizeY:o,hasPointer:r,hasHover:a,children:i})=>{const s=Mc(void 0!==e&&void 0!==t||void 0!==e&&void 0!==n&&void 0!==o),l=y((()=>function({viewWidth:e,viewHeight:t,sizeX:n,sizeY:o,hasPointer:r,hasHover:a},i){if("adaptive"===i.type){const{viewportWidth:r,viewportHeight:a}=i;e=r>=Ut.BREAKPOINTS.DESKTOP?zt.DESKTOP:r>=Ut.BREAKPOINTS.TABLET?zt.TABLET:r>=Ut.BREAKPOINTS.SMALL_TABLET?zt.SMALL_TABLET:r>=Ut.BREAKPOINTS.MOBILE?zt.MOBILE:zt.SMALL_MOBILE,t=a>=Ut.BREAKPOINTS.MEDIUM_HEIGHT?Vt.MEDIUM:a>=Ut.BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT?Vt.SMALL:Vt.EXTRA_SMALL,n=e<=zt.MOBILE?jt.COMPACT:jt.REGULAR,o=e>=zt.SMALL_TABLET&&Ce||t<=Vt.EXTRA_SMALL?jt.COMPACT:jt.REGULAR}else"force_mobile"===i.type||"force_mobile_compact"===i.type?(e=zt.MOBILE,n=jt.COMPACT,o="force_mobile_compact"===i.type?jt.COMPACT:jt.REGULAR):(void 0===n&&void 0!==e&&(n=e<=zt.MOBILE?jt.COMPACT:jt.REGULAR),void 0===o&&void 0!==e&&void 0!==t&&(o=e>=zt.SMALL_TABLET&&Ce||t<=Vt.EXTRA_SMALL?jt.COMPACT:jt.REGULAR));return{viewWidth:e,viewHeight:t,sizeX:n,sizeY:o,hasPointer:r,hasHover:a}}({viewWidth:e,viewHeight:t,sizeX:n,sizeY:o,hasPointer:r,hasHover:a},s)),[e,t,n,o,r,a,s]);return f(Ne.Provider,{value:l},i)};const xc=A((e=>{var t=e,{height:n=96,style:o}=t,r=c(t,["height","style"]);return f(Ho,l(s({size:"regular"},r),{style:s({height:n},o)}))}));var Tc,Pc,kc,Rc;xc.displayName="PanelSpinner",(Pc=Tc||(Tc={})).BRIGHT_LIGHT="bright_light",Pc.SPACE_GRAY="space_gray",Pc.VKCOM_LIGHT="vkcom_light",Pc.VKCOM_DARK="vkcom_dark",(Rc=kc||(kc={})).DARK="dark",Rc.LIGHT="light";const Cc=e=>"space_gray"===e||"vkcom_dark"===e?"dark":"light";function Lc(e,t){function n(n){const o=function(e){const{scheme:t,appearance:n}=e;return n||Cc(t)}(n);o&&(t(),e(o))}function o(e){const{type:t,data:o}=e.detail;"VKWebAppUpdateConfig"===t&&n(o)}return ut.subscribe(o),ut.send("VKWebAppGetConfig").then(n).catch(console.error),()=>ut.unsubscribe(o)}const Nc=(e,t)=>{const{window:n}=mt(),o=g((()=>{t&&t(),o.current=be})),[r,a]=b((()=>{if(e)return e;const t=n&&n.matchMedia&&n.matchMedia("(prefers-color-scheme: dark)");return(null==t?void 0:t.matches)?"dark":"light"}));return v((()=>e?(a(e),be):ut.isEmbedded()?Lc(a,o.current):function(e,t){const n=e&&e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)");if(void 0===n)return be;const o=e=>{t(e.matches?"dark":"light")};return o(n),di(n,o),()=>ui(n,o)}(n,a)),[n,e]),r},Oc=e=>{const t=(e=>{const t={};for(const n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t[n]=e[n]);return t})(e),n=Mt(),{children:o,webviewType:r,hasCustomPanelHeaderAfter:a,customPanelHeaderAfterMinWidth:i,isWebView:l,transitionMotionEnabled:c,platform:d,locale:u,appearance:p,onDetectAppearanceByBridge:h=be}=s(s({},n),t),m=t.webviewType&&void 0===t.hasCustomPanelHeaderAfter?t.webviewType===bt.VKAPPS:a,v=Nc(p,h),{document:g}=mt();xt((function(){if(!g)return;const e=oi(d,v);return function(e,t){const n=e.getAttribute("class")||"",o=`${n}${n?" ":""}${t}`;e.setAttribute("class",o)}(g.body,e),()=>{!function(e,t){const n=(e.getAttribute("class")||"").split(/\s+/),o=n.findIndex((e=>e===t));-1!==o&&(n.splice(o,1),e.setAttribute("class",n.join(" ")))}(g.body,e)}}),[d,v]);const _=zo({webviewType:r,hasCustomPanelHeaderAfter:m,customPanelHeaderAfterMinWidth:i,isWebView:l,transitionMotionEnabled:c,platform:d,locale:u,appearance:v});return f(Et.Provider,{value:_},f(ri,{platform:d,appearance:v},o))},Ic=e=>"string"==typeof e.type,Dc=en(),Hc="_Popover_hy6v4_1",Wc="_Popover__in_hy6v4_20",zc=e=>{var t=e,{action:n="click",shown:o,showDelay:r=150,hideDelay:a=150,offsetDistance:i=8,content:d,children:u,style:p,className:h,getRef:m,onShownChange:_,restoreFocus:y=!0}=t,w=c(t,["action","shown","showDelay","hideDelay","offsetDistance","content","children","style","className","getRef","onShownChange","restoreFocus"]);const{document:E}=mt(),A="hover"===n,M=g(!1),[S,x]=b(o||!1),[T,P]=b(null),k="boolean"==typeof o?o:S,R=Vn(P,m),[C,I]=(e=>{const t=Vn(N(e)&&(Ic(e)?e.ref:e.props.getRootRef));return Ii((()=>{t.current||Dc("Кажется, в children передан компонент, который не поддерживает свойство getRootRef. Мы не можем получить ссылку на корневой dom-элемент этого компонента","error")}),[null==e?void 0:e.type,t]),[t,N(e)?O(e,{[Ic(e)?"ref":"getRootRef"]:t}):e]})(u),D=e=>{"boolean"!=typeof o&&x(e),"function"==typeof _&&_(e)},H=Fn((()=>D(!0)),r),W=Fn((()=>D(!1)),a),z=()=>{M.current=!1,H.clear(),W.set()},B=()=>{D(!1)};Lt(E,"click",(e=>{var t;!T||(null==(t=C.current)?void 0:t.contains(e.target))||T.contains(e.target)||D(!1)}),{capture:!0,passive:!0});const V=Ct("mouseenter",(()=>{M.current=!0,W.clear(),H.set()})),K=Ct("click",(()=>{M.current&&k||D(!k)})),j=Ct("mouseleave",z);return v((()=>{C.current&&K.add(C.current)}),[C,K]),v((()=>{if(C.current)return A&&(V.add(C.current),j.add(C.current)),()=>{V.remove(),j.remove()}}),[C,A,V,j]),f(L,null,I,k&&f(Ui,l(s({},w),{className:ye(Hc,h),targetRef:C,getRef:R,offsetDistance:i,style:l(s({},p),{"--vkui_internal--popover_safe_zone_padding":`${i}px`}),renderContent:({className:e})=>f(Ri,{className:ye(Wc,e),onClose:B,restoreFocus:y},d),onMouseOver:A?W.clear:void 0,onMouseOut:A?z:void 0})))},Bc={Lesson:"Ответ на занятии",Control:"Контрольная работа",Independent:"Самостоятельная работа",Laboratory:"Лабораторная работа",Slice:"Срезовая работа",Home:"Домашнее задание",Test:"Тест",Review:"Реферат",Report:"Доклад",Colloquium:"Коллоквиум",SportStandarts:"Сдача спортивных нармативов",PracticeWork:"Практическая работа","":"Не указано"},Vc={Five:5,Four:4,Three:3,Two:2,One:1,"":"Д"},Kc={Lecture:"Лекция",Lesson:"Урок",PracticalWork:"Практ. работа",PracticalTraining:"Практ. занятие",Seminar:"Семинар",Practice:"Практика",Laboratory:"Лаб. занятие",Self:"Сам. работа",Consultation:"Консультация",Excursion:"Экскурсия",Examination:"Контр. работа",Composition:"Сочинение",BusinessGame:"Деловая игра",SportStandarts:"Сдача спорт. нормативов","":"Не указан"},jc={IsAbsent:"Н",IsLate:"О"},Fc={"Н":"Отсутствие","О":"Опоздание"},Uc={DifferentiatedTest:"Дифф. зачёт",Test:"Зачёт",Exam:"Экзамен",Other:"Др. форма контроля"},Gc=e=>{if(!e||0===e.length)return null;let t=0,n=0;if(e.forEach((e=>{const o=Number(Vc[e]);isNaN(o)||(t+=o,n++)})),0===n)return null;return Number((t/n).toFixed(2))},Yc=e=>{const t=Number(e);if(!isNaN(t))return t>5?"var(--vkui--color_accent_purple)":t>=4?"linear-gradient(135deg,#50c750,#32b332)":t>=3?"#F59802":"#DA0A35";switch(e){case"ДЗ":return"#4966CF";case"О":return"#ffb060";case"Н":case"Д":return"#DA0A35";default:return"#959595"}},$c=e=>{switch(e){case"s":return"1rem";case"l":return"3rem";default:return}},qc=e=>e.isRequired&&!e.mark?"Д":"Home"!==e.type||e.mark?Vc[e.mark]:"ДЗ";var Xc=0;function Jc(e,t,n,o,r,a){var i,s,l={};for(s in t)"ref"==s?i=t[s]:l[s]=t[s];var c={type:e,props:l,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Xc,__i:-1,__u:0,__source:r,__self:a};if("function"==typeof e&&(i=e.defaultProps))for(s in i)void 0===l[s]&&(l[s]=i[s]);return F.vnode&&F.vnode(c),c}const Qc=(e,t)=>{const[n,o]=e.split(":").map(Number);if(isNaN(n)||isNaN(o)||n<0||n>23||o<0||o>59)return null;const r=new Date(t);return r.setHours(n),r.setMinutes(o),r},Zc=e=>{var t=e,{mark:n,size:o="l",useMargin:r=!0,bottom:a}=t,i=c(t,["mark","size","useMargin","bottom"]);const d={padding:"l"===o?"10px 29px":"5px 10px",background:Yc(n),fontSize:$c(o),borderRadius:"l"===o?"10px":"5px",color:"white",marginLeft:r?10:void 0,display:"inline-block"};return y((()=>Jc("div",l(s({},i),{children:[Jc("div",{style:d,children:n}),a&&Jc(On,{style:{padding:3},children:a})]}))),[n,a,o])};
/**
 * @remix-run/router v1.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ed.apply(this,arguments)}var td,nd;(nd=td||(td={})).Pop="POP",nd.Push="PUSH",nd.Replace="REPLACE";const od="popstate";function rd(e){return void 0===e&&(e={}),function(e,t,n,o){void 0===o&&(o={});let{window:r=document.defaultView,v5Compat:a=!1}=o,i=r.history,s=td.Pop,l=null,c=d();null==c&&(c=0,i.replaceState(ed({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function u(){s=td.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function p(e,t){s=td.Push;let o=ld(m.location,e,t);n&&n(o,e),c=d()+1;let u=sd(o,c),p=m.createHref(o);try{i.pushState(u,"",p)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;r.location.assign(p)}a&&l&&l({action:s,location:m.location,delta:1})}function h(e,t){s=td.Replace;let o=ld(m.location,e,t);n&&n(o,e),c=d();let r=sd(o,c),u=m.createHref(o);i.replaceState(r,"",u),a&&l&&l({action:s,location:m.location,delta:0})}function f(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"==typeof e?e:cd(e);return ad(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return s},get location(){return e(r,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(od,u),l=e,()=>{r.removeEventListener(od,u),l=null}},createHref:e=>t(r,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:p,replace:h,go:e=>i.go(e)};return m}((function(e,t){let{pathname:n="/",search:o="",hash:r=""}=dd(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),ld("",{pathname:n,search:o,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),o="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");o=-1===n?t:t.slice(0,n)}return o+"#"+("string"==typeof t?t:cd(t))}),(function(e,t){id("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function ad(e,t){if(!1===e||null==e)throw new Error(t)}function id(e,t){if(!e)try{throw new Error(t)}catch(e){}}function sd(e,t){return{usr:e.state,key:e.key,idx:t}}function ld(e,t,n,o){return void 0===n&&(n=null),ed({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?dd(t):t,{state:n,key:t&&t.key||o||Math.random().toString(36).substr(2,8)})}function cd(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(t+="#"===o.charAt(0)?o:"#"+o),t}function dd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}var ud,pd;(pd=ud||(ud={})).data="data",pd.deferred="deferred",pd.redirect="redirect",pd.error="error";const hd=new Set(["lazy","caseSensitive","path","id","index","children"]);function fd(e,t,n,o){return void 0===n&&(n=[]),void 0===o&&(o={}),e.map(((e,r)=>{let a=[...n,r],i="string"==typeof e.id?e.id:a.join("-");if(ad(!0!==e.index||!e.children,"Cannot specify children on an index route"),ad(!o[i],'Found a route id collision on id "'+i+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=ed({},e,t(e),{id:i});return o[i]=n,n}{let n=ed({},e,t(e),{id:i,children:void 0});return o[i]=n,e.children&&(n.children=fd(e.children,t,a,o)),n}}))}function md(e,t,n){void 0===n&&(n="/");let o=kd(("string"==typeof t?dd(t):t).pathname||"/",n);if(null==o)return null;let r=vd(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let a=null;for(let e=0;null==a&&e<r.length;++e)a=xd(r[e],Pd(o));return a}function vd(e,t,n,o){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===o&&(o="");let r=(e,r,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(ad(i.relativePath.startsWith(o),'Absolute route path "'+i.relativePath+'" nested under path "'+o+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(o.length));let s=Nd([o,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(ad(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),vd(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Sd(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of gd(e.path))r(e,t,n);else r(e,t)})),t}function gd(e){let t=e.split("/");if(0===t.length)return[];let[n,...o]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===o.length)return r?[a,""]:[a];let i=gd(o.join("/")),s=[];return s.push(...i.map((e=>""===e?a:[a,e].join("/")))),r&&s.push(...i),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const _d=/^:\w+$/,yd=3,bd=2,wd=1,Ed=10,Ad=-2,Md=e=>"*"===e;function Sd(e,t){let n=e.split("/"),o=n.length;return n.some(Md)&&(o+=Ad),t&&(o+=bd),n.filter((e=>!Md(e))).reduce(((e,t)=>e+(_d.test(t)?yd:""===t?wd:Ed)),o)}function xd(e,t){let{routesMeta:n}=e,o={},r="/",a=[];for(let e=0;e<n.length;++e){let i=n[e],s=e===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=Td({path:i.relativePath,caseSensitive:i.caseSensitive,end:s},l);if(!c)return null;Object.assign(o,c.params);let d=i.route;a.push({params:o,pathname:Nd([r,c.pathname]),pathnameBase:Od(Nd([r,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(r=Nd([r,c.pathnameBase]))}return a}function Td(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);id("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let o=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(o.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(o.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let a=new RegExp(r,t?void 0:"i");return[a,o]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),s=r.slice(1),l=o.reduce(((e,t,n)=>{let{paramName:o,isOptional:r}=t;if("*"===o){let e=s[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[o]=r&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return id(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",o),e}),{});return{params:l,pathname:a,pathnameBase:i,pattern:e}}function Pd(e){try{return decodeURI(e)}catch(t){return id(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function kd(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&"/"!==o?null:e.slice(n)||"/"}function Rd(e,t,n,o){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Cd(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Ld(e,t,n,o){let r;void 0===o&&(o=!1),"string"==typeof e?r=dd(e):(r=ed({},e),ad(!r.pathname||!r.pathname.includes("?"),Rd("?","pathname","search",r)),ad(!r.pathname||!r.pathname.includes("#"),Rd("#","pathname","hash",r)),ad(!r.search||!r.search.includes("#"),Rd("#","search","hash",r)));let a,i=""===e||""===r.pathname,s=i?"/":r.pathname;if(null==s)a=n;else if(o){let e=t[t.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e.pop();r.pathname=t.join("/")}a="/"+e.join("/")}else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:o="",hash:r=""}="string"==typeof e?dd(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Id(o),hash:Dd(r)}}(r,a),c=s&&"/"!==s&&s.endsWith("/"),d=(i||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const Nd=e=>e.join("/").replace(/\/\/+/g,"/"),Od=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Id=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Dd=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class Hd{constructor(e,t,n,o){void 0===o&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}const Wd=["post","put","patch","delete"],zd=new Set(Wd),Bd=["get",...Wd],Vd=new Set(Bd),Kd=new Set([301,302,303,307,308]),jd=new Set([307,308]),Fd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ud={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Yd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$d=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),qd="remix-router-transitions";function Xd(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,n=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,o=!n;let r;if(ad(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)r=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;r=e=>({hasErrorBoundary:t(e)})}else r=$d;let a,i={},s=fd(e.routes,r,void 0,i),l=e.basename||"/",c=ed({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),d=null,u=new Set,p=null,h=null,f=null,m=null!=e.hydrationData,v=md(s,e.history.location,l),g=null;if(null==v){let t=uu(404,{pathname:e.history.location.pathname}),{matches:n,route:o}=du(s);v=n,g={[o.id]:t}}let _,y,b=!(v.some((e=>e.route.lazy))||v.some((e=>e.route.loader))&&null==e.hydrationData),w={historyAction:e.history.action,location:e.history.location,matches:v,initialized:b,navigation:Fd,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||g,fetchers:new Map,blockers:new Map},E=td.Pop,A=!1,M=!1,S=new Map,x=null,T=!1,P=!1,k=[],R=[],C=new Map,L=0,N=-1,O=new Map,I=new Set,D=new Map,H=new Map,W=new Set,z=new Map,B=new Map,V=!1;function K(e,t){void 0===t&&(t={}),w=ed({},w,e);let n=[],o=[];c.v7_fetcherPersist&&w.fetchers.forEach(((e,t)=>{"idle"===e.state&&(W.has(t)?o.push(t):n.push(t))})),[...u].forEach((e=>e(w,{deletedFetchers:o,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),c.v7_fetcherPersist&&(n.forEach((e=>w.fetchers.delete(e))),o.forEach((e=>J(e))))}function j(t,n,o){var r,i;let l,{flushSync:c}=void 0===o?{}:o,d=null!=w.actionData&&null!=w.navigation.formMethod&&gu(w.navigation.formMethod)&&"loading"===w.navigation.state&&!0!==(null==(r=t.state)?void 0:r._isRedirect);l=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:d?w.actionData:null;let u=n.loaderData?lu(w.loaderData,n.loaderData,n.matches||[],n.errors):w.loaderData,p=w.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,Gd))));let h,f=!0===A||null!=w.navigation.formMethod&&gu(w.navigation.formMethod)&&!0!==(null==(i=t.state)?void 0:i._isRedirect);if(a&&(s=a,a=void 0),T||E===td.Pop||(E===td.Push?e.history.push(t,t.state):E===td.Replace&&e.history.replace(t,t.state)),E===td.Pop){let e=S.get(w.location.pathname);e&&e.has(t.pathname)?h={currentLocation:w.location,nextLocation:t}:S.has(t.pathname)&&(h={currentLocation:t,nextLocation:w.location})}else if(M){let e=S.get(w.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),S.set(w.location.pathname,e)),h={currentLocation:w.location,nextLocation:t}}K(ed({},n,{actionData:l,loaderData:u,historyAction:E,location:t,initialized:!0,navigation:Fd,revalidation:"idle",restoreScrollPosition:se(t,n.matches||w.matches),preventScrollReset:f,blockers:p}),{viewTransitionOpts:h,flushSync:!0===c}),E=td.Pop,A=!1,M=!1,T=!1,P=!1,k=[],R=[]}async function F(t,n,o){y&&y.abort(),y=null,E=t,T=!0===(o&&o.startUninterruptedRevalidation),function(e,t){if(p&&f){let n=ie(e,t);p[n]=f()}}(w.location,w.matches),A=!0===(o&&o.preventScrollReset),M=!0===(o&&o.enableViewTransition);let c=a||s,d=o&&o.overrideNavigation,u=md(c,n,l),h=!0===(o&&o.flushSync);if(!u){let e=uu(404,{pathname:n.pathname}),{matches:t,route:o}=du(c);return ae(),void j(n,{matches:t,loaderData:{},errors:{[o.id]:e}},{flushSync:h})}if(w.initialized&&!P&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(w.location,n)&&!(o&&o.submission&&gu(o.submission.formMethod)))return void j(n,{matches:u},{flushSync:h});y=new AbortController;let m,v,g=ru(e.history,n,y.signal,o&&o.submission);if(o&&o.pendingError)v={[cu(u).route.id]:o.pendingError};else if(o&&o.submission&&gu(o.submission.formMethod)){let e=await async function(e,t,n,o,a){void 0===a&&(a={});Y();let s,c=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);K({navigation:c},{flushSync:!0===a.flushSync});let d=wu(o,t);if(d.route.action||d.route.lazy){if(s=await ou("action",e,d,o,i,r,l),e.signal.aborted)return{shortCircuited:!0}}else s={type:ud.error,error:uu(405,{method:e.method,pathname:t.pathname,routeId:d.route.id})};if(vu(s)){let e;return e=a&&null!=a.replace?a.replace:s.location===w.location.pathname+w.location.search,await U(w,s,{submission:n,replace:e}),{shortCircuited:!0}}if(mu(s)){let e=cu(o,d.route.id);return!0!==(a&&a.replace)&&(E=td.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:s.error}}}if(fu(s))throw uu(400,{type:"defer-action"});return{pendingActionData:{[d.route.id]:s.data}}}(g,n,o.submission,u,{replace:o.replace,flushSync:h});if(e.shortCircuited)return;m=e.pendingActionData,v=e.pendingActionError,d=Au(n,o.submission),h=!1,g=new Request(g.url,{signal:g.signal})}let{shortCircuited:_,loaderData:b,errors:S}=await async function(t,n,o,r,i,c,d,u,p,h){let f=r||Au(n,i),m=i||c||Eu(f),v=a||s,[g,_]=Zd(e.history,w,o,m,n,P,k,R,D,I,v,l,p,h);if(ae((e=>!(o&&o.some((t=>t.route.id===e)))||g&&g.some((t=>t.route.id===e)))),N=++L,0===g.length&&0===_.length){let e=ee();return j(n,ed({matches:o,loaderData:{},errors:h||null},p?{actionData:p}:{},e?{fetchers:new Map(w.fetchers)}:{}),{flushSync:u}),{shortCircuited:!0}}if(!T){_.forEach((e=>{let t=w.fetchers.get(e.key),n=Mu(void 0,t?t.data:void 0);w.fetchers.set(e.key,n)}));let e=p||w.actionData;K(ed({navigation:f},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},_.length>0?{fetchers:new Map(w.fetchers)}:{}),{flushSync:u})}_.forEach((e=>{C.has(e.key)&&Q(e.key),e.controller&&C.set(e.key,e.controller)}));let b=()=>_.forEach((e=>Q(e.key)));y&&y.signal.addEventListener("abort",b);let{results:E,loaderResults:A,fetcherResults:M}=await G(w.matches,o,g,_,t);if(t.signal.aborted)return{shortCircuited:!0};y&&y.signal.removeEventListener("abort",b);_.forEach((e=>C.delete(e.key)));let S=pu(E);if(S){if(S.idx>=g.length){let e=_[S.idx-g.length].key;I.add(e)}return await U(w,S.result,{replace:d}),{shortCircuited:!0}}let{loaderData:x,errors:O}=su(w,o,g,A,h,_,M,z);z.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&z.delete(t)}))}));let H=ee(),W=te(N),B=H||W||_.length>0;return ed({loaderData:x,errors:O},B?{fetchers:new Map(w.fetchers)}:{})}(g,n,u,d,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,h,m,v);_||(y=null,j(n,ed({matches:u},m?{actionData:m}:{},{loaderData:b,errors:S})))}async function U(o,r,a){let{submission:i,fetcherSubmission:s,replace:c}=void 0===a?{}:a;r.revalidate&&(P=!0);let d=ld(o.location,r.location,{_isRedirect:!0});if(ad(d,"Expected a location on the redirect navigation"),n){let n=!1;if(r.reloadDocument)n=!0;else if(Yd.test(r.location)){const o=e.history.createURL(r.location);n=o.origin!==t.location.origin||null==kd(o.pathname,l)}if(n)return void(c?t.location.replace(r.location):t.location.assign(r.location))}y=null;let u=!0===c?td.Replace:td.Push,{formMethod:p,formAction:h,formEncType:f}=o.navigation;!i&&!s&&p&&h&&f&&(i=Eu(o.navigation));let m=i||s;if(jd.has(r.status)&&m&&gu(m.formMethod))await F(u,d,{submission:ed({},m,{formAction:r.location}),preventScrollReset:A});else{let e=Au(d,i);await F(u,d,{overrideNavigation:e,fetcherSubmission:s,preventScrollReset:A})}}async function G(t,n,o,a,s){let c=await Promise.all([...o.map((e=>ou("loader",s,e,n,i,r,l))),...a.map((t=>{if(t.matches&&t.match&&t.controller)return ou("loader",ru(e.history,t.path,t.controller.signal),t.match,t.matches,i,r,l);return{type:ud.error,error:uu(404,{pathname:t.path})}}))]),d=c.slice(0,o.length),u=c.slice(o.length);return await Promise.all([_u(t,o,d,d.map((()=>s.signal)),!1,w.loaderData),_u(t,a.map((e=>e.match)),u,a.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:c,loaderResults:d,fetcherResults:u}}function Y(){P=!0,k.push(...ae()),D.forEach(((e,t)=>{C.has(t)&&(R.push(t),Q(t))}))}function $(e,t,n){void 0===n&&(n={}),w.fetchers.set(e,t),K({fetchers:new Map(w.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function q(e,t,n,o){void 0===o&&(o={});let r=cu(w.matches,t);J(e),K({errors:{[r.route.id]:n},fetchers:new Map(w.fetchers)},{flushSync:!0===(o&&o.flushSync)})}function X(e){return c.v7_fetcherPersist&&(H.set(e,(H.get(e)||0)+1),W.has(e)&&W.delete(e)),w.fetchers.get(e)||Ud}function J(e){let t=w.fetchers.get(e);!C.has(e)||t&&"loading"===t.state&&O.has(e)||Q(e),D.delete(e),O.delete(e),I.delete(e),W.delete(e),w.fetchers.delete(e)}function Q(e){let t=C.get(e);ad(t,"Expected fetch controller: "+e),t.abort(),C.delete(e)}function Z(e){for(let t of e){let e=Su(X(t).data);w.fetchers.set(t,e)}}function ee(){let e=[],t=!1;for(let n of I){let o=w.fetchers.get(n);ad(o,"Expected fetcher: "+n),"loading"===o.state&&(I.delete(n),e.push(n),t=!0)}return Z(e),t}function te(e){let t=[];for(let[n,o]of O)if(o<e){let e=w.fetchers.get(n);ad(e,"Expected fetcher: "+n),"loading"===e.state&&(Q(n),O.delete(n),t.push(n))}return Z(t),t.length>0}function ne(e){w.blockers.delete(e),B.delete(e)}function oe(e,t){let n=w.blockers.get(e)||Gd;ad("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let o=new Map(w.blockers);o.set(e,t),K({blockers:o})}function re(e){let{currentLocation:t,nextLocation:n,historyAction:o}=e;if(0===B.size)return;B.size>1&&id(!1,"A router only supports one blocker at a time");let r=Array.from(B.entries()),[a,i]=r[r.length-1],s=w.blockers.get(a);return s&&"proceeding"===s.state?void 0:i({currentLocation:t,nextLocation:n,historyAction:o})?a:void 0}function ae(e){let t=[];return z.forEach(((n,o)=>{e&&!e(o)||(n.cancel(),t.push(o),z.delete(o))})),t}function ie(e,t){if(h){return h(e,t.map((e=>function(e,t){let{route:n,pathname:o,params:r}=e;return{id:n.id,pathname:o,params:r,data:t[n.id],handle:n.handle}}(e,w.loaderData))))||e.key}return e.key}function se(e,t){if(p){let n=ie(e,t),o=p[n];if("number"==typeof o)return o}return null}return _={get basename(){return l},get state(){return w},get routes(){return s},get window(){return t},initialize:function(){if(d=e.history.listen((t=>{let{action:n,location:o,delta:r}=t;if(V)return void(V=!1);id(0===B.size||null!=r,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let a=re({currentLocation:w.location,nextLocation:o,historyAction:n});return a&&null!=r?(V=!0,e.history.go(-1*r),void oe(a,{state:"blocked",location:o,proceed(){oe(a,{state:"proceeding",proceed:void 0,reset:void 0,location:o}),e.history.go(r)},reset(){let e=new Map(w.blockers);e.set(a,Gd),K({blockers:e})}})):F(n,o)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(qd);if(n){let e=JSON.parse(n);for(let[n,o]of Object.entries(e||{}))o&&Array.isArray(o)&&t.set(n,new Set(o||[]))}}catch(e){}}(t,S);let e=()=>function(e,t){if(t.size>0){let n={};for(let[e,o]of t)n[e]=[...o];try{e.sessionStorage.setItem(qd,JSON.stringify(n))}catch(e){id(!1,"Failed to save applied view transitions in sessionStorage ("+e+").")}}}(t,S);t.addEventListener("pagehide",e),x=()=>t.removeEventListener("pagehide",e)}return w.initialized||F(td.Pop,w.location),_},subscribe:function(e){return u.add(e),()=>u.delete(e)},enableScrollRestoration:function(e,t,n){if(p=e,f=t,h=n||null,!m&&w.navigation===Fd){m=!0;let e=se(w.location,w.matches);null!=e&&K({restoreScrollPosition:e})}return()=>{p=null,f=null,h=null}},navigate:async function t(n,o){if("number"==typeof n)return void e.history.go(n);let r=Jd(w.location,w.matches,l,c.v7_prependBasename,n,null==o?void 0:o.fromRouteId,null==o?void 0:o.relative),{path:a,submission:i,error:s}=Qd(c.v7_normalizeFormMethod,!1,r,o),d=w.location,u=ld(w.location,a,o&&o.state);u=ed({},u,e.history.encodeLocation(u));let p=o&&null!=o.replace?o.replace:void 0,h=td.Push;!0===p?h=td.Replace:!1===p||null!=i&&gu(i.formMethod)&&i.formAction===w.location.pathname+w.location.search&&(h=td.Replace);let f=o&&"preventScrollReset"in o?!0===o.preventScrollReset:void 0,m=!0===(o&&o.unstable_flushSync),v=re({currentLocation:d,nextLocation:u,historyAction:h});if(!v)return await F(h,u,{submission:i,pendingError:s,preventScrollReset:f,replace:o&&o.replace,enableViewTransition:o&&o.unstable_viewTransition,flushSync:m});oe(v,{state:"blocked",location:u,proceed(){oe(v,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),t(n,o)},reset(){let e=new Map(w.blockers);e.set(v,Gd),K({blockers:e})}})},fetch:function(t,n,d,u){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");C.has(t)&&Q(t);let p=!0===(u&&u.unstable_flushSync),h=a||s,f=Jd(w.location,w.matches,l,c.v7_prependBasename,d,n,null==u?void 0:u.relative),m=md(h,f,l);if(!m)return void q(t,n,uu(404,{pathname:f}),{flushSync:p});let{path:v,submission:g,error:_}=Qd(c.v7_normalizeFormMethod,!0,f,u);if(_)return void q(t,n,_,{flushSync:p});let b=wu(m,v);A=!0===(u&&u.preventScrollReset),g&&gu(g.formMethod)?async function(t,n,o,c,d,u,p){if(Y(),D.delete(t),!c.route.action&&!c.route.lazy){let e=uu(405,{method:p.formMethod,pathname:o,routeId:n});return void q(t,n,e,{flushSync:u})}let h=w.fetchers.get(t);$(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(p,h),{flushSync:u});let f=new AbortController,m=ru(e.history,o,f.signal,p);C.set(t,f);let v=L,g=await ou("action",m,c,d,i,r,l);if(m.signal.aborted)return void(C.get(t)===f&&C.delete(t));if(W.has(t))return void $(t,Su(void 0));if(vu(g))return C.delete(t),N>v?void $(t,Su(void 0)):(I.add(t),$(t,Mu(p)),U(w,g,{fetcherSubmission:p}));if(mu(g))return void q(t,n,g.error);if(fu(g))throw uu(400,{type:"defer-action"});let _=w.navigation.location||w.location,b=ru(e.history,_,f.signal),A=a||s,M="idle"!==w.navigation.state?md(A,w.navigation.location,l):w.matches;ad(M,"Didn't find any matches after fetcher action");let S=++L;O.set(t,S);let x=Mu(p,g.data);w.fetchers.set(t,x);let[T,H]=Zd(e.history,w,M,p,_,P,k,R,D,I,A,l,{[c.route.id]:g.data},void 0);H.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=w.fetchers.get(t),o=Mu(void 0,n?n.data:void 0);w.fetchers.set(t,o),C.has(t)&&Q(t),e.controller&&C.set(t,e.controller)})),K({fetchers:new Map(w.fetchers)});let B=()=>H.forEach((e=>Q(e.key)));f.signal.addEventListener("abort",B);let{results:V,loaderResults:F,fetcherResults:X}=await G(w.matches,M,T,H,b);if(f.signal.aborted)return;f.signal.removeEventListener("abort",B),O.delete(t),C.delete(t),H.forEach((e=>C.delete(e.key)));let J=pu(V);if(J){if(J.idx>=T.length){let e=H[J.idx-T.length].key;I.add(e)}return U(w,J.result)}let{loaderData:Z,errors:ee}=su(w,w.matches,T,F,void 0,H,X,z);if(w.fetchers.has(t)){let e=Su(g.data);w.fetchers.set(t,e)}te(S),"loading"===w.navigation.state&&S>N?(ad(E,"Expected pending action"),y&&y.abort(),j(w.navigation.location,{matches:M,loaderData:Z,errors:ee,fetchers:new Map(w.fetchers)})):(K({errors:ee,loaderData:lu(w.loaderData,Z,M,ee),fetchers:new Map(w.fetchers)}),P=!1)}(t,n,v,b,m,p,g):(D.set(t,{routeId:n,path:v}),async function(t,n,o,a,s,c,d){let u=w.fetchers.get(t);$(t,Mu(d,u?u.data:void 0),{flushSync:c});let p=new AbortController,h=ru(e.history,o,p.signal);C.set(t,p);let f=L,m=await ou("loader",h,a,s,i,r,l);fu(m)&&(m=await yu(m,h.signal,!0)||m);C.get(t)===p&&C.delete(t);if(h.signal.aborted)return;if(W.has(t))return void $(t,Su(void 0));if(vu(m))return N>f?void $(t,Su(void 0)):(I.add(t),void await U(w,m));if(mu(m))return void q(t,n,m.error);ad(!fu(m),"Unhandled fetcher deferred data"),$(t,Su(m.data))}(t,n,v,b,m,p,g))},revalidate:function(){Y(),K({revalidation:"loading"}),"submitting"!==w.navigation.state&&("idle"!==w.navigation.state?F(E||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation}):F(w.historyAction,w.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:X,deleteFetcher:function(e){if(c.v7_fetcherPersist){let t=(H.get(e)||0)-1;t<=0?(H.delete(e),W.add(e)):H.set(e,t)}else J(e);K({fetchers:new Map(w.fetchers)})},dispose:function(){d&&d(),x&&x(),u.clear(),y&&y.abort(),w.fetchers.forEach(((e,t)=>J(t))),w.blockers.forEach(((e,t)=>ne(t)))},getBlocker:function(e,t){let n=w.blockers.get(e)||Gd;return B.get(e)!==t&&B.set(e,t),n},deleteBlocker:ne,_internalFetchControllers:C,_internalActiveDeferreds:z,_internalSetRoutes:function(e){i={},a=fd(e,r,void 0,i)}},_}function Jd(e,t,n,o,r,a,i){let s,l;if(a){s=[];for(let e of t)if(s.push(e),e.route.id===a){l=e;break}}else s=t,l=t[t.length-1];let c=Ld(r||".",Cd(s).map((e=>e.pathnameBase)),kd(e.pathname,n)||e.pathname,"path"===i);return null==r&&(c.search=e.search,c.hash=e.hash),null!=r&&""!==r&&"."!==r||!l||!l.route.index||bu(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),o&&"/"!==n&&(c.pathname="/"===c.pathname?n:Nd([n,c.pathname])),cd(c)}function Qd(e,t,n,o){if(!o||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(o))return{path:n};if(o.formMethod&&(r=o.formMethod,!Vd.has(r.toLowerCase())))return{path:n,error:uu(405,{method:o.formMethod})};var r;let a,i,s=()=>({path:n,error:uu(400,{type:"invalid-body"})}),l=o.formMethod||"get",c=e?l.toUpperCase():l.toLowerCase(),d=hu(n);if(void 0!==o.body){if("text/plain"===o.formEncType){if(!gu(c))return s();let e="string"==typeof o.body?o.body:o.body instanceof FormData||o.body instanceof URLSearchParams?Array.from(o.body.entries()).reduce(((e,t)=>{let[n,o]=t;return""+e+n+"="+o+"\n"}),""):String(o.body);return{path:n,submission:{formMethod:c,formAction:d,formEncType:o.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===o.formEncType){if(!gu(c))return s();try{let e="string"==typeof o.body?JSON.parse(o.body):o.body;return{path:n,submission:{formMethod:c,formAction:d,formEncType:o.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return s()}}}if(ad("function"==typeof FormData,"FormData is not available in this environment"),o.formData)a=au(o.formData),i=o.formData;else if(o.body instanceof FormData)a=au(o.body),i=o.body;else if(o.body instanceof URLSearchParams)a=o.body,i=iu(a);else if(null==o.body)a=new URLSearchParams,i=new FormData;else try{a=new URLSearchParams(o.body),i=iu(a)}catch(e){return s()}let u={formMethod:c,formAction:d,formEncType:o&&o.formEncType||"application/x-www-form-urlencoded",formData:i,json:void 0,text:void 0};if(gu(u.formMethod))return{path:n,submission:u};let p=dd(n);return t&&p.search&&bu(p.search)&&a.append("index",""),p.search="?"+a,{path:cd(p),submission:u}}function Zd(e,t,n,o,r,a,i,s,l,c,d,u,p,h){let f=h?Object.values(h)[0]:p?Object.values(p)[0]:void 0,m=e.createURL(t.location),v=e.createURL(r),g=h?Object.keys(h)[0]:void 0,_=function(e,t){let n=e;if(t){let o=e.findIndex((e=>e.route.id===t));o>=0&&(n=e.slice(0,o))}return n}(n,g),y=_.filter(((e,n)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){let o=!t||n.route.id!==t.route.id,r=void 0===e[n.route.id];return o||r}(t.loaderData,t.matches[n],e)||i.some((t=>t===e.route.id)))return!0;let r=t.matches[n],s=e;return tu(e,ed({currentUrl:m,currentParams:r.params,nextUrl:v,nextParams:s.params},o,{actionResult:f,defaultShouldRevalidate:a||m.pathname+m.search===v.pathname+v.search||m.search!==v.search||eu(r,s)}))})),b=[];return l.forEach(((e,r)=>{if(!n.some((t=>t.route.id===e.routeId)))return;let i=md(d,e.path,u);if(!i)return void b.push({key:r,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(r),p=wu(i,e.path),h=!1;h=!c.has(r)&&(!!s.includes(r)||(l&&"idle"!==l.state&&void 0===l.data?a:tu(p,ed({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},o,{actionResult:f,defaultShouldRevalidate:a})))),h&&b.push({key:r,routeId:e.routeId,path:e.path,matches:i,match:p,controller:new AbortController})})),[y,b]}function eu(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function tu(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}async function nu(e,t,n){if(!e.lazy)return;let o=await e.lazy();if(!e.lazy)return;let r=n[e.id];ad(r,"No route found in manifest");let a={};for(let e in o){let t=void 0!==r[e]&&"hasErrorBoundary"!==e;id(!t,'Route "'+r.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),t||hd.has(e)||(a[e]=o[e])}Object.assign(r,a),Object.assign(r,ed({},t(r),{lazy:void 0}))}async function ou(e,t,n,o,r,a,i,s){let l,c,d;void 0===s&&(s={});let u=e=>{let o,r=new Promise(((e,t)=>o=t));return d=()=>o(),t.signal.addEventListener("abort",d),Promise.race([e({request:t,params:n.params,context:s.requestContext}),r])};try{let o=n.route[e];if(n.route.lazy)if(o){let e,t=await Promise.all([u(o).catch((t=>{e=t})),nu(n.route,a,r)]);if(e)throw e;c=t[0]}else{if(await nu(n.route,a,r),o=n.route[e],!o){if("action"===e){let e=new URL(t.url),o=e.pathname+e.search;throw uu(405,{method:t.method,pathname:o,routeId:n.route.id})}return{type:ud.data,data:void 0}}c=await u(o)}else{if(!o){let e=new URL(t.url);throw uu(404,{pathname:e.pathname+e.search})}c=await u(o)}ad(void 0!==c,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){l=ud.error,c=e}finally{d&&t.signal.removeEventListener("abort",d)}if(null!=(p=c)&&"number"==typeof p.status&&"string"==typeof p.statusText&&"object"==typeof p.headers&&void 0!==p.body){let e,r=c.status;if(Kd.has(r)){let e=c.headers.get("Location");if(ad(e,"Redirects returned/thrown from loaders/actions must have a Location header"),Yd.test(e)){if(!s.isStaticRequest){let n=new URL(t.url),o=e.startsWith("//")?new URL(n.protocol+e):new URL(e),r=null!=kd(o.pathname,i);o.origin===n.origin&&r&&(e=o.pathname+o.search+o.hash)}}else e=Jd(new URL(t.url),o.slice(0,o.indexOf(n)+1),i,!0,e);if(s.isStaticRequest)throw c.headers.set("Location",e),c;return{type:ud.redirect,status:r,location:e,revalidate:null!==c.headers.get("X-Remix-Revalidate"),reloadDocument:null!==c.headers.get("X-Remix-Reload-Document")}}if(s.isRouteRequest){throw{type:l===ud.error?ud.error:ud.data,response:c}}let a=c.headers.get("Content-Type");return e=a&&/\bapplication\/json\b/.test(a)?await c.json():await c.text(),l===ud.error?{type:l,error:new Hd(r,c.statusText,e),headers:c.headers}:{type:ud.data,data:e,statusCode:c.status,headers:c.headers}}var p,h,f;return l===ud.error?{type:l,error:c}:function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(c)?{type:ud.deferred,deferredData:c,statusCode:null==(h=c.init)?void 0:h.status,headers:(null==(f=c.init)?void 0:f.headers)&&new Headers(c.init.headers)}:{type:ud.data,data:c}}function ru(e,t,n,o){let r=e.createURL(hu(t)).toString(),a={signal:n};if(o&&gu(o.formMethod)){let{formMethod:e,formEncType:t}=o;a.method=e.toUpperCase(),"application/json"===t?(a.headers=new Headers({"Content-Type":t}),a.body=JSON.stringify(o.json)):"text/plain"===t?a.body=o.text:"application/x-www-form-urlencoded"===t&&o.formData?a.body=au(o.formData):a.body=o.formData}return new Request(r,a)}function au(e){let t=new URLSearchParams;for(let[n,o]of e.entries())t.append(n,"string"==typeof o?o:o.name);return t}function iu(e){let t=new FormData;for(let[n,o]of e.entries())t.append(n,o);return t}function su(e,t,n,o,r,a,i,s){let{loaderData:l,errors:c}=function(e,t,n,o,r){let a,i={},s=null,l=!1,c={};return n.forEach(((n,d)=>{let u=t[d].route.id;if(ad(!vu(n),"Cannot handle redirect results in processLoaderData"),mu(n)){let t=cu(e,u),r=n.error;o&&(r=Object.values(o)[0],o=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=r),i[u]=void 0,l||(l=!0,a=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(n.error)?n.error.status:500),n.headers&&(c[u]=n.headers)}else fu(n)?(r.set(u,n.deferredData),i[u]=n.deferredData.data):i[u]=n.data,null==n.statusCode||200===n.statusCode||l||(a=n.statusCode),n.headers&&(c[u]=n.headers)})),o&&(s=o,i[Object.keys(o)[0]]=void 0),{loaderData:i,errors:s,statusCode:a||200,loaderHeaders:c}}(t,n,o,r,s);for(let t=0;t<a.length;t++){let{key:n,match:o,controller:r}=a[t];ad(void 0!==i&&void 0!==i[t],"Did not find corresponding fetcher result");let s=i[t];if(!r||!r.signal.aborted)if(mu(s)){let t=cu(e.matches,null==o?void 0:o.route.id);c&&c[t.route.id]||(c=ed({},c,{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(vu(s))ad(!1,"Unhandled fetcher revalidation redirect");else if(fu(s))ad(!1,"Unhandled fetcher deferred data");else{let t=Su(s.data);e.fetchers.set(n,t)}}return{loaderData:l,errors:c}}function lu(e,t,n,o){let r=ed({},t);for(let a of n){let n=a.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(r[n]=t[n]):void 0!==e[n]&&a.route.loader&&(r[n]=e[n]),o&&o.hasOwnProperty(n))break}return r}function cu(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function du(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function uu(e,t){let{pathname:n,routeId:o,method:r,type:a}=void 0===t?{}:t,i="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(i="Bad Request",r&&n&&o?s="You made a "+r+' request to "'+n+'" but did not provide a `loader` for route "'+o+'", so there is no way to handle the request.':"defer-action"===a?s="defer() is not supported in actions":"invalid-body"===a&&(s="Unable to encode submission body")):403===e?(i="Forbidden",s='Route "'+o+'" does not match URL "'+n+'"'):404===e?(i="Not Found",s='No route matches URL "'+n+'"'):405===e&&(i="Method Not Allowed",r&&n&&o?s="You made a "+r.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+o+'", so there is no way to handle the request.':r&&(s='Invalid request method "'+r.toUpperCase()+'"')),new Hd(e||500,i,new Error(s),!0)}function pu(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(vu(n))return{result:n,idx:t}}}function hu(e){return cd(ed({},"string"==typeof e?dd(e):e,{hash:""}))}function fu(e){return e.type===ud.deferred}function mu(e){return e.type===ud.error}function vu(e){return(e&&e.type)===ud.redirect}function gu(e){return zd.has(e.toLowerCase())}async function _u(e,t,n,o,r,a){for(let i=0;i<n.length;i++){let s=n[i],l=t[i];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),d=null!=c&&!eu(c,l)&&void 0!==(a&&a[l.route.id]);if(fu(s)&&(r||d)){let e=o[i];ad(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await yu(s,e,r).then((e=>{e&&(n[i]=e||n[i])}))}}}async function yu(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:ud.data,data:e.deferredData.unwrappedData}}catch(e){return{type:ud.error,error:e}}return{type:ud.data,data:e.deferredData.data}}}function bu(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function wu(e,t){let n="string"==typeof t?dd(t).search:t.search;if(e[e.length-1].route.index&&bu(n||""))return e[e.length-1];let o=Cd(e);return o[o.length-1]}function Eu(e){let{formMethod:t,formAction:n,formEncType:o,text:r,formData:a,json:i}=e;if(t&&n&&o)return null!=r?{formMethod:t,formAction:n,formEncType:o,formData:void 0,json:void 0,text:r}:null!=a?{formMethod:t,formAction:n,formEncType:o,formData:a,json:void 0,text:void 0}:void 0!==i?{formMethod:t,formAction:n,formEncType:o,formData:void 0,json:i,text:void 0}:void 0}function Au(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Mu(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Su(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}const xu=p(null),Tu=p(null),Pu=p({popout:null}),ku=p({enabled:!1,firstActionDelay:0,interval:0}),Ru="showModal",Cu="showPopout",Lu="blockForward",Nu="inflate";function Ou(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.match(/\/:[^\/]+/g))?void 0:t.map((e=>e.replace("/",""))))?n:[]}function Iu(e,t){return Ou(e).reduce(((n,o)=>{const r=o.replace(":","");if(!t[r])throw new Error(`Missing parameter ${r} while building route ${e}`);return n.replace(o,t[r])}),e)}function Du(e,t=[]){return{state:e,match:e.matches.length?e.matches[e.matches.length-1]:void 0,panelsHistory:t}}function Hu(e){return e.state&&Ru in e.state}function Wu(e){return e.state&&Cu in e.state}function zu(){return Math.random().toString(36).substring(2,9)}function Bu(e){const t={keepSearchParams:!0,state:{}};return Object.keys(e).some((e=>e in t))}class Vu{constructor(e){this.actions=e,this.pointer=0,this.resolve=()=>{},this.reject=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}get isMultiAction(){return this.actions.length>1}get donePromise(){return this.promise}get finished(){return this.pointer>=this.actions.length}doNext(){this.finished||(this.actions[this.pointer](),this.pointer+=1),this.finished&&this.resolve()}}class Ku{constructor(e,t,n,o){this.viewHistory=t,this.transactionExecutor=n,this.blockers=new Map,this.blockerId=0,this.router=e,this.setPopout=o}async push(e,t={},n={}){var o;const r=Bu(t),a=l(s({},r?t:n),{replace:Boolean(null==(o=this.router.state.location.state)?void 0:o[Lu])}),i=r?{}:t;await this.navigate(e,a,i)}async replace(e,t={},n={}){const o=Bu(t),r=o?t:n,a=o?{}:t;await this.navigate(e,l(s({},r),{replace:!0}),a)}async back(e=1){0!==e&&await this.go(-Math.abs(e))}async backToFirst(){this.viewHistory.position>0?await this.go(-this.viewHistory.position):await this.transactionExecutor.doNext()}async go(e){0===e?await this.transactionExecutor.doNext():await this.router.navigate(e)}runSync(e){const t=new Vu(e);return this.transactionExecutor.add(t),this.transactionExecutor.doNext(),t.donePromise}async showModal(e){await this.router.navigate(this.router.state.location,{state:{[Ru]:e,[Lu]:!0},replace:Hu(this.router.state.location)})}async hideModal(e=!1){if(!e&&!this.viewHistory.isFirstPage||Hu(this.router.state.location))await this.router.navigate(-1);else{const e=this.router.state.matches.find((e=>"modal"in e.route));if(e){const t=e.route,n=function(e,t){const n=e.route;function o(t){return Object.keys(e.params).map((e=>{var n;return Number(Boolean(null==(n=t.path)?void 0:n.includes(`:${e}`)))})).reduce(((e,t)=>e+t),0)}const r=t.routes.filter((t=>{const o=t,r=Ou(o.path).map((e=>e.replace(":","")));return!o.modal&&o.tab===n.tab&&o.panel===n.panel&&o.view===n.view&&o.root===n.root&&r.every((t=>Object.keys(e.params).includes(t)))})).sort(((e,t)=>o(e)-o(t))).pop();return r&&Iu(r.path,e.params)}(e,this.router);if(!n){const e=t.root?`root: ${t.root} `:"";throw new Error(`There is no route registered for panel with ${e}, view: ${t.view}, panel: ${t.panel}.\nMake sure this route exists or use hideModal with pushPanel set to false.`)}await this.navigate(n,{keepSearchParams:!0})}else await this.transactionExecutor.doNext()}}async showPopout(e){this.setPopout(e);const t={[Cu]:zu(),[Lu]:!0};Hu(this.router.state.location)&&(t[Ru]=this.router.state.location.state[Ru]);const n=Hu(this.router.state.location)||Wu(this.router.state.location);await this.router.navigate(this.router.state.location,{state:t,replace:n})}async hidePopout(){Wu(this.router.state.location)?(this.setPopout(null),Hu(this.router.state.location)?await this.router.navigate(this.router.state.location,{state:{[Lu]:!0,[Ru]:this.router.state.location.state[Ru]},replace:!0}):await this.router.navigate(-1)):await this.transactionExecutor.doNext()}block(e){const t=(++this.blockerId).toString();this.blockers.set(t,e);return this.router.getBlocker("vk-mini-app-navigation-block",(e=>Array.from(this.blockers.values()).some((t=>t(e))))),()=>{this.blockers.delete(t)}}async navigate(e,t,n={}){let o="string"==typeof e?e:e.hasParams?Iu(e.path,n):e.path;(null==t?void 0:t.keepSearchParams)&&(o+=this.router.state.location.search),await this.router.navigate(o,t)}}const ju={background:"#3f5d81 url(https://vk.com/images/error404.png) no-repeat 50% 50%",width:"100%",height:"100%",overflow:"hidden",margin:"0",cursor:"pointer",backgroundSize:"contain"};function Fu({routeNavigator:e}){return Jc("div",{onClick:()=>e.replace("/"),className:"default-not-found",style:ju})}class Uu{constructor(){this.history=[],this.positionInternal=-1}updateNavigation(e){const t=this.getViewRecordFromState(e);if(t)switch(e.historyAction){case td.Push:this.push(t);break;case td.Pop:this.hasKey(t.locationKey)?this.pop(t):this.push(t);break;case td.Replace:this.replace(t)}}get isFirstPage(){return this.positionInternal<1}get panelsHistory(){if(this.positionInternal<0)return[];const e=this.history[this.positionInternal].view,t=this.history.slice(0,this.positionInternal+1).reverse(),n=t.findIndex((t=>t.view!==e));return t.slice(0,n>-1?n:t.length).filter((e=>!e.modal&&!e.popout)).reverse().map((({panel:e})=>e))}get position(){return this.positionInternal}isPopForward(e,t){const n=this.history.findIndex((({locationKey:e})=>e===t));return e===td.Pop&&n>this.position}isPopBackward(e,t){const n=this.history.findIndex((({locationKey:e})=>e===t));return e===td.Pop&&n<=this.position}resetHistory(){this.positionInternal=-1,this.history=[]}push(e){this.history=this.history.slice(0,this.positionInternal+1),this.history.push(e),this.positionInternal=this.history.length-1}replace(e){this.history[this.positionInternal]=e}pop(e){this.positionInternal=this.history.findIndex((({locationKey:t})=>t===e.locationKey))}hasKey(e){return Boolean(this.history.find((({locationKey:t})=>t===e)))}getViewRecordFromState(e){var t;const n=Du(e);if(!n.match)return;const{route:o}=n.match;return{view:o.view,panel:o.panel,modal:"modal"in o?o.modal:void 0,popout:null==(t=e.location.state)?void 0:t[Cu],locationKey:e.location.key}}}const Gu=[];class Yu{constructor(e){this.forceUpdate=e,this.transactions=[]}get initialDelay(){return this.transactions.length>1||this.transactions.length>0&&this.transactions[0].isMultiAction?100:0}add(e){this.transactions.push(e),this.forceUpdate()}async doNext(){setTimeout((()=>{this.transactions.length&&(this.transactions[0].doNext(),this.transactions[0].finished&&this.transactions.shift())}))}}function $u(e=""){const t="string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams;return new URLSearchParams(t?e:function(e){return Object.keys(e).reduce(((t,n)=>{const o=e[n];return t.concat(Array.isArray(o)?o.map((e=>[n,e])):[[n,o]])}),[])}(e))}function qu(e,t){return e.map((e=>{const n=l(s({},e),{parents:t});return e.children?qu(e.children,[...t,n]):n})).flat()}function Xu(e,t,n,o){var r,a,i;const s=qu(e,[]),l=n.state.location,c=null!=(a=null==(r=n.match)?void 0:r.params)?a:{},d=null==(i=n.match)?void 0:i.route.path,u=s.find((e=>e.path===d));if(!u)return;const p=u.parents.map((({path:e})=>Iu(e,c)));setTimeout((()=>{if(p.length){const e=$u(l.search);e.delete(Nu);const n=e.toString().length>0?`?${e.toString()}`:"",r=`${l.pathname}${n}${l.hash}`,a=p.shift(),i=[()=>t.replace(a),...p.map((e=>()=>t.push(e))),()=>t.push(r)],s=new Vu(i);o.add(s),o.doNext()}}))}function Ju({router:e,children:t,notFound:n,hierarchy:o,notFoundRedirectPath:r,interval:a=400,useBridge:i=!0,throttled:c=!0}){var d,u;const p=function(){const[,e]=b(0);return()=>{e(Date.now())}}(),[h,f]=b(null),[m]=b(new Uu),[g,_]=b([]),[w,E]=b(new Yu(p)),A=null==(d=e.state.location.state)?void 0:d[Cu],M=y((()=>{const t=new Ku(e,m,w,f);return{router:e,routeNavigator:t,viewHistory:m}}),[e,m,w,f]),S=y((()=>({enabled:c||Boolean(w.initialDelay),firstActionDelay:w.initialDelay,interval:a})),[w.initialDelay,a,c]),x=y((()=>Du(e.state,g)),[e.state,g]),T=y((()=>({popout:A?h:null})),[A,h]);!function(e,t,n){v((()=>{const e=n.block((({historyAction:e,nextLocation:n})=>{var o;const r=t.isPopForward(e,n.key)&&"default"!==n.key;return Boolean(r&&(null==(o=n.state)?void 0:o[Lu]))}));return()=>e()}),[n,t]),v((()=>{e.subscribe((n=>{var o,r,a,i,l,c,d;const u=n.location.key;if(t.isPopBackward(n.historyAction,u)&&(null==(o=n.location.state)?void 0:o[Lu])&&!Gu.includes(u)){Gu.push(u);const t=s({},window.history.state);(null==(r=t.usr)?void 0:r[Ru])&&(t.usr=s({},t.usr),null==(a=t.usr)||delete a[Ru],null==(i=t.usr)||delete i[Lu]),(null==(l=t.usr)?void 0:l[Cu])&&(t.usr=s({},t.usr),null==(c=t.usr)||delete c[Cu],null==(d=t.usr)||delete d[Lu]),window.history.replaceState(t,""),e.navigate(-1).then((()=>Gu.splice(Gu.findIndex((e=>e===u)),1)))}}))}),[e,t])}(e,m,M.routeNavigator),v((()=>{m.resetHistory(),m.updateNavigation(l(s({},e.state),{historyAction:td.Push})),_(m.panelsHistory),e.subscribe((e=>{m.updateNavigation(e),_(m.panelsHistory),w.doNext()})),i&&(ut.subscribe((t=>{"VKWebAppChangeFragment"===t.detail.type&&e.navigate(t.detail.data.location,{replace:!0})})),e.subscribe((t=>{const n=e.createHref(t.location).replace(/^#/,"");ut.send("VKWebAppSetLocation",{location:n,replace_state:!0})})));const t=new Yu(p);E(t);const n=$u(e.state.location.search),r=Boolean(n.get(Nu));o&&r&&Xu(o,M.routeNavigator,x,t)}),[e]);const P=Boolean(!x.match||x.state.errors&&x.state.errors[x.match.route.id]&&404===x.state.errors[x.match.route.id].status);return r&&(P||"*"===(null==(u=x.match)?void 0:u.route.path))&&(e.state.location.pathname===r||M.routeNavigator.replace(r)),Jc(xu.Provider,{value:M,children:Jc(ku.Provider,{value:S,children:Jc(Pu.Provider,{value:T,children:[P&&(n||Jc(Fu,{routeNavigator:M.routeNavigator})),!P&&Jc(Tu.Provider,{value:x,children:t})]})})})}const Qu=()=>{};function Zu(e){const{enabled:t,interval:n,firstActionDelay:o}=h(ku),r=g(null),a=h(e),i=g(0),s=g(0),l=g(null),[c,d]=b(a);if(!t){const e=r.current;return r.current=a,[a,e,Qu]}v((()=>{const e=Date.now()-i.current,t=n-e,r=t<=0?o:0,c=Math.max(r,t);return c<=0?(i.current=Date.now(),d(a)):(clearTimeout(s.current),l.current=()=>{l.current=null,i.current=Date.now(),d(a)},s.current=setTimeout(l.current,c)),()=>clearTimeout(s.current)}),[a]);const u=_((()=>(i.current=0,l.current&&(clearTimeout(s.current),s.current=setTimeout(l.current,1)),()=>clearTimeout(s.current))),[]),p=r.current;return r.current=c,[c,p,u]}function ep(){const[e]=Zu(xu);return ad(e,"You can not use useNavigator hook outside of RouterContext. Make sure calling it inside RouterProvider."),e.routeNavigator}function tp(){const[e]=Zu(Tu);return ad(e,"You can not use useLocation hook outside of RouteContext. Make sure calling it inside RouterProvider."),e.state.location}function np(){const[e]=Zu(Pu);return e.popout}function op(e,{relative:t}={}){const{router:{state:{matches:n}}}=h(xu),{pathname:o}=tp(),r=JSON.stringify(Cd(n).map((e=>e.pathnameBase)));return y((()=>Ld(e,JSON.parse(r),o,"path"===t)),[e,r,o,t])}function rp(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}const ap=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ip="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;E((function(e,t){var n=e,{to:o,relative:r,replace:a,target:i,reloadDocument:d,onClick:u}=n,p=c(n,["to","relative","replace","target","reloadDocument","onClick"]);let f,m=!1;if("string"==typeof o&&ap.test(o)&&(f=o,ip)){const e=new URL(window.location.href),t=o.startsWith("//")?new URL(e.protocol+o):new URL(o),n=t.pathname;t.origin===e.origin?o=n+t.search+t.hash:m=!0}const v=function(e,{relative:t}={}){const n=h(xu);ad(n,"You can not use useHref hook outside of RouteContext. Make sure calling it inside RouterProvider.");const{hash:o,pathname:r,search:a}=op(e,{relative:t});return n.router.createHref({pathname:r,search:a,hash:o})}(o,{relative:r}),g=function(e,{target:t,replace:n,preventScrollReset:o,relative:r}={}){const a=ep(),i=tp(),s=op(e,{relative:r});return _((e=>{if(rp(e,t)){e.preventDefault();const t=cd(s);(void 0!==n?n:cd(i)===t)?a.replace(t):a.push(t)}}),[i,a,s,n,t,e,o,r])}(o,{replace:a,target:i,relative:r});return Jc(tc,l(s({},p),{href:f||v,onClick:m||d?u:function(e){u&&u(e),e.defaultPrevented||g(e)},ref:t,target:i}))}));class sp{constructor(e){this._value=e}static init(e){sp._instance||(sp._instance=new sp(e))}static get value(){var e;return null==(e=sp._instance)?void 0:e._value}}function lp(){var e,t;const[n]=Zu(Tu),o=np(),{match:r,state:a,panelsHistory:i}=n,s=null==r?void 0:r.route,l=null!=(t=null==(e=a.location.state)?void 0:e[Ru])?t:s&&"modal"in s?s.modal:void 0;return{root:s&&"root"in s?s.root:void 0,view:null==s?void 0:s.view,panel:null==s?void 0:s.panel,tab:null==s?void 0:s.tab,modal:l,hasOverlay:Boolean(l||o),panelsHistory:i}}const cp="schedule",dp="contacts",up="marks",pp="settings",hp="login",fp="attestation",mp="notifications",vp=function(e){window.addEventListener("popstate",(e=>{e.state||window.history.replaceState({key:zu()},"")}));const t=rd();return sp.init(t.location),Xd({history:t,routes:e.map((e=>l(s({},e),{index:!0})))}).initialize()}([{path:"/",panel:hp,view:cp},{path:"/schedule",panel:cp,view:cp},{path:"/contacts",panel:dp,view:cp},{path:"/marks",panel:up,view:cp},{path:"/settings",panel:pp,view:cp},{path:"/attestation",panel:fp,view:cp},{path:"/notifications",panel:mp,view:cp}]),gp=({size:e,mode:t})=>{switch(t){case"panel":return Jc(xc,{size:e});case"screen":return Jc(ts,{size:e});default:return Jc(Ho,{size:e})}},_p=({children:e,size:t="regular",id:n,mode:o="panel"})=>Jc(U,{fallback:Jc(gp,{size:t,mode:o}),children:e},n),yp={},bp=function(e,t,n){if(!t||0===t.length)return e();const o=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in yp)return;yp[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(!!n)for(let n=o.length-1;n>=0;n--){const r=o[n];if(r.href===e&&(!t||"stylesheet"===r.rel))return}else if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((t,n)=>{a.addEventListener("load",t),a.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},wp=G((()=>bp((()=>import("./Contacts-G359hKWR.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])))),Ep=G((()=>bp((()=>import("./Schedule-1n2AQngq.js")),__vite__mapDeps([12,2,13,14,15,16,17,1,3,18,19,20,21,22,23,24,8,9,25,26,27,28])))),Ap=G((()=>bp((()=>import("./Marks--0LYv_Zn.js")),__vite__mapDeps([29,1,2,3,21,22,23,8,9,13,14,4,5,6,7,10,30,31,28,26,27,32])))),Mp=G((()=>bp((()=>import("./Settings-528Y7em2.js")),__vite__mapDeps([33,1,2,3,15,16,13,14,34,35,8,9,28,26,27,36])))),Sp=G((()=>bp((()=>import("./LoginForm-HeMJYaaQ.js")),__vite__mapDeps([37,13,2,14,1,3,38,15,16,39,24,8,9,28,26,27,40])))),xp=G((()=>bp((()=>import("./Attestation-2vz19QMS.js")),__vite__mapDeps([41,13,2,14,1,3,19,20,6,7,22,8,9,25,26,27])))),Tp=G((()=>bp((()=>import("./Notifications-pEDW_2L3.js")),__vite__mapDeps([42,13,2,14,1,3,19,20,6,7,22,8,9,28,26,27])))),Pp={display:"inline-block",verticalAlign:"middle",position:"relative",top:-1,color:"var(--vkui--color_icon_secondary)",marginLeft:5},kp=({text:e,tooltipContent:t})=>{const n=Jc(Cn,{style:{padding:"8px ",color:"var(--vkui--color_text_primary)"},children:t});return Jc(Sn,{children:[e,Jc(zc,{style:{maxWidth:220},action:"hover",content:n,children:Jc(Y,{style:Pp})})]})},Rp={margin:"5px 0",display:"inline-block",padding:"3px 5px",borderRadius:"5px"},Cp=({lessonDate:e,startTime:t,endTime:n})=>{if(!e||!t||!n)return null;const o=new Date,r=Qc(n,e),a=Qc(t,e);if(!r)return null;const i=((e,t,n)=>{const o=(n.getTime()-e.getTime())/6e4;if(o>90||e>t)return null;if(e<n)return`${Math.floor(o)} мин до начала`;if(e<t){const n=(t.getTime()-e.getTime())/6e4;return`${Math.floor(n)} мин до конца`}})(o,r,a);if(!i)return null;const c=parseInt(i,10)<30;return Jc("div",{style:l(s({},Rp),{border:c?"1px solid var(--vkui--color_background_negative)":"1px solid var(--vkui--color_accent_violet)",color:c?"var(--vkui--color_background_negative)":"var(--vkui--color_accent_violet)"}),children:i})},Lp={name:"",gradebook:{id:0,lessonType:"",tasks:[],themes:[]},timetable:{classroom:{building:"",id:0,name:""},teacher:{id:0,lastName:"",firstName:"",middleName:""}},startTime:"",endTime:""},Np=(({initialState:e})=>{const t={state:e,setState:e=>{t.state=e,t.listeners.forEach((e=>e()))},getState:()=>t.state,listeners:new Set,subscribe:e=>(t.listeners.add(e),()=>{t.listeners.delete(e)})};return t})({initialState:Lp}),Op=()=>({modal:$(Np.subscribe,Np.getState),setData:e=>Np.setState(e)}),Ip=({lessonMainInfo:e})=>Jc(kl,{header:Jc(dl,{mode:"tertiary",children:Jc(kp,{text:"Основная информация",tooltipContent:"Вся информация берется из оригинального дневника и отображается здесь"})}),children:[Jc($l,{multiline:!0,children:Jc(Jl,{header:"Предмет",children:e.name})}),Jc($l,{children:Jc(Jl,{header:"Тип занятия",children:Kc[e.lessonType]})}),Jc($l,{multiline:!0,children:Jc(Jl,{header:"Тема",children:e.themes?e.themes.map((e=>(e=>{const t=/(https?:\/\/\S+)/g;return e.split(t).map(((e,n)=>e.match(t)?Jc(tc,{href:e,target:"_blank",children:e},n):e))})(e))):"Не указана"})}),Jc($l,{children:Jc(Jl,{header:"Преподаватель",children:e.teacherName})})]}),Dp=({lessonTimePlaceInfo:e})=>Jc(kl,{header:Jc(dl,{mode:"tertiary",children:"Куда бежать"}),children:[Jc($l,{children:Jc(Jl,{header:Jc(kp,{text:"Аудитория",tooltipContent:"Если аудитория не указана, возможно, пара будет удалённо"}),children:0===Number(e.classroomName)?Jc(kp,{text:"ДО",tooltipContent:"Пара будет удалённо или будет задано домашнее задание. Уточните у куратора или проверьте в оригинальном дневнике."}):e.classroomName})}),Jc($l,{children:Jc(Jl,{header:Jc(kp,{text:"Время",tooltipContent:"Если время не указано или некорректно, вы увидите текст с ошибкой"}),children:[e.startTime," - ",e.endTime]})})]}),Hp=({tasks:e})=>Jc(L,{children:null==e?void 0:e.map(((e,t)=>Jc(L,{children:[Jc($l,{multiline:!0,after:Jc(Zc,{mark:qc(e),size:"s"}),children:[Jc(Jl,{header:"Тип работы",children:Bc[e.type]}),Jc(Jl,{style:{marginTop:10},header:"Описание",children:Jc(Sn,{children:null==e?void 0:e.topic})})]},`${null==e?void 0:e.topic}_${t}`),Jc(Ca,{size:16,children:Jc(ka,{})})]})))}),Wp=({tasks:e,absenceType:t})=>{const n=null==e?void 0:e.length,o=t;if(n||o)return Jc(kl,{header:Jc(dl,{mode:"tertiary",children:Jc(kp,{text:"Успеваемость",tooltipContent:"Информация может быть неактуальной. При возникновении неточностей можете обратиться к нам"})}),children:[n&&Jc(Hp,{tasks:e}),o&&Jc($l,{after:Jc(Zc,{mark:jc[t],size:"s"}),children:Fc[t]})]})},zp=({id:e})=>{const{modal:t}=Op(),[n,o]=b(Lp),[r,a]=b({}),[i,s]=b({});return v((()=>{if(t){const{lessonData:e,lessonMainInfo:n,lessonTimePlaceInfo:r}=(e=>{var t,n,o,r,a,i,s;const{name:l,endTime:c,startTime:d,timetable:u,gradebook:p,tasks:h}=e,f=(e=>{let t=e;if(t.includes("/")){const[e,...n]=t.split("/");t=`${e} (${n.join("/")})`.trim()}return t})(l);return{lessonData:{name:f,gradebook:{absenceType:null==p?void 0:p.absenceType,id:(null==p?void 0:p.id)||0,lessonType:(null==p?void 0:p.lessonType)||"Не задан",tasks:h,themes:null==p?void 0:p.themes},timetable:{classroom:{id:0,building:"",name:(null==(t=null==u?void 0:u.classroom)?void 0:t.name)||"Нет кабинета"},teacher:{id:(null==(n=null==u?void 0:u.teacher)?void 0:n.id)||0,lastName:(null==(o=null==u?void 0:u.teacher)?void 0:o.lastName)||"",firstName:(null==(r=null==u?void 0:u.teacher)?void 0:r.firstName)||"",middleName:(null==(a=null==u?void 0:u.teacher)?void 0:a.middleName)||""}},startTime:d||"Что-то не так с датой",endTime:c||"Что-то не так с датой"},lessonMainInfo:{name:f,lessonType:(null==p?void 0:p.lessonType)||"Не задан",themes:null==p?void 0:p.themes,teacherName:(null==(i=null==u?void 0:u.teacher)?void 0:i.firstName)?`${u.teacher.lastName} ${u.teacher.firstName} ${u.teacher.middleName}`:"Не указан"},lessonTimePlaceInfo:{startTime:d||"Ошибка",endTime:c||"Ошибка",classroomName:(null==u?void 0:u.classroom)&&(null==(s=null==u?void 0:u.classroom)?void 0:s.name)||"Нет кабинета"}}})(t);o(e),a(n),s(r)}}),[t]),Jc(Is,{id:e,size:500,dynamicContentHeight:!0,children:[Jc(zs,{children:"Подробнее о паре"}),Jc(Ip,{lessonMainInfo:r}),Jc(Dp,{lessonTimePlaceInfo:i}),Jc(Wp,{tasks:n.gradebook.tasks,absenceType:n.gradebook.absenceType})]})},Bp="lesson",Vp=Object.freeze(Object.defineProperty({__proto__:null,MODAL_COLLEGE_INFO:"college",MODAL_PAGE_LESSON:Bp,default:()=>{const e=ep(),{modal:t}=lp();return Jc(ws,{activeModal:t,onClose:()=>e.hideModal(),children:Jc(zp,{id:Bp})})}},Symbol.toStringTag,{value:"Module"})),Kp=({lessonDayOfWeek:e,formattedLessonDate:t,displayDayStyles:n,displayDay:o})=>Jc(dl,{mode:"secondary",aside:o&&Jc(On,{style:n,children:o}),children:[e&&`${e}. `,t]}),jp={red:{background:"#DA0A35",border:"1px solid #DA0A35",color:"white"},green:{background:"green",border:"1px solid green",color:"white"},"green-outline":{color:"green",borderRadius:"5px",border:"1px solid green"},"yellow-outline":{borderRadius:"5px",border:"1px solid #ffb060",color:"#ffb060"},"red-outline":{borderRadius:"5px",border:"1px solid #DA0A35",color:"#DA0A35"},yellow:{backgroundColor:"#ffb060",borderRadius:"5px",border:"1px solid #ffb060",color:"white"}},Fp={background:"transparent",border:"1px solid var(--vkui--color_background_accent_themed)",color:"var(--vkui--color_background_accent_themed)"},Up=A((e=>{var t=e,{children:n,color:o="default",style:r}=t,a=c(t,["children","color","style"]);const i=s(s({},(e=>{var t;const n=null!=(t=jp[e])?t:Fp;return s({display:"inline-block",borderRadius:"5px",padding:"3px 5px"},n)})(o)),r);return y((()=>Jc("div",l(s({},a),{style:i,children:n}))),[o,n])})),Gp=({gradebook:e,lessonDate:t,startTime:n,endTime:o})=>Jc("div",{children:[Jc("div",{style:{display:"flex",alignItems:"center"},children:[(null==e?void 0:e.lessonType)&&Jc(Up,{style:{margin:"5px 5px 5px 0px"},children:Kc[null==e?void 0:e.lessonType]}),(null==e?void 0:e.absenceType)&&Jc(Up,{color:"IsLate"===e.absenceType?"yellow":"red",children:jc[null==e?void 0:e.absenceType]})]}),Jc(Cp,{lessonDate:t,startTime:n,endTime:o})]}),Yp=({lessonDate:e,lesson:t,handleLessonClick:n})=>{var o,r,a,i,s,l;const{name:c,endTime:d,startTime:u,timetable:p,gradebook:h}=t,f=u?`${u} — ${d}, каб. ${0===Number(null==(o=null==p?void 0:p.classroom)?void 0:o.name)?"ДО":null==(r=null==p?void 0:p.classroom)?void 0:r.name}`:"Нет данных",m=(null==p?void 0:p.teacher)?`${null==(a=p.teacher)?void 0:a.lastName} ${null==(i=p.teacher)?void 0:i.firstName[0]}. ${null==(s=p.teacher)?void 0:s.middleName[0]}.`:"Не указан";return c&&Jc($l,{className:"lesson",onClick:()=>n(c,d,u,p,h),subtitle:!c||Jc("div",{children:[Jc(Gp,{gradebook:h,lessonDate:e,startTime:u,endTime:d}),Jc("div",{children:f}),Jc("div",{style:{marginBottom:5,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Jc("div",{children:m}),Jc("div",{style:{display:"flex"},children:null==(l=null==h?void 0:h.tasks)?void 0:l.map(((e,t)=>(e.isRequired||qc(e))&&Jc(Zc,{useMargin:!0,mark:qc(e),size:"s"},t)))})]})]}),children:c},u)},$p=A((({lesson:e})=>{const t=ep(),{setData:n}=Op(),o=_(((e,o,r,i,s)=>{t.showModal(Bp);const l=a.toISOString(),c={name:e,endTime:o,startTime:r,timetable:i,gradebook:s,tasks:null==s?void 0:s.tasks,lessonId:l};n(c)}),[]),r=new Date,a=new Date(e.date),i=(s=e.date,new Date(s).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}));var s;const l=a.toLocaleString("default",{weekday:"long"}),c=(e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()})(a),d={color:c?"var(--vkui--color_background_accent)":void 0,padding:"3px 5px",borderRadius:"5px",border:"1px solid "+(c?"var(--vkui--color_background_accent)":"#888888")},u=c?"Сегодня":r>a?" День завершён":void 0,p=y((()=>e.lessons&&e.lessons.length>0?e.lessons.map((e=>Jc(Yp,{lessonDate:a,lesson:e,handleLessonClick:o},e.lessonId))):Jc(fc,{children:"Пар нет"})),[e.lessons,a,o]);return Jc(Fs,{className:"lessonCard",children:Jc(kl,{header:Jc(Kp,{lessonDayOfWeek:l,formattedLessonDate:i,displayDayStyles:d,displayDay:u}),children:p})},e.date)})),qp=A((({lessonsState:e})=>Jc(Xs,{size:"l",spaced:!0,children:(null==e?void 0:e.length)&&(null==e?void 0:e.length)>0&&(null==e?void 0:e.map(((e,t)=>Jc($p,{lesson:e},`${e.date}_${t}`))))}))),Xp=Object.freeze(Object.defineProperty({__proto__:null,default:qp},Symbol.toStringTag,{value:"Module"})),Jp=Jc(Ec,{before:Jc(q,{}),children:"Нет оценок"}),Qp=({marks:e})=>e?Jc(Ec,{textWrap:"full",before:Jc(X,{}),style:{marginTop:5},after:Gc(e),children:"Средний балл:"}):Jp;var Zp="undefined"!=typeof window?m:v,eh={type:null,viewportWidth:0,viewportHeight:0},th=function(){var e=b(eh),t=e[0],n=e[1];return Zp((function(){var e=function(e){if("viewport_width"in e&&"viewport_height"in e){var t=function(e){var t=e.adaptivity,n=e.viewport_width,o=e.viewport_height,r={type:null,viewportWidth:isFinite(n)?Number(n):0,viewportHeight:isFinite(o)?Number(o):0};switch(t){case"force_mobile":case"force_mobile_compact":case"adaptive":r.type=t}return r}(e);t&&n(t)}},t=function(t){var n=t.detail,o=n.type,r=n.data;"VKWebAppUpdateConfig"===o&&e(r)};return ut.subscribe(t),ut.send("VKWebAppGetConfig").then(e).catch(console.error),function(){ut.unsubscribe(t)}}),[]),t};var nh=function(){var e=b(null),t=e[0],n=e[1];return Zp((function(){if(ut.isEmbedded()){var e=function(e){var t=function(e){var t=e.scheme,n=e.appearance;if(n)return n;return"space_gray"===t||"vkcom_dark"===t?"dark":"light"}(e);t&&n(t)},t=function(t){var n=t.detail,o=n.type,r=n.data;"VKWebAppUpdateConfig"===o&&"appearance"in r&&"scheme"in r&&e(r)};return ut.subscribe(t),ut.send("VKWebAppGetConfig").then(e).catch(console.error),function(){return ut.unsubscribe(t)}}}),[]),t};var oh=function(){return oh=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},oh.apply(this,arguments)},rh=function(){var e=b(null),t=e[0],n=e[1];return Zp((function(){var e=function(e){var t=function(e){var t=e.detail,n=t.type,o=t.data;switch(n){case"VKWebAppUpdateInsets":case"VKWebAppUpdateConfig":if(!("insets"in o))return null;var r=o.insets;if(r)return oh(oh({},r),{bottom:r.bottom>150?0:r.bottom})}return null}(e);t&&n(t)};return ut.subscribe(e),function(){ut.unsubscribe(e)}}),[]),t};const ah=G((()=>bp((()=>import("./App-pK6HLDIO.js")),__vite__mapDeps([43,44,2,45,1,3,38,15,16,39,46])))),ih=G((()=>bp((()=>import("./NotFound-dzAFj5vi.js")),__vite__mapDeps([47,44,2,45,13,14,6,7]))));ut.send("VKWebAppInit");const sh=()=>{const e=jn(),t=nh()||void 0;return Jc(Oc,{appearance:t,isWebView:ut.isWebView(),platform:e,children:Jc(ih,{})})};J(Jc(_p,{id:"AppWrapper",mode:"screen",children:Jc((()=>{const e=jn(),t=(({type:e,viewportWidth:t,viewportHeight:n})=>{switch(e){case"adaptive":return{viewWidth:Yt(t),viewHeight:qt(n)};case"force_mobile":case"force_mobile_compact":return{viewWidth:zt.MOBILE,sizeX:jt.COMPACT,sizeY:"force_mobile_compact"===e?jt.COMPACT:jt.REGULAR};default:return{}}})(th()),n=nh()||void 0;return Jc(Sc,l(s({},t),{children:Jc(Ju,{router:vp,notFound:Jc(sh,{}),children:Jc(_p,{id:"app",mode:"screen",children:Jc(Oc,{appearance:n,platform:e,isWebView:ut.isWebView(),children:Jc(ah,{})})})})}))}),{})}),document.getElementById("app"));export{Un as $,jc as A,xo as B,Fs as C,Pi as D,kp as E,On as F,kl as G,dl as H,Si as I,Fo as J,dn as K,tc as L,Ec as M,Ri as N,Bn as O,xc as P,Me as Q,un as R,$l as S,Sn as T,Oi as U,Ai as V,jt as W,Oe as X,Kn as Y,Io as Z,bp as _,lp as a,to as a0,ts as a1,Cn as a2,Jl as a3,wn as a4,Vn as a5,be as a6,cp as a7,Up as a8,zt as a9,St as aA,Zt as aB,cn as aC,ln as aD,Dn as aE,Ct as aF,mn as aG,Uc as aH,fe as aI,Sp as aJ,Ep as aK,Ap as aL,xp as aM,Tp as aN,wp as aO,Mp as aP,Gr as aQ,Wo as aR,Mt as aS,Po as aT,Ko as aU,Vp as aV,Xp as aW,Tn as aa,si as ab,Xn as ac,Se as ad,ni as ae,vt as af,zo as ag,To as ah,Qt as ai,ci as aj,di as ak,ui as al,Ma as am,np as an,rh as ao,hp as ap,up as aq,fp as ar,mp as as,dp as at,pp as au,zn as av,tn as aw,ko as ax,Rt as ay,Tt as az,ep as b,ye as c,_p as d,fc as e,Vc as f,Zc as g,Ho as h,gn as i,ut as j,Xs as k,Qp as l,jn as m,sn as n,mt as o,Bo as p,gt as q,Fn as r,xt as s,Lt as t,Jc as u,no as v,No as w,oo as x,nn as y,Yn as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Contacts-G359hKWR.js","assets/Panel-QWgBTGN8.js","assets/@vkontakte/icons-Hmxnb1rK.js","assets/Panel-oAJCpymk.css","assets/Avatar-X0XfkpYb.js","assets/Avatar--zJHbX4u.css","assets/Div-aB5xY7rY.js","assets/Div-T3SmsJ_a.css","assets/PanelHeaderWithBack-MH-2GNqv.js","assets/PanelHeaderWithBack-XH7ZWitj.css","assets/winx48-J7pHJFzG.js","assets/Contacts-hZ2ApJBL.css","assets/Schedule-1n2AQngq.js","assets/Button-bI8mAd_C.js","assets/Button-rqg9enaV.css","assets/IconButton-OskKUmU3.js","assets/IconButton-o66KX8CX.css","assets/View-t4zlr6-E.js","assets/View-VM84pLdz.css","assets/ButtonGroup-4bg9PBfe.js","assets/ButtonGroup-uhzZ_hd1.css","assets/getPerformance-g1cYj3FL.js","assets/makeRequest-hnqlHHd1.js","assets/getPerformance-ilhnuS_c.css","assets/_commonjsHelpers-uzQt2zA1.js","assets/useRateLimitExceeded-5UmUJrSL.js","assets/Snackbar-a9j_Cux_.js","assets/Snackbar-WKdkKi40.css","assets/useSnackbar-VhiceFc0.js","assets/Marks--0LYv_Zn.js","assets/HorizontalScroll-QF3GDDJv.js","assets/HorizontalScroll-RrdsbGHl.css","assets/Marks-0okDuuXK.css","assets/Settings-528Y7em2.js","assets/Caption-Tqc2m0m-.js","assets/Caption-ZGkJl_LD.css","assets/Settings-kD_OuDmF.css","assets/LoginForm-HeMJYaaQ.js","assets/Removable-WSMQTmng.js","assets/Removable-G9dN__yA.css","assets/LoginForm-1Ejptg3P.css","assets/Attestation-2vz19QMS.js","assets/Notifications-pEDW_2L3.js","assets/App-pK6HLDIO.js","assets/AppRoot-K9-orA2E.js","assets/AppRoot-QHUqF2Vu.css","assets/App-GVEUhRm7.css","assets/NotFound-dzAFj5vi.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}